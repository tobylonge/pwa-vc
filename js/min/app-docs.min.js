!function(){"use strict";function a(a){return a.split("").reverse().join("")}function b(a,b){return a.substring(0,b.length)===b}function c(a,b){return a.slice(-1*b.length)===b}function d(a,b,c){if((a[b]||a[c])&&a[b]===a[c])throw new Error(b)}function e(a){return"number"==typeof a&&isFinite(a)}function f(a,b){var c=Math.pow(10,b);return(Math.round(a*c)/c).toFixed(b)}function g(b,c,d,g,h,i,j,k,l,m,n,o){var p,q,r,s=o,t="",u="";return i&&(o=i(o)),e(o)?(b!==!1&&0===parseFloat(o.toFixed(b))&&(o=0),0>o&&(p=!0,o=Math.abs(o)),b!==!1&&(o=f(o,b)),o=o.toString(),-1!==o.indexOf(".")?(q=o.split("."),r=q[0],d&&(t=d+q[1])):r=o,c&&(r=a(r).match(/.{1,3}/g),r=a(r.join(a(c)))),p&&k&&(u+=k),g&&(u+=g),p&&l&&(u+=l),u+=r,u+=t,h&&(u+=h),m&&(u=m(u,s)),u):!1}function h(a,d,f,g,h,i,j,k,l,m,n,o){var p,q="";return n&&(o=n(o)),o&&"string"==typeof o?(k&&b(o,k)&&(o=o.replace(k,""),p=!0),g&&b(o,g)&&(o=o.replace(g,"")),l&&b(o,l)&&(o=o.replace(l,""),p=!0),h&&c(o,h)&&(o=o.slice(0,-1*h.length)),d&&(o=o.split(d).join("")),f&&(o=o.replace(f,".")),p&&(q+="-"),q+=o,q=q.replace(/[^0-9\.\-.]/g,""),""===q?!1:(q=Number(q),j&&(q=j(q)),e(q)?q:!1)):!1}function i(a){var b,c,e,f={};for(b=0;b<l.length;b+=1)if(c=l[b],e=a[c],void 0===e)"negative"!==c||f.negativeBefore?"mark"===c&&"."!==f.thousand?f[c]=".":f[c]=!1:f[c]="-";else if("decimals"===c){if(!(e>=0&&8>e))throw new Error(c);f[c]=e}else if("encoder"===c||"decoder"===c||"edit"===c||"undo"===c){if("function"!=typeof e)throw new Error(c);f[c]=e}else{if("string"!=typeof e)throw new Error(c);f[c]=e}return d(f,"mark","thousand"),d(f,"prefix","negative"),d(f,"prefix","negativeBefore"),f}function j(a,b,c){var d,e=[];for(d=0;d<l.length;d+=1)e.push(a[l[d]]);return e.push(c),b.apply("",e)}function k(a){return this instanceof k?void("object"==typeof a&&(a=i(a),this.to=function(b){return j(a,g,b)},this.from=function(b){return j(a,h,b)})):new k(a)}var l=["decimals","thousand","mark","prefix","postfix","encoder","decoder","negativeBefore","negative","edit","undo"];window.wNumb=k}(),function(a){"use strict";function b(b){return b instanceof a||a.zepto&&a.zepto.isZ(b)}function c(b,c){return"string"==typeof b&&0===b.indexOf("-inline-")?(this.method=c||"html",this.target=this.el=a(b.replace("-inline-","")||"<div/>"),!0):void 0}function d(b){if("string"==typeof b&&0!==b.indexOf("-")){this.method="val";var c=document.createElement("input");return c.name=b,c.type="hidden",this.target=this.el=a(c),!0}}function e(a){return"function"==typeof a?(this.target=!1,this.method=a,!0):void 0}function f(a,c){return b(a)&&!c?(a.is("input, select, textarea")?(this.method="val",this.target=a.on("change.liblink",this.changeHandler)):(this.target=a,this.method="html"),!0):void 0}function g(a,c){return b(a)&&("function"==typeof c||"string"==typeof c&&a[c])?(this.method=c,this.target=a,!0):void 0}function h(b,c,d){var e=this,f=!1;if(this.changeHandler=function(b){var c=e.formatInstance.from(a(this).val());return c===!1||isNaN(c)?(a(this).val(e.lastSetValue),!1):void e.changeHandlerMethod.call("",b,c)},this.el=!1,this.formatInstance=d,a.each(k,function(a,d){return f=d.call(e,b,c),!f}),!f)throw new RangeError("(Link) Invalid Link.")}function i(a){this.items=[],this.elements=[],this.origin=a}function j(b,c,d,e){0===b&&(b=this.LinkDefaultFlag),this.linkAPI||(this.linkAPI={}),this.linkAPI[b]||(this.linkAPI[b]=new i(this));var f=new h(c,d,e||this.LinkDefaultFormatter);f.target||(f.target=a(this)),f.changeHandlerMethod=this.LinkConfirm(b,f.el),this.linkAPI[b].push(f,f.el),this.LinkUpdate(b)}var k=[c,d,e,f,g];h.prototype.set=function(a){var b=Array.prototype.slice.call(arguments),c=b.slice(1);this.lastSetValue=this.formatInstance.to(a),c.unshift(this.lastSetValue),("function"==typeof this.method?this.method:this.target[this.method]).apply(this.target,c)},i.prototype.push=function(a,b){this.items.push(a),b&&this.elements.push(b)},i.prototype.reconfirm=function(a){var b;for(b=0;b<this.elements.length;b+=1)this.origin.LinkConfirm(a,this.elements[b])},i.prototype.remove=function(a){var b;for(b=0;b<this.items.length;b+=1)this.items[b].target.off(".liblink");for(b=0;b<this.elements.length;b+=1)this.elements[b].remove()},i.prototype.change=function(a){if(this.origin.LinkIsEmitting)return!1;this.origin.LinkIsEmitting=!0;var b,c=Array.prototype.slice.call(arguments,1);for(c.unshift(a),b=0;b<this.items.length;b+=1)this.items[b].set.apply(this.items[b],c);this.origin.LinkIsEmitting=!1},a.fn.Link=function(b){var c=this;if(b===!1)return c.each(function(){this.linkAPI&&(a.map(this.linkAPI,function(a){a.remove()}),delete this.linkAPI)});if(void 0===b)b=0;else if("string"!=typeof b)throw new Error("Flag must be string.");return{to:function(a,d,e){return c.each(function(){j.call(this,b,a,d,e)})}}}}(window.jQuery||window.Zepto),function(a){"use strict";function b(b){return a.grep(b,function(c,d){return d===a.inArray(c,b)})}function c(a,b){return Math.round(a/b)*b}function d(a){return"number"==typeof a&&!isNaN(a)&&isFinite(a)}function e(a){var b=Math.pow(10,7);return Number((Math.round(a*b)/b).toFixed(7))}function f(a,b,c){a.addClass(b),setTimeout(function(){a.removeClass(b)},c)}function g(a){return Math.max(Math.min(a,100),0)}function h(b){return a.isArray(b)?b:[b]}function i(a){var b=a.split(".");return b.length>1?b[1].length:0}function j(a,b){return 100/(b-a)}function k(a,b){return 100*b/(a[1]-a[0])}function l(a,b){return k(a,a[0]<0?b+Math.abs(a[0]):b-a[0])}function m(a,b){return b*(a[1]-a[0])/100+a[0]}function n(a,b){for(var c=1;a>=b[c];)c+=1;return c}function o(a,b,c){if(c>=a.slice(-1)[0])return 100;var d,e,f,g,h=n(c,a);return d=a[h-1],e=a[h],f=b[h-1],g=b[h],f+l([d,e],c)/j(f,g)}function p(a,b,c){if(c>=100)return a.slice(-1)[0];var d,e,f,g,h=n(c,b);return d=a[h-1],e=a[h],f=b[h-1],g=b[h],m([d,e],(c-f)*j(f,g))}function q(a,b,d,e){if(100===e)return e;var f,g,h=n(e,a);return d?(f=a[h-1],g=a[h],e-f>(g-f)/2?g:f):b[h-1]?a[h-1]+c(e-a[h-1],b[h-1]):e}function r(a,b,c){var e;if("number"==typeof b&&(b=[b]),"[object Array]"!==Object.prototype.toString.call(b))throw new Error("noUiSlider: 'range' contains invalid value.");if(e="min"===a?0:"max"===a?100:parseFloat(a),!d(e)||!d(b[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");c.xPct.push(e),c.xVal.push(b[0]),e?c.xSteps.push(isNaN(b[1])?!1:b[1]):isNaN(b[1])||(c.xSteps[0]=b[1])}function s(a,b,c){return b?void(c.xSteps[a]=k([c.xVal[a],c.xVal[a+1]],b)/j(c.xPct[a],c.xPct[a+1])):!0}function t(a,b,c,d){this.xPct=[],this.xVal=[],this.xSteps=[d||!1],this.xNumSteps=[!1],this.snap=b,this.direction=c;var e,f=[];for(e in a)a.hasOwnProperty(e)&&f.push([a[e],e]);for(f.sort(function(a,b){return a[0]-b[0]}),e=0;e<f.length;e++)r(f[e][1],f[e][0],this);for(this.xNumSteps=this.xSteps.slice(0),e=0;e<this.xNumSteps.length;e++)s(e,this.xNumSteps[e],this)}function u(a,b){if(!d(b))throw new Error("noUiSlider: 'step' is not numeric.");a.singleStep=b}function v(b,c){if("object"!=typeof c||a.isArray(c))throw new Error("noUiSlider: 'range' is not an object.");if(void 0===c.min||void 0===c.max)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");b.spectrum=new t(c,b.snap,b.dir,b.singleStep)}function w(b,c){if(c=h(c),!a.isArray(c)||!c.length||c.length>2)throw new Error("noUiSlider: 'start' option is incorrect.");b.handles=c.length,b.start=c}function x(a,b){if(a.snap=b,"boolean"!=typeof b)throw new Error("noUiSlider: 'snap' option must be a boolean.")}function y(a,b){if(a.animate=b,"boolean"!=typeof b)throw new Error("noUiSlider: 'animate' option must be a boolean.")}function z(a,b){if("lower"===b&&1===a.handles)a.connect=1;else if("upper"===b&&1===a.handles)a.connect=2;else if(b===!0&&2===a.handles)a.connect=3;else{if(b!==!1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");a.connect=0}}function A(a,b){switch(b){case"horizontal":a.ort=0;break;case"vertical":a.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function B(a,b){if(!d(b))throw new Error("noUiSlider: 'margin' option must be numeric.");if(a.margin=a.spectrum.getMargin(b),!a.margin)throw new Error("noUiSlider: 'margin' option is only supported on linear sliders.")}function C(a,b){if(!d(b))throw new Error("noUiSlider: 'limit' option must be numeric.");if(a.limit=a.spectrum.getMargin(b),!a.limit)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders.")}function D(a,b){switch(b){case"ltr":a.dir=0;break;case"rtl":a.dir=1,a.connect=[0,2,1,3][a.connect];break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function E(a,b){if("string"!=typeof b)throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var c=b.indexOf("tap")>=0,d=b.indexOf("drag")>=0,e=b.indexOf("fixed")>=0,f=b.indexOf("snap")>=0;a.events={tap:c||f,drag:d,fixed:e,snap:f}}function F(a,b){if(a.format=b,"function"==typeof b.to&&"function"==typeof b.from)return!0;throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.")}function G(b){var c,d={margin:0,limit:0,animate:!0,format:Z};return c={step:{r:!1,t:u},start:{r:!0,t:w},connect:{r:!0,t:z},direction:{r:!0,t:D},snap:{r:!1,t:x},animate:{r:!1,t:y},range:{r:!0,t:v},orientation:{r:!1,t:A},margin:{r:!1,t:B},limit:{r:!1,t:C},behaviour:{r:!0,t:E},format:{r:!1,t:F}},b=a.extend({connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal"},b),a.each(c,function(a,c){if(void 0===b[a]){if(c.r)throw new Error("noUiSlider: '"+a+"' is required.");return!0}c.t(d,b[a])}),d.style=d.ort?"top":"left",d}function H(a,b,c){var d=a+b[0],e=a+b[1];return c?(0>d&&(e+=Math.abs(d)),e>100&&(d-=e-100),[g(d),g(e)]):[d,e]}function I(a){a.preventDefault();var b,c,d=0===a.type.indexOf("touch"),e=0===a.type.indexOf("mouse"),f=0===a.type.indexOf("pointer"),g=a;return 0===a.type.indexOf("MSPointer")&&(f=!0),a.originalEvent&&(a=a.originalEvent),d&&(b=a.changedTouches[0].pageX,c=a.changedTouches[0].pageY),(e||f)&&(f||void 0!==window.pageXOffset||(window.pageXOffset=document.documentElement.scrollLeft,window.pageYOffset=document.documentElement.scrollTop),b=a.clientX+window.pageXOffset,c=a.clientY+window.pageYOffset),g.points=[b,c],g.cursor=e,g}function J(b,c){var d=a("<div><div/></div>").addClass(Y[2]),e=["-lower","-upper"];return b&&e.reverse(),d.children().addClass(Y[3]+" "+Y[3]+e[c]),d}function K(a,b,c){switch(a){case 1:b.addClass(Y[7]),c[0].addClass(Y[6]);break;case 3:c[1].addClass(Y[6]);case 2:c[0].addClass(Y[7]);case 0:b.addClass(Y[6])}}function L(a,b,c){var d,e=[];for(d=0;a>d;d+=1)e.push(J(b,d).appendTo(c));return e}function M(b,c,d){return d.addClass([Y[0],Y[8+b],Y[4+c]].join(" ")),a("<div/>").appendTo(d).addClass(Y[1])}function N(b,c,d){function e(){return C[["width","height"][c.ort]]()}function j(a){var b,c=[E.val()];for(b=0;b<a.length;b+=1)E.trigger(a[b],c)}function k(a){return 1===a.length?a[0]:c.dir?a.reverse():a}function l(a){return function(b,c){E.val([a?null:c,a?c:null],!0)}}function m(b){var c=a.inArray(b,N);E[0].linkAPI&&E[0].linkAPI[b]&&E[0].linkAPI[b].change(J[c],D[c].children(),E)}function n(b,d){var e=a.inArray(b,N);return d&&d.appendTo(D[e].children()),c.dir&&c.handles>1&&(e=1===e?0:1),l(e)}function o(){var a,b;for(a=0;a<N.length;a+=1)this.linkAPI&&this.linkAPI[b=N[a]]&&this.linkAPI[b].reconfirm(b)}function p(a,b,d,e){return a=a.replace(/\s/g,W+" ")+W,b.on(a,function(a){return E.attr("disabled")?!1:E.hasClass(Y[14])?!1:(a=I(a),a.calcPoint=a.points[c.ort],void d(a,e))})}function q(a,b){var c,d=b.handles||D,f=!1,g=100*(a.calcPoint-b.start)/e(),h=d[0][0]!==D[0][0]?1:0;c=H(g,b.positions,d.length>1),f=v(d[0],c[h],1===d.length),d.length>1&&(f=v(d[1],c[h?0:1],!1)||f),f&&j(["slide"])}function r(b){a("."+Y[15]).removeClass(Y[15]),b.cursor&&a("body").css("cursor","").off(W),U.off(W),E.removeClass(Y[12]),j(["set","change"])}function s(b,c){1===c.handles.length&&c.handles[0].children().addClass(Y[15]),b.stopPropagation(),p(X.move,U,q,{start:b.calcPoint,handles:c.handles,positions:[F[0],F[D.length-1]]}),p(X.end,U,r,null),b.cursor&&(a("body").css("cursor",a(b.target).css("cursor")),D.length>1&&E.addClass(Y[12]),a("body").on("selectstart"+W,!1))}function t(b){var d,g=b.calcPoint,h=0;b.stopPropagation(),a.each(D,function(){h+=this.offset()[c.style]}),h=h/2>g||1===D.length?0:1,g-=C.offset()[c.style],d=100*g/e(),c.events.snap||f(E,Y[14],300),v(D[h],d),j(["slide","set","change"]),c.events.snap&&s(b,{handles:[D[h]]})}function u(a){var b,c;if(!a.fixed)for(b=0;b<D.length;b+=1)p(X.start,D[b].children(),s,{handles:[D[b]]});a.tap&&p(X.start,C,t,{handles:D}),a.drag&&(c=C.find("."+Y[7]).addClass(Y[10]),a.fixed&&(c=c.add(C.children().not(c).children())),p(X.start,c,s,{handles:D}))}function v(a,b,d){var e=a[0]!==D[0][0]?1:0,f=F[0]+c.margin,h=F[1]-c.margin,i=F[0]+c.limit,j=F[1]-c.limit;return D.length>1&&(b=e?Math.max(b,f):Math.min(b,h)),d!==!1&&c.limit&&D.length>1&&(b=e?Math.min(b,i):Math.max(b,j)),b=G.getStep(b),b=g(parseFloat(b.toFixed(7))),b===F[e]?!1:(a.css(c.style,b+"%"),a.is(":first-child")&&a.toggleClass(Y[17],b>50),F[e]=b,J[e]=G.fromStepping(b),m(N[e]),!0)}function w(a,b){var d,e,f;for(c.limit&&(a+=1),d=0;a>d;d+=1)e=d%2,f=b[e],null!==f&&f!==!1&&("number"==typeof f&&(f=String(f)),f=c.format.from(f),(f===!1||isNaN(f)||v(D[e],G.toStepping(f),d===3-c.dir)===!1)&&m(N[e]))}function x(a){if(E[0].LinkIsEmitting)return this;var b,d=h(a);return c.dir&&c.handles>1&&d.reverse(),c.animate&&-1!==F[0]&&f(E,Y[14],300),b=D.length>1?3:1,1===d.length&&(b=1),w(b,d),j(["set"]),this}function y(){var a,b=[];for(a=0;a<c.handles;a+=1)b[a]=c.format.to(J[a]);return k(b)}function z(){return a(this).off(W).removeClass(Y.join(" ")).empty(),delete this.LinkUpdate,delete this.LinkConfirm,delete this.LinkDefaultFormatter,delete this.LinkDefaultFlag,delete this.reappend,delete this.vGet,delete this.vSet,delete this.getCurrentStep,delete this.getInfo,delete this.destroy,d}function A(){var b=a.map(F,function(a,b){var c=G.getApplicableStep(a),d=i(String(c[2])),e=J[b],f=100===a?null:c[2],g=Number((e-c[2]).toFixed(d)),h=0===a?null:g>=c[1]?c[2]:c[0]||!1;return[[h,f]]});return k(b)}function B(){return d}var C,D,E=a(b),F=[-1,-1],G=c.spectrum,J=[],N=["lower","upper"].slice(0,c.handles);if(c.dir&&N.reverse(),b.LinkUpdate=m,b.LinkConfirm=n,b.LinkDefaultFormatter=c.format,b.LinkDefaultFlag="lower",b.reappend=o,E.hasClass(Y[0]))throw new Error("Slider was already initialized.");C=M(c.dir,c.ort,E),D=L(c.handles,c.dir,C),K(c.connect,E,D),u(c.events),b.vSet=x,b.vGet=y,b.destroy=z,b.getCurrentStep=A,b.getOriginalOptions=B,b.getInfo=function(){return[G,c.style,c.ort]},E.val(c.start)}function O(a){var b=G(a,this);return this.each(function(){N(this,b,a)})}function P(b){return this.each(function(){if(!this.destroy)return void a(this).noUiSlider(b);var c=a(this).val(),d=this.destroy(),e=a.extend({},d,b);a(this).noUiSlider(e),this.reappend(),d.start===e.start&&a(this).val(c)})}function Q(){return this[0][arguments.length?"vSet":"vGet"].apply(this[0],arguments)}function R(b,c,d,e){if("range"===c||"steps"===c)return b.xVal;if("count"===c){var f,g=100/(d-1),h=0;for(d=[];(f=h++*g)<=100;)d.push(f);c="positions"}return"positions"===c?a.map(d,function(a){return b.fromStepping(e?b.getStep(a):a)}):"values"===c?e?a.map(d,function(a){return b.fromStepping(b.getStep(b.toStepping(a)))}):d:void 0}function S(c,d,e,f){var g=c.direction,h={},i=c.xVal[0],j=c.xVal[c.xVal.length-1],k=!1,l=!1,m=0;return c.direction=0,f=b(f.slice().sort(function(a,b){return a-b})),f[0]!==i&&(f.unshift(i),k=!0),f[f.length-1]!==j&&(f.push(j),l=!0),a.each(f,function(b){var g,i,j,n,o,p,q,r,s,t,u=f[b],v=f[b+1];if("steps"===e&&(g=c.xNumSteps[b]),g||(g=v-u),u!==!1&&void 0!==v)for(i=u;v>=i;i+=g){for(n=c.toStepping(i),o=n-m,r=o/d,s=Math.round(r),t=o/s,j=1;s>=j;j+=1)p=m+j*t,h[p.toFixed(5)]=["x",0];q=a.inArray(i,f)>-1?1:"steps"===e?2:0,!b&&k&&(q=0),i===v&&l||(h[n.toFixed(5)]=[i,q]),m=n}}),c.direction=g,h}function T(b,c,d,e,f,g){function h(a,b){return["-normal","-large","-sub"][a]}function i(a,c,d){return'class="'+c+" "+c+"-"+k+" "+c+h(d[1],d[0])+'" style="'+b+": "+a+'%"'}function j(a,b){d&&(a=100-a),b[1]=b[1]&&f?f(b[0],b[1]):b[1],l.append("<div "+i(a,"noUi-marker",b)+"></div>"),b[1]&&l.append("<div "+i(a,"noUi-value",b)+">"+g.to(b[0])+"</div>")}var k=["horizontal","vertical"][c],l=a("<div/>");return l.addClass("noUi-pips noUi-pips-"+k),a.each(e,j),l}var U=a(document),V=a.fn.val,W=".nui",X=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},Y=["noUi-target","noUi-base","noUi-origin","noUi-handle","noUi-horizontal","noUi-vertical","noUi-background","noUi-connect","noUi-ltr","noUi-rtl","noUi-dragable","","noUi-state-drag","","noUi-state-tap","noUi-active","","noUi-stacking"];t.prototype.getMargin=function(a){return 2===this.xPct.length?k(this.xVal,a):!1},t.prototype.toStepping=function(a){return a=o(this.xVal,this.xPct,a),this.direction&&(a=100-a),a},t.prototype.fromStepping=function(a){return this.direction&&(a=100-a),e(p(this.xVal,this.xPct,a))},t.prototype.getStep=function(a){return this.direction&&(a=100-a),a=q(this.xPct,this.xSteps,this.snap,a),this.direction&&(a=100-a),a},t.prototype.getApplicableStep=function(a){var b=n(a,this.xPct),c=100===a?2:1;return[this.xNumSteps[b-2],this.xVal[b-c],this.xNumSteps[b-c]]},t.prototype.convert=function(a){return this.getStep(this.toStepping(a))};var Z={to:function(a){return a.toFixed(2)},from:Number};a.fn.val=function(b){function c(a){return a.hasClass(Y[0])?Q:V}if(!arguments.length){var d=a(this[0]);return c(d).call(d)}var e=a.isFunction(b);return this.each(function(d){var f=b,g=a(this);e&&(f=b.call(this,d,g.val())),c(g).call(g,f)})},a.fn.noUiSlider=function(a,b){switch(a){case"step":return this[0].getCurrentStep();case"options":return this[0].getOriginalOptions()}return(b?P:O).call(this,a)},a.fn.noUiSlider_pips=function(b){var c=b.mode,d=b.density||1,e=b.filter||!1,f=b.values||!1,g=b.format||{to:Math.round},h=b.stepped||!1;return this.each(function(){var b=this.getInfo(),i=R(b[0],c,f,h),j=S(b[0],d,c,i);return a(this).append(T(b[1],b[2],b[0].direction,j,e,g))})}}(window.jQuery||window.Zepto),function(a){var b=function(a){this.name="WafException",this.message=a||"An error has occurred."};b.prototype=Object.create(Error.prototype),b.prototype.constructor=b,window.app={config:{tabletViewportSize:1024,$singleMenu:a(".single-menu > a"),$loggedInMenu:a(".loggedin-menu"),$tabSearch:a(".tab-search > a"),$searchForm:a("li.search-form"),$disableMenuSet:a(".single-menu > a, .loggedin-menu, .tab-search > a"),$jumbotronContainer:a(".jumbotron-container"),$introMessage:a(".intro-message"),$searchBox:a(".search-box"),$menuExpanded:a(".menu-expanded"),$menuCollapsed:a(".menu-collapsed"),typeCursorOrientation:"vertical",$bannerOverlay:a(".banner-overlay"),$allSearch:a(".jsearchterm, .searchterm, .jsearchlocation, .searchlocation"),$jSearchTerm:a(".jsearchterm"),$searchTerm:a(".searchterm"),$jSearchLocation:a(".jsearchlocation"),$searchLocation:a(".searchlocation"),$jSearchTermInput:a(".jsearchterm.tt-input"),$searchTermInput:a(".searchterm.tt-input"),$jSearchLocationInput:a(".jsearchlocation.tt-input"),$searchLocationInput:a(".searchlocation.tt-input"),$copyTextButton:a(".copybutton"),$copyText:a(".copytext"),zClipSwfPath:"/js/vendor/ZeroClipboard.swf",$imageThumbnail:a(".th"),termsURL:"../HomeWEB/KeywordAutoComplete?term=%QUERY",locationsURL:"../HomeWEB/LocationAutoComplete?term=%QUERY",$addPhotoModal:a("#addPhotoModal"),isJoyrideCookie:!0,cookieName:"newDealsQSearch",cookieDomain:!1,picker:a.noop(),$locationBox:a(".location-box"),$uploadAvatar:a("#upload-avatar"),$leadFormsContainer:a(".lead-form-content .forms-container"),$leadFormSections:a(".lead-form-content .form-section"),$leadFormNavigationList:a(".lead-form-content .navigation-list"),$userProfileContainer:a(".userprofile-content"),dataNamespace:"data-vc",alertContainerClass:"alerts",alertTimeOut:7e3,roleEl:{},arrRoles:["show","next","prev","skip","loading","review","follow","like","save"],scriptURLs:{cookie:"/js/vendor/jquery.cookie.js",textchanger:"/js/desktop/components/textchanger.js",pikaday:"/js/vendor/min/pikaday.min.js",skrollr:"/js/vendor/skrollr.min.js",dropzone:"/js/vendor/new/dropzone.min.js",swipebox:"/js/vendor/jquery.swipebox.min.js",unveil:"/js/vendor/jquery.unveil.min.js",selectize:"/js/vendor/new/selectize.min-master.js",elevatezoom:"/js/vendor/jquery.elevatezoom.min.js",zoom:"/js/vendor/jquery.zoom.min.js",owlcarousel:"/js/vendor/owl.carousel.min.js",test:"/js/test.js",zclip:"/js/vendor/jquery.zclip.js",gmap:"https://maps.googleapis.com/maps/api/js?v=3&sensor=false",doT:"/js/vendor/doT.js",typeahead:"/js/vendor/new/typeahead.bundle.min.js",ntypeahead:"/js/vendor/typeahead/typeahead.bundle.min.js"}},channels:{},scope:this,comps:{},utils:{notifyMe:function(b){var c,d=this.config,e=this,f='<div data-vc-role="alert" class="vc-alert alert-box"><p class="alert-content"></p><a href="#" class="close">&times;</a></div>',g=b.message||b,h=b.type||"default"||"success";a("body").find("."+d.alertContainerClass).length>0?c=a("."+d.alertContainerClass):(a("body").append(a("<div>").addClass(d.alertContainerClass)),c=a("."+d.alertContainerClass));var i={alertBox:{},alertTimer:{}};return i.alertBox=a(f).addClass(h),c.append(i.alertBox),i.alertBox.find(".alert-content").html(g),e._log("Showing alert for message: "+g),i.alertBox.fadeIn(),i.alertTimer=setTimeout(function(){i.alertBox.fadeOut(function(){a(this).remove()})},d.alertTimeOut),c.off(".alert").on("click.vc.alert","["+e.attr_name("role")+'="alert"] a.close',function(b){b.preventDefault(),a(this).closest("["+e.attr_name("role")+'="alert"]').fadeOut(function(){a(this).remove()})}),this},attr_name:function(a){var b=this.config;return this._log("Attribute for: "+a),b.dataNamespace+"-"+a},data_options:function(a){function b(a){return!isNaN(a-0)&&null!==a&&""!==a&&a!==!1&&a!==!0}function c(a){return"string"==typeof a?a.replace(/^\s+|\s+$/g,""):void 0}var d={};if("object"==typeof a)return a;for(var e=(a||"=").split(";"),f=e.length;f--;){var g=e[f].split("=");/true/i.test(g[1])&&(g[1]=!0),/false/i.test(g[1])&&(g[1]=!1),b(g[1])&&(g[1]=parseInt(g[1],10)),2===g.length&&g[0].length>0&&(d[c(g[0])]=c(g[1]))}return d},require:function(a,b,c){var d=this,e=this.config,f=e.scriptURLs,g=!0,h=function(a,b,c){return jQuery.ajax({url:a,type:"GET",dataType:"script",success:b,cache:c||!0})};return"undefined"==typeof c&&("undefined"==typeof b?(c=function(){},b=!0):(c=b,b=!0),g=!1),b()&&g?(d._log("Require script already exists: "+a),d._log("Calling require callback for: "+a),c(),!0):(d._log("Require script not found: "+a),d._log("Get require script: "+a),h(f[a],function(){return d._log("Require script gotten: "+a),d._log("Require script URL: "+f[a]),b()?(d._log("Require script test passed: "+a),d._log("Calling require callback for: "+a),c(),!0):void d._log("Require script test not passed: "+a)}),this)},render:function(a,b){return a.replace(/\{([\w\.]*)\}/g,function(a,c){for(var d=c.split("."),e=b[d.shift()],f=0,g=d.length;g>f;f++)e=e[d[f]];return"undefined"!=typeof e&&null!==e?e:""})},throttle:function(a,b){var c=null;return function(){var d=this,e=arguments;clearTimeout(c),c=setTimeout(function(){a.apply(d,e)},b)}},debounce:function(a,b,c){var d,e;return function(){var f=this,g=arguments,h=function(){d=null,c||(e=a.apply(f,g))},i=c&&!d;return clearTimeout(d),d=setTimeout(h,b),i&&(e=a.apply(f,g)),e}},publish:function(b,c){if(this.channels.hasOwnProperty(b)){c=c||{};var d={_channel:b};d=a.extend({},d,c);for(var e=this.channels[b].length,f=0;e>f;f++)this.channels[b][f]&&this.channels[b][f](d,c),this._log("Listener called on: "+b);return this._log("Published to: "+b),this}},subscribe:function(a,b){var c=this;this.channels.hasOwnProperty(a)||(this.channels[a]=[]);var d=this.channels[a].push(b)-1;return this._log("Subscribed to: "+a),{remove:function(){c.channels[a].splice(d,1)}}},unsubscribe:function(a){delete this.channels[a],this._log("Unsubscribed from: "+a)},request:function(a,b,c){c||(c=b,b={}),this.subscribe("reply:"+a,c),this.publish("request:"+a,b)},reply:function(a,b){var c=this;return this.subscribe("request:"+a,function(d,e){"function"==typeof b&&(b=b(e)),c.publish("reply:"+a,b)}),this},log:function(){if("development"==this.config.env){var a=[].slice.call(arguments,0),b=Error().lineNumber?"line: "+Error().lineNumber:"::WAF::";console.log.apply(console,a.concat([b]))}},_log:function(a){this.log("%c"+a,"color:green;font-weight:bold;background:#fafafa;padding:5px;")},reRootSiteURLs:function(a,b){var c=Object.keys(a);return c.forEach(function(c){var d=a[c];"string"==typeof d&&d.match(/^\//)&&!d.match(/^\/\//)&&(a[c]=d.replace(/\//,b))}),a}},debug:{noOfComps:0,noOfCompErrors:0},getSiteRootFromCookies:function(){for(var a=document.cookie.split(";"),b=0;b<a.length;b++){var c=a[b].split("=");if("siteRoot"===c[0].trim())return c[1].trim();return}},init:function(b,c){var d=this,e=this.config;if("object"==typeof b&&(c=b,b=void 0),a.extend(!0,this.config,c||{}),!this.initilized){a.extend(this,this.utils),this.config.scriptURLs=this.reRootSiteURLs(this.config.scriptURLs,this.getSiteRootFromCookies()||this.config.siteRoot),app.initRoles(),this.subscribe("vc:notify",function(a,b){d.notifyMe(b)}),this.subscribe("vc:init",function(a,b){d.init(b)}),this.transitionEnd=this.transitionEndSelect(),this.animationEnd=this.animationEndSelect(),jQuery().foundation&&(Foundation.libs.abide&&(Foundation.libs.abide.settings.patterns.password=/(?=^.{0,}$)[a-zA-Z0-9-\W+]+$/,Foundation.libs.abide.settings.patterns.oldpassword=/(?=^.{0,}$)[a-zA-Z0-9-\W+]+$/,Foundation.libs.abide.settings.patterns.email=/^[-a-z0-9~!$%^&*_=+}{\'?]+(\.[-a-z0-9~!$%^&*_=+}{\'?]+)*@([a-z0-9_][-a-z0-9_]*(\.[-a-z0-9_]+)*\.(aero|arpa|biz|com|coop|edu|gov|info|int|mil|museum|name|net|org|pro|travel|mobi|[a-z][a-z])|([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}))(:[0-9]{1,5})?$/i,Foundation.libs.abide.settings.patterns.ghanaianphone=/^0[235]\d{8}/,Foundation.libs.abide.settings.patterns.nigerianphone=/^0?(([1-6]\d{6,7})|([7-9]([0-1]\d{8}|[2-9]\d{6,7})))$/,Foundation.libs.abide.settings.patterns.url=/^(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([=#\?\/\w \.-]*)*\/?$/),Foundation.libs.reveal&&(Foundation.libs.reveal.settings.animation="fade"),a(document).foundation({joyride:{modal:!0,prevButton:!0,cookie_monster:e.isJoyrideCookie,cookie_name:e.cookieName,cookie_domain:e.cookieDomain,template:{link:'<a href="#close" class="joyride-close-tip">&times;</a>',timer:'<div class="joyride-timer-indicator-wrap"><span class="joyride-timer-indicator"></span></div>',tip:'<div class="joyride-tip-guide"><span class="joyride-nub"></span></div>',wrapper:'<div class="joyride-content-wrapper"></div>',button:'<a href="#" class="tiny btn invert joyride-next-tip"></a>',prev_button:'<a href="#" class="tiny btn invert joyride-prev-tip"></a>',modal:'<div class="joyride-modal-bg"></div>',expose:'<div class="joyride-expose-wrapper"></div>',expose_cover:'<div class="joyride-expose-cover"></div>'}}}),a(document).foundation("joyride","start"));for(b in this.comps)this.comps.hasOwnProperty(b)&&(this.debug.noOfComps++,this.init_comp(b),this.log("waf: "+b+" initialized."));if("development"==this.config.env){var f="Total number of components: "+this.debug.noOfComps+", Number of Errors: "+this.debug.noOfCompErrors+", Number of initialized components: "+(this.debug.noOfComps-this.debug.noOfCompErrors),g=this.debug.noOfCompErrors?"error":"info";this.notifyMe({message:f,type:g})}}return b&&this.init_comp(b),e.isOperamini&&(a.fn.fadeIn=a.fn.show,a.fn.fadeOut=a.fn.hide),this.initialized=!0,this},init_comp:function(a){this.patch(this.comps[a],a);try{return this.reRootSiteURLs(this.comps[a].config[a]||{},this.getSiteRootFromCookies()||this.config.siteRoot),this.comps[a].init.apply(this.comps[a],[])}catch(b){var c='"'+a+'" component has a bug. Error: '+b.message;console.error(c,b.stack),this.debug.noOfCompErrors++,"development"==this.config.env&&this.notifyMe({message:c,type:"error"})}},patch:function(b,c){var d={};d[c]={},b.config=a.extend(!0,d,b.config,this.config),a.extend(this.utils,b.utils),a.extend(this,b.utils),a.extend(b,this.utils),b.channels=this.channels,b.transitionEnd=this.transitionEnd,b.animationEnd=this.animationEnd},initRoles:function(){var b=this.config,c=this;b.roleEl=a.extend({},b.roleEl);var d=function(b){return a("["+c.attr_name("role")+'="'+b+'"]')};a.each(b.arrRoles,function(a,c){b.roleEl[c]=d(c)});var e=b.roleEl.show,f=e.filter('input[type="checkbox"],input[type="radio"]');f.on("change",function(){a(this).is(":checked")?a(this).next("input").fadeIn():a(this).next("input").fadeOut()}).next("input").hide(),b.roleEl.next.on("click",function(a){a.preventDefault()}),b.roleEl.prev.on("click",function(a){a.preventDefault()})},addUtility:function(a,c){if(this.utils.hasOwnProperty(a))throw new b("utility name:"+a+" is already is use.");this.utils[a]=c,this[a]=c},transitionEndSelect:function(){var a=document.createElement("div");return a.style.WebkitTransition?"webkitTransitionEnd":a.style.OTransition?"oTransitionEnd":"transitionend"},animationEndSelect:function(){return"animationend webkitAnimationEnd MSAnimationEnd oAnimationEnd"}}}(jQuery),function(a){window.app.comps.font={init:function(){window.WebFontConfig={google:{families:["Open+Sans:300italic,400italic,600italic,400,300,600:latin"]}},function(){var a=document.createElement("script");a.src=("https:"==document.location.protocol?"https":"http")+"://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js",a.type="text/javascript",a.async="true";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)}()}}}(jQuery),function(a){window.app.comps.loader={config:{$loader:a(".loading"),loaderClass:"loading",$loaderParent:a(".loading-container")},utils:{loading:function(a,b,c){this.config;"start"==b?a.children(".loading").fadeIn():a.children(".loading").hide()}},init:function(){a.fn.vcLoader=function(a,b){return this.initLoader(this,a,b)}},initLoader:function(b,c,d){var e=this.config;"undefined"!=typeof b&&(e.$loaderParent=a(b),e.$loaderParent.append('<div class="loading"></div>'),"undefined"!=typeof d&&d&&e.$loaderParent.addClass("loading-container"),e.$loader=a(b).find("div.loading"),"string"==typeof c&&this.runLoader(c))},runLoader:function(a){var b=this.config;"show"===a?b.$loader.fadeIn():"hide"===a&&b.$loader.fadeOut()}}}(jQuery),function(a,b,c,d){b.app.comps.datepicker={config:{pickers:[]},init:function(){var b=this.config,c=this;a("["+c.attr_name("datepicker")+"], .datepicker").length&&this.require("pikaday",function(){return"undefined"!=typeof Pikaday},function(){a("["+c.attr_name("datepicker")+"], .datepicker").each(function(d,e){var f=a("["+c.attr_name("user-settings")+"]"),g=a(e).attr(c.attr_name("mindate"));g=g?"today"==g?new Date:new Date(g):new Date("1890-01-01");var h=a(e).attr(c.attr_name("maxdate"));if(h=h?"today"==h?new Date:new Date(h):new Date("2050-12-31"),f.length){var i=new Date,j=i.getFullYear()-12,k=i.getMonth()+1,l=i.getDay()+1,m=i.getFullYear()-100,n=i.getMonth()+1,o=i.getDay()+1;h=new Date(j+"-"+k+"-"+l),g=new Date(m+"-"+n+"-"+o)}var p=a(e).attr(c.attr_name("yearrange"))?JSON.parse(a(e).attr(c.attr_name("yearrange"))):[1890,2050],q=a(e).attr(c.attr_name("setminfor")),r=a(e).attr(c.attr_name("setmaxfor"));b.pickers.push({element:e,picker:new Pikaday({field:a(e)[0],format:"YYYY-MM-DD",firstDay:1,minDate:g,maxDate:h,yearRange:p,onSelect:function(){var a;q&&(a=c.getPikaday(q),c.log(q),a&&a.setMinDate(this.getDate())),r&&(a=c.getPikaday(r),a&&a.setMaxDate(this.getDate()))}})})})}),this.events()},events:function(){},getPikaday:function(b){for(var c=this.config,d=c.pickers.length-1;d>=0;d--)if(a(c.pickers[d].element).is(b))return c.pickers[d].picker;return!1}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.copy={name:"copy",description:"Responsible for the copy-to-clipboard logic",init:function(){var a=this.config,b=this;a.$copyTextButton.length&&this.require("zclip",function(){return jQuery().zclip;
},function(){a.$copyTextButton.zclip({path:a.zClipSwfPath,copy:a.$copyText.val(),afterCopy:function(){b.notifyMe("The link has been copied to your clipboard.")}})}),this.events()},events:function(){}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.lazyload={name:"lazyload",description:"",config:{lazyload:{blankURL:"/img/blank.gif",loadingBgURL:"/img/blue-square.png",lazyClass:"lazy",threshold:100}},init:function(){var b=this,c=b.config,d=c.lazyload;d.$container=a("["+b.attr_name("lazy")+"]"),d.$container.each(function(){var c=a(this);c.attr(b.attr_name("background"))?c.css("backgroundImage","url("+d.loadingBgURL+")"):c.attr("src",d.blankURL).addClass(d.lazyClass)}),d.$unloadedSet=d.$container,this.events(),this.loadVisible()},events:function(){var c=this,d=c.config;d.lazyload;c.log("got here too 1"),a(b).off("scroll.vc.lazyload resize.vc.lazyload").on("scroll.vc.lazyload resize.vc.lazyload",c.throttle(a.proxy(c.loadVisible,c),100))},loadVisible:function(){var c=this,d=c.config,e=d.lazyload,f=(a(b),e.$unloadedSet.filter(function(){var c=a(this);if(c.is(":hidden"))return!1;var d=a(b).height(),e=a(b).width(),f=c[0].getBoundingClientRect();return f.bottom>=0&&f.top<d&&f.left<e&&f.right>=0}));c.loadImages(f)},loadImages:function(b){var c=this,d=c.config,e=d.lazyload;b.each(function(b,d){var f=a(d),g=f.attr(c.attr_name("background"))?f.attr(c.attr_name("background")):f.attr(c.attr_name("lazy"));if(c.log("got here"),g){c.log("got here tooo");var h=a(new Image);h.one("load",function(){f.hide(),f.attr(c.attr_name("background"))?f.css("backgroundImage","url("+g+")"):f.attr("src",g).removeClass(e.lazyClass),f.fadeIn(),c.log("Image lazy loaded: ",g)}).attr("src",g),c.log("Starting lazy loading: ",g)}}),e.$unloadedSet=e.$unloadedSet.not(b)}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.gallery={config:{galleryImgLists:{},defaultRel:"gallery",bigGalleryClass:"big-image-gallery",galleryContainerClass:"gallery-container",galleryHeaderClass:"gallery-header",galleryDescriptionHeaderClass:"gallery-description-header",galleryImageContainerClass:"gallery-image-container",galleryDescriptionContainerClass:"gallery-description-container",galleryCloseLinkClass:"gallery-close",galleryPreviousLinkClass:"gallery-previous",galleryNextLinkClass:"gallery-next",galleryDisabledLinkClass:"disabled",galleryImageCountClass:"image-count",galleryLoadingClass:"gallery-loading",galleryTitleClass:"gallery-title",galleryUploadDetailsClass:"gallery-upload-details",galleryUploadDateClass:"upload-date",galleryUploaderNameClass:"uploader-name",galleryUploaderThumbnailClass:"uploader-thumbnail",galleryBusinessNameClass:"business-name",galleryBusinessThumbnailClass:"business-thumbnail",galleryBusinessDetailsClass:"business-details",galleryDescriptionClass:"gallery-description",galleryImageClass:"gallery-image",galleryActionsContainerClass:"gallery-actions-container",showDescriptionButtonClass:"show-description",$bigGallery:{},gallerySet:{},$galleryContainer:{},$galleryHeader:{},$galleryDescriptionHeader:{},$galleryImageContainer:{},$galleryDescriptionContainer:{},$galleryCloseLink:{},$galleryPreviousLink:{},$galleryNextLink:{},$galleryImageCount:{},$galleryLoading:{},$galleryTitle:{},$galleryUploadDetails:{},$galleryUploadDate:{},$galleryUploaderName:{},$galleryUploaderThumbnail:{},$galleryBusinessName:{},$galleryBusinessThumbnail:{},$galleryBusinessDetails:{},$galleryDescription:{},$galleryActionsContainer:{},$showDescriptionButton:{},$imgSet:a(),isOpen:!1,isBuilt:!1,hasDescription:!1,container:a(".th, [data-vc-gallery-thumb]"),galleryImageArrayEls:{},imgsList:{},curIndex:0,preloadCount:2,galleryTemplate:'<div class="big-image-gallery"> <div class="gallery-container"> <div class="gallery-header"> <a href="#" class="gallery-close">&times;</a> <div class="gallery-upload-details"> <img class="uploader-thumbnail" alt="uploader thumbnail"> <div class="upload-date">24 June, 2014</div> <div class="uploader-name">Jonathan Douglas</div> </div> <h4 class="gallery-title">Triple Tripulley</h4> </div> <div class="gallery-image-container"> <div class="gallery-loading"></div></div> <div class="gallery-description-container"> <div class="gallery-description-header"> <div class="business-details"> <img class="business-thumbnail" alt="business logo"> <div class="business-name">Eko Hotels and Suites</div> </div> <span class="image-count">2/10</span> <div class="actions-container"> <!--<a href="#" class="like">Like</a>--> <a href="#" class="show-description"><i class="icon-menu"></i></a> </div> </div> <div class="gallery-description"> Lorem ipsum dolor sit amet, consectetur adipisicing elit. Enim id consequuntur iure molestiae debitis, soluta distinctio tempore maxime rerum, in ipsa vero! Quas eos, officiis consectetur hic voluptate nulla vero! </div> </div> </div> <div class="gallery-navigation-container"> <a href="#" class="gallery-previous disabled"><i class="icon-angle-left"></i></a> <a href="#" class="gallery-next"><i class="icon-angle-right"></i></a> </div> </div>'},init:function(){var b=this,c=b.config;if(c.container=a(c.container.selector),c.galleryImageArrayEls=a("["+this.attr_name("gallery")+"]["+this.attr_name("value")+"]"),this.subscribe("vc:gallery/refresh",function(){b.init()}),c.container.length<=0&&c.galleryImageArrayEls.length<=0)return!1;c.galleryImgLists={},c.container.each(function(b){var d=a(this).attr("rel")||c.defaultRel;c.galleryImgLists[d]=c.galleryImgLists[d]||[],c.galleryImgLists[d].push({imageUrl:a(this).attr("href"),imageTitle:a(this).attr("title"),imageDescription:a(this).next(".description").html(),imageThumbUrl:a(this).find("img").attr("src"),imageUploadDate:a(this).data("upload-date"),imageUploaderName:a(this).data("uploader-name"),imageUploaderThumbnail:a(this).data("uploader-thumbnail"),imageBusinessThumbnail:a(this).data("business-thumbnail"),imageBusinessName:a(this).data("business-name")}),a(this).attr("data-index",c.galleryImgLists[d].length-1)}),b.log(c.galleryImgLists),c.galleryImageArrayEls.each(function(d){var e=JSON.parse(a(this).attr(b.attr_name("value"))),f=a(this).attr("rel")||c.defaultRel;c.galleryImgLists[f]=c.galleryImgLists[f].concat(e),b.log(c.galleryImgLists)});for(var d in c.galleryImgLists)c.galleryImgLists.hasOwnProperty(d)&&b.buildGallery(d);this.events()},events:function(){var d,e,f,g=this,h=g.config;b.navigator.msPointerEnabled?(d="MSPointerDown",e="MSPointerMove",f="MSPointerUp"):(d="touchstart",e="touchmove",f="touchend"),h.container.off("click.vc.gallery").on("click.vc.gallery",function(b){b.preventDefault();var c=a(this).attr("rel")||h.defaultRel;h.gallerySet[c].curIndex=+a(this).attr("data-index"),g.log(h.galleryImgLists[c][h.gallerySet[c].curIndex]),g.log(c),h.gallerySet[c].isOpen||g.openGallery(c)}),a(c).off("keyup.vc.gallery").on("keyup.vc.gallery",function(a){for(var b in h.gallerySet)if(h.gallerySet.hasOwnProperty(b))switch(a.keyCode){case 37:g.previousImage(b);break;case 39:g.nextImage(b);break;case 27:g.closeGallery(b);break;case 38:g.showDescription(b);break;case 40:g.hideDescription(b)}g.log(a.keyCode)}),a(b).off("resize.vc.gallery").on("resize.vc.gallery",function(a){g.adjustSize()});for(var i in h.gallerySet)h.gallerySet.hasOwnProperty(i)&&g.galleryEvents(i)},galleryEvents:function(a){var c,d,e,f=this,g=f.config,h=10,i=!1,j={};b.navigator.msPointerEnabled?(c="MSPointerDown",d="MSPointerMove",e="MSPointerUp"):(c="touchstart",d="touchmove",e="touchend"),g.gallerySet[a].$galleryCloseLink.off("click.vc.gallery").on("click.vc.gallery",function(b){b.preventDefault(),f.closeGallery(a)}),g.gallerySet[a].$galleryPreviousLink.off("click.vc.gallery").on("click.vc.gallery",function(b){b.preventDefault(),f.previousImage(a)}),g.gallerySet[a].$galleryNextLink.off("click.vc.gallery").on("click.vc.gallery",function(b){b.preventDefault(),f.nextImage(a)}),g.gallerySet[a].$showDescriptionButton.off("click.vc.gallery").on("click.vc.gallery",function(b){b.preventDefault(),f.toggleDescription(a)}),g.gallerySet[a].$galleryImageContainer.off(c).on(c,function(a){a.touches||(a=a.originalEvent),f.log("Touch started."),j={startPageX:b.navigator.msPointerEnabled?a.pageX:a.touches[0].clientX,startPageY:b.navigator.msPointerEnabled?a.pageY:a.touches[0].clientY,startTime:+new Date,deltaX:0,deltaY:0,endPageX:0,endPageY:0},a.stopPropagation()}).off(d).on(d,function(a){f.log("Touch moving."),a.preventDefault()}).off(e).on(e,function(c){c.touches||(c=c.originalEvent),c.touches.length>1||c.scale&&1!==c.scale||(f.log(c),j.endPageX=b.navigator.msPointerEnabled?c.pageX:c.changedTouches[0].clientX,j.endPageY=b.navigator.msPointerEnabled?c.pageY:c.changedTouches[0].clientY,j.deltaX=j.endPageX-j.startPageX,j.deltaY=j.endPageY-j.startPageY,i=Math.abs(j.deltaX)<Math.abs(j.deltaY),f.log("Touch stopped"),i?(j.deltaY>=h&&f.hideDescription(a),j.deltaY<=-h&&f.showDescription(a)):(j.deltaX>=h&&f.previousImage(a),j.deltaX<=-h&&f.nextImage(a)),j={},c.stopPropagation())}),g.gallerySet[a].$bigGallery.off("click.vc.gallery").on("click.vc.gallery",function(b){b.target==b.currentTarget&&f.closeGallery(a)})},preloadImages:function(a,b){var c=this,d=c.config;b=b||d.gallerySet[a].curIndex;var e=(d.galleryImgLists[a][b],b-d.preloadCount>0?b:0),f=e+2*d.preloadCount;f=f>d.galleryImgLists[a].length?d.galleryImgLists[a].length-1:f;for(var g=e;f>g;g++)(new Image).src=d.galleryImgLists[a][g].imageUrl;c.log("In preloadImages function.")},buildGallery:function(b){var c=this,d=c.config;d.gallerySet[b]=d.gallerySet[b]||{},d.gallerySet[b].$bigGallery=a(d.galleryTemplate),d.gallerySet[b].$galleryImageContainer=d.gallerySet[b].$bigGallery.find("."+d.galleryImageContainerClass),d.gallerySet[b].$galleryContainer=d.gallerySet[b].$bigGallery.find("."+d.galleryContainerClass),d.gallerySet[b].$galleryDescriptionContainer=d.gallerySet[b].$bigGallery.find("."+d.galleryDescriptionContainerClass),d.gallerySet[b].$galleryHeader=d.gallerySet[b].$bigGallery.find("."+d.galleryHeaderClass),d.gallerySet[b].$galleryDescriptionHeader=d.gallerySet[b].$bigGallery.find("."+d.galleryDescriptionHeaderClass),d.gallerySet[b].$galleryDescription=d.gallerySet[b].$bigGallery.find("."+d.galleryDescriptionClass),d.gallerySet[b].$galleryCloseLink=d.gallerySet[b].$bigGallery.find("."+d.galleryCloseLinkClass),d.gallerySet[b].$galleryPreviousLink=d.gallerySet[b].$bigGallery.find("."+d.galleryPreviousLinkClass),d.gallerySet[b].$galleryNextLink=d.gallerySet[b].$bigGallery.find("."+d.galleryNextLinkClass),d.gallerySet[b].$galleryImageCount=d.gallerySet[b].$bigGallery.find("."+d.galleryImageCountClass),d.gallerySet[b].$galleryLoading=d.gallerySet[b].$bigGallery.find("."+d.galleryLoadingClass),d.gallerySet[b].$galleryTitle=d.gallerySet[b].$bigGallery.find("."+d.galleryTitleClass),d.gallerySet[b].$galleryUploadDetails=d.gallerySet[b].$bigGallery.find("."+d.galleryUploadDetailsClass),d.gallerySet[b].$galleryUploadDate=d.gallerySet[b].$bigGallery.find("."+d.galleryUploadDateClass),d.gallerySet[b].$galleryUploaderName=d.gallerySet[b].$bigGallery.find("."+d.galleryUploaderNameClass),d.gallerySet[b].$galleryUploaderThumbnail=d.gallerySet[b].$bigGallery.find("."+d.galleryUploaderThumbnailClass),d.gallerySet[b].$galleryBusinessName=d.gallerySet[b].$bigGallery.find("."+d.galleryBusinessNameClass),d.gallerySet[b].$galleryBusinessThumbnail=d.gallerySet[b].$bigGallery.find("."+d.galleryBusinessThumbnailClass),d.gallerySet[b].$galleryBusinessDetails=d.gallerySet[b].$bigGallery.find("."+d.galleryBusinessDetailsClass),d.gallerySet[b].$galleryActionsContainer=d.gallerySet[b].$bigGallery.find("."+d.galleryActionsContainerClass),d.gallerySet[b].$showDescriptionButton=d.gallerySet[b].$bigGallery.find("."+d.showDescriptionButtonClass),a("body").append(d.gallerySet[b].$bigGallery),c.log(d.gallerySet[b].$bigGallery),a.each(d.galleryImgLists[b],function(e,f){var g=a("<div>").addClass(d.galleryImageClass),h=a("<img>").load(function(){a(this).hide(),a(this).fadeIn()}).error(function(){c.log("Error loading image: "+f.imageUrl)}).attr("data-src",f.imageUrl).attr("data-index",e);c.log(h),g.append(h).appendTo(d.gallerySet[b].$galleryImageContainer)}),c.log("In buildGallery function."),d.gallerySet[b].isBuilt=!0},openGallery:function(a){var b=this,c=b.config;a=a||c.defaultRel,c.gallerySet[a].isBuilt||b.buildGallery(a),b.loadContent(a),c.gallerySet[a].$bigGallery.fadeIn(),b.adjustSize(a),b.log("In openGallery function."),c.gallerySet[a].isOpen=!0},closeGallery:function(a){var b=this,c=b.config;c.gallerySet[a].$bigGallery.fadeOut(),b.emptyGallery(a),b.log("In closeGallery function."),c.gallerySet[a].isOpen=!1},loadContent:function(a,b){var c=this,d=c.config;"undefined"==typeof b&&(b=function(){});var e=d.galleryImgLists[a][d.gallerySet[a].curIndex];c.preloadImages(a,d.gallerySet[a].curIndex),c.emptyGallery(a),c.log(e),e&&e.imageDescription?(d.gallerySet[a].hasDescription=!0,d.gallerySet[a].$showDescriptionButton.removeClass("hidden")):(d.gallerySet[a].hasDescription=!1,c.hideDescription(a),d.gallerySet[a].$showDescriptionButton.addClass("hidden")),d.gallerySet[a].$galleryDescription.html(e.imageDescription);var f=d.gallerySet[a].$galleryImageContainer.find("."+d.galleryImageClass).filter(":eq("+d.gallerySet[a].curIndex+")").css("margin-left",0);f.find("img").attr("src",e.imageUrl),d.gallerySet[a].$galleryImageCount.html(d.gallerySet[a].curIndex+1+" of "+d.galleryImgLists[a].length),d.gallerySet[a].$galleryTitle.html(e.imageTitle||""),d.gallerySet[a].$galleryUploadDate.html(e.imageUploadDate||""),d.gallerySet[a].$galleryUploaderName.html(e.imageUploaderName||""),d.gallerySet[a].$galleryUploaderThumbnail.attr("src",e.imageUploaderThumbnail||""),e.imageUploadDate?d.gallerySet[a].$galleryUploadDate.show():d.gallerySet[a].$galleryUploadDate.hide(),e.imageUploaderName?d.gallerySet[a].$galleryUploaderName.show():d.gallerySet[a].$galleryUploaderName.hide(),e.imageUploaderThumbnail?d.gallerySet[a].$galleryUploaderThumbnail.show():d.gallerySet[a].$galleryUploaderThumbnail.hide(),d.gallerySet[a].$galleryUploadDetails.show(),d.gallerySet[a].$galleryBusinessName.html(e.imageBusinessName||""),d.gallerySet[a].$galleryBusinessThumbnail.attr("src",e.imageBusinessThumbnail||""),e.imageBusinessThumbnail?d.gallerySet[a].$galleryBusinessThumbnail.show():d.gallerySet[a].$galleryBusinessThumbnail.hide(),d.gallerySet[a].$galleryBusinessDetails.show(),c.isFirst(a)?d.gallerySet[a].$galleryPreviousLink.addClass("disabled"):d.gallerySet[a].$galleryPreviousLink.removeClass("disabled"),c.isLast(a)?d.gallerySet[a].$galleryNextLink.addClass("disabled"):d.gallerySet[a].$galleryNextLink.removeClass("disabled"),c.log("In loadContent function."),b()},previousImage:function(a){var b=this,c=b.config;b.isFirst(a)||(c.gallerySet[a].curIndex--,b.loadContent(a)),b.log("In previousImage function.")},nextImage:function(a){var b=this,c=b.config;b.isLast(a)||(c.gallerySet[a].curIndex++,b.loadContent(a)),b.log("In nextImage function.")},isFirst:function(a){var b=this,c=b.config;return!c.gallerySet[a].curIndex},isLast:function(a){var b=this,c=b.config;return c.gallerySet[a].curIndex>=c.galleryImgLists[a].length-1},emptyGallery:function(a){var b=this,c=b.config;c.gallerySet[a].$galleryImageContainer.find("."+c.galleryImageClass).css("margin-left","100%"),c.gallerySet[a].$galleryImageCount.empty(),c.gallerySet[a].$galleryTitle.empty(),c.gallerySet[a].$galleryDescription.empty(),c.gallerySet[a].$galleryUploadDetails.hide(),c.gallerySet[a].$galleryUploaderName.empty(),c.gallerySet[a].$galleryUploadDate.empty(),c.gallerySet[a].$galleryUploaderThumbnail.attr("src",""),c.gallerySet[a].$galleryBusinessDetails.hide(),c.gallerySet[a].$galleryBusinessName.empty(),c.gallerySet[a].$galleryBusinessThumbnail.attr("src",""),b.log("In emptyGallery function.")},adjustSize:function(a){var b=this,c=b.config,d=0;a=a||c.defaultRel,b.log("Adjusting the size."),d=c.gallerySet[a].$galleryContainer.height()-c.gallerySet[a].$galleryHeader.height()-c.gallerySet[a].$galleryDescriptionHeader.height(),c.gallerySet[a].$galleryContainer.find("."+c.galleryImageClass).height(d),c.gallerySet[a].$galleryContainer.find("."+c.galleryLoadingClass).height(d),b.log("Adjusted image height: "+d)},showDescription:function(a){var b=this,c=b.config;c.gallerySet[a].isOpen&&c.gallerySet[a].hasDescription&&(c.gallerySet[a].$galleryDescription.addClass("show"),c.gallerySet[a].$showDescriptionButton.addClass("active")),b.log("In showDescription function.")},hideDescription:function(a){var b=this,c=b.config;c.gallerySet[a].isOpen&&(c.gallerySet[a].$galleryDescription.removeClass("show"),c.gallerySet[a].$showDescriptionButton.removeClass("active")),b.log("In hideDescription function.")},toggleDescription:function(a){var b=this,c=b.config;c.gallerySet[a].isOpen&&(c.gallerySet[a].$galleryDescription.hasClass("show")?b.hideDescription(a):b.showDescription(a)),b.log("In toggleDescription function.")}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.cookies={utils:{getCookie:function(a){return decodeURIComponent(c.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},createCookie:function(a,b,d,e,f,g){if(!a||/^(?:expires|max\-age|path|domain|secure)$/i.test(a))return!1;var h="";if(d)switch(d.constructor){case Number:if(d===1/0)h="; expires=Fri, 31 Dec 9999 23:59:59 GMT";else{var i=new Date;i.setTime(i.getTime()+24*d*60*60*1e3),h="; expires="+i.toGMTString()}break;case String:h="; expires="+d;break;case Date:h="; expires="+d.toUTCString()}return c.cookie=encodeURIComponent(a)+"="+encodeURIComponent(b)+h+(f?"; domain="+f:"")+(e?"; path="+e:"")+(g?"; secure":""),!0},removeCookie:function(a,b,d){return a&&this.hasCookie(a)?(c.cookie=encodeURIComponent(a)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(d?"; domain="+d:"")+(b?"; path="+b:""),!0):!1},hasCookie:function(a){return new RegExp("(?:^|;\\s*)"+encodeURIComponent(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(c.cookie)}},init:function(){this.events()},events:function(){}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.corporatelead={config:{$cLeadPopup:a({}),$cLeadButton:a({}),cLeadMax:3},init:function(){var b=this,c=this.config;if(c.$cLeadPopup=a("["+this.attr_name("clead-popup")+"]"),c.$cLeadButton=a("["+this.attr_name("clead-btn")+"]"),!c.$cLeadPopup.length)return!1;var d=c.$cLeadPopup.attr(this.attr_name("clead-name"));if(d){var e=+b.getCookie(d);if(e>=c.cLeadMax)return!0;b.createCookie(d,++e)}c.$cLeadPopup.foundation("reveal","open"),this.events()},events:function(){var a=this.config;a.$cLeadButton.on("click",function(b){b.preventDefault(),a.$cLeadPopup.foundation("reveal","open")})}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.buttons={init:function(){this.events()},events:function(){var a=this,b=this.config;b.roleEl.follow.on("click",function(b){b.preventDefault(),a.sendFollowRequest(this)}),b.roleEl.like.on("click",function(b){b.preventDefault(),a.sendRequest(this,"like")})},sendFollowRequest:function(b){var c=this,d=this.config;a(b).addClass("disabled loading-btn").prop("disabled",!0);var e=a(b).attr("href"),f={userID:a(b).attr(c.attr_name("uid")),value:+!a(b).attr(c.attr_name("value"))};a.get(e,f,function(a){var b=d.roleEl.follow.filter("["+c.attr_name("uid")+"="+f.userID+"]");b.removeClass("disabled loading-btn").prop("disabled",!1).attr(c.attr_name("value"),a.value),a.value?(c.log("Followed."),b.addClass("follow-btn").removeClass("unfollow-btn").html('<i class="icon-user-add"></i> Follow')):(c.log("Unfollowed."),b.addClass("unfollow-btn").removeClass("follow-btn").html('<i class="icon-ok"></i> Following'))})},sendRequest:function(b,c){var d=this,e=this.config;a(b).addClass("disabled").prop("disabled",!0).html('<img class="loader" src="img/vcloader-dots-white.gif">');var f=a(b).attr("href"),g={userID:a(b).attr(d.attr_name("uid")),value:+!a(b).attr(d.attr_name("value"))};a.get(f,g,function(a){var b=e.roleEl.follow.filter("["+d.attr_name("uid")+"="+g.userID+"]");switch(b.removeClass("disabled").prop("disabled",!1).attr(d.attr_name("value"),a.value),c){case"follow":a.value?(d.log("Followed."),b.addClass("follow-btn").removeClass("unfollow-btn").html('<i class="icon-user-add"></i> Follow')):(d.log("Unfollowed."),b.addClass("unfollow-btn").removeClass("follow-btn").html('<i class="icon-ok"></i> Following'));break;case"like":a.value?(d.log("Liked."),b.addClass("active").html('<i class="icon-heart"></i> Liked')):(d.log("Unliked."),b.removeClass("active").html('<i class="icon-heart"></i> Like'))}})}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.select={config:{select:{queryHolder:"{QUERY}",options:{openingHours:["12:00AM","12:30AM","1:00AM","1:30AM","2:00AM","2:30AM","3:00AM","3:30AM","4:00AM","4:30AM","5:00AM","5:30AM","6:00AM","6:30AM","7:00AM","7:30AM","8:00AM","8:30AM","9:00AM","9:30AM","10:00AM","10:30AM","11:00AM","11:30AM","12:00PM","12:30PM","1:00PM","1:30PM","2:00PM","2:30PM","3:00PM","3:30PM","4:00PM","4:30PM","5:00PM","5:30PM","6:00PM","6:30PM","7:00PM","7:30PM","8:00PM","8:30PM","9:00PM","9:30PM","10:00PM","10:30PM","11:00PM","11:30PM","Closed"]}}},init:function(){var b=this,c=this.config,d=a("["+b.attr_name("select")+"]");d.length&&this.require("selectize",function(){return jQuery().selectize},function(){d.each(function(d,e){var f=a(e),g=null,h=null,i=null,j=null,k={plugins:["remove_button"],delimiter:",",persist:!1,create:!1,valueField:"value",labelField:"text",preload:!0};g=(h=f.attr(b.attr_name("remote"))||null)?function(d,e){b.log("Select component: query=",d),a.ajax({url:h.replace(c.select.queryHolder,encodeURIComponent(d)),type:"GET",error:function(){e()},success:function(a){e(a)}})}:null,g&&(k.load=g);var l=f.attr(b.attr_name("items"));l&&(j=l.split(",")),j&&(k.items=j);var m=f.attr(b.attr_name("options"));m&&(i=c.select.options[m]?c.select.options[m].map(function(a){return{text:a,value:a}}):m.split(",").map(function(a){return{text:a,value:a}})),i&&(k.options=i),f.selectize(k)})}),this.events()},events:function(){}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.productlist={config:{$productsList:a(".products-list"),$viewProducts:a(".view-products"),majorLength:20},init:function(){var b=this.config,c=b.$productsList.filter(function(c,d){return a(d).children("li").length>b.majorLength});a('<a href="#">Show all</a>').addClass("view-products hover-underline").appendTo(c),b.$viewProducts=a(b.$viewProducts.selector),c.addClass("show-few").each(function(c,d){a(d).children("li").slice(0,b.majorLength).addClass("major")}),this.events()},events:function(){var b=this.config;b.$viewProducts.on("click",function(c){c.preventDefault();var d=a(this).closest(b.$productsList);d.toggleClass("show-few"),d.hasClass("show-few")?d.find(b.$viewProducts).html("Show all"):d.find(b.$viewProducts).html("Show less")}),b.$productsList.find("a").on("click",function(a){})}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.nslider={config:{},init:function(){var b=this,c=this.config,d=c.nslider;d.$els=a("["+b.attr_name("nslider")+"]"),d.sliderPagerPair={};d.$els.length&&this.require("owlcarousel",function(){return jQuery().owlCarousel},function(){d.$els.each(function(c,e){var f=a(e),g="",h={loop:f.children().length>1&&!0||!1,autoplay:!1,autoplaySpeed:!1,autoplayTimeout:5e3,stagePadding:0,autoplayHoverPause:!0,nav:!0,autoWidth:!0,item:1,responsive:{mobileRez:{items:3},tabletRez:{items:3},desktopRez:{items:6}},lazyLoad:!0,dots:!0};"undefined"!=typeof f.attr(b.attr_name("nslider"))&&(h.dotsContainer=a("["+b.attr_name("nslider-pager")+'="'+f.attr(b.attr_name("nslider"))+'"]')),"undefined"!=typeof f.attr(b.attr_name("arrows"))&&("false"==f.attr(b.attr_name("arrows"))?h.nav=!1:h.nav=!0),"undefined"!=typeof f.attr(b.attr_name("infinite"))&&("false"==f.attr(b.attr_name("infinite"))?h.loop=!1:h.loop=f.children().length>1&&!0||!1),"undefined"!=typeof f.attr(b.attr_name("autoplay"))&&("false"==f.attr(b.attr_name("autoplay"))?h.autoplay=!1:h.autoplay=!0),"undefined"!=typeof f.attr(b.attr_name("dots"))&&("false"==f.attr(b.attr_name("dots"))?h.dots=!1:h.dots=!0),"undefined"!=typeof f.attr(b.attr_name("variable"))&&("false"==f.attr(b.attr_name("variable"))?h.autoWidth=!1:h.autoWidth=!0),"undefined"!=typeof f.attr(b.attr_name("autospeed"))&&("false"==f.attr(b.attr_name("autoplayspeed"))?h.autoplaySpeed=!1:h.autoplaySpeed=!0),"undefined"!=typeof f.attr(b.attr_name("autoplaypause"))&&("false"==f.attr(b.attr_name("autoplaypause"))?h.autoplayHoverPause=!1:h.autoplayHoverPause=!0),"undefined"!=typeof f.attr(b.attr_name("centermode"))&&("false"==f.attr(b.attr_name("centermode"))?h.center=!1:h.center=!0),f.attr(b.attr_name("stage"))&&(h.stagePadding=+f.attr(b.attr_name("stage"))),f.attr(b.attr_name("showno"))&&(h.items=+f.attr(b.attr_name("showno"))),f.attr(b.attr_name("margin-right"))&&(h.margin=+f.attr(b.attr_name("margin-right"))),f.attr(b.attr_name("slideno"))&&(h.slideBy=+f.attr(b.attr_name("slideno"))),f.attr(b.attr_name("autoplayspeed"))&&(h.autoplayTimeout=+f.attr(b.attr_name("autoplayspeed"))),f.attr("rel")&&(g=f.attr("rel"),g&&(d.sliderPagerPair[g]||(d.sliderPagerPair[g]={}),"undefined"!=typeof f.attr(b.attr_name("nslider-pager"))?d.sliderPagerPair[g].pager=f:d.sliderPagerPair[g].slider=f)),f.off("refreshed.owl.carousel initialized.owl.carousel").on("refreshed.owl.carousel initialized.owl.carousel",function(a){b._setOwlCarouselWidth.call(b,f),b.log("owl has been initialized.")}),b.reinitialize(f),f.owlCarousel(h),setTimeout(function(){b._setOwlCarouselWidth.call(b,f),b.log("carousel width set timed out.")},500),f.find("img").on("load",function(){b._setOwlCarouselWidth.call(b,f),b.log("carousel images loaded.")})})}),this.events()},events:function(){},_setOwlCarouselWidth:function(b){var c=this,d=this.config,e=(d.nslider,0);b.find(".owl-item").each(function(){e+=a(this).width()+1}),b.find(".owl-stage").width(e+1),c.log(e)},reinitialize:function(a){var b=a.data("owlCarousel");return b?(b.invalidate("width"),void b.refresh()):!1}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.tabs={name:"tabs",description:"description",config:{hashPrefix:"vc_"},init:function(){var c=this.config;a("[data-tab]").each(function(d){a(this).children("li").each(function(d){var e=a(this);return e.hasClass("no-js-tab")?!0:(e.hasClass("active")||a(e.children("a").attr("href")).addClass("hide"),void e.click(function(d){if(d.preventDefault(),!a(this).hasClass("active")){var e=this,f=a(e).parent("[data-tab]").children("li.active"),g=a(e).children("a").attr("href").replace("#","");a(f).removeClass("active"),a(a(f).children("a").attr("href")).addClass("hide"),a("[data-header="+a(a(f).children("a").attr("href")).attr("data-footer")+"]")&&a("[data-header="+a(a(f).children("a").attr("href")).attr("data-footer")+"]").addClass("hide"),a(e).addClass("active"),a(a(e).children("a").attr("href")).removeClass("hide"),a("[data-header="+a(a(e).children("a").attr("href")).attr("data-footer")+"]")&&a("[data-header="+a(a(e).children("a").attr("href")).attr("data-footer")+"]").removeClass("hide"),history.pushState?history.pushState(null,null,"#"+c.hashPrefix+g):location.hash="#"+c.hashPrefix+g,a(b).trigger("hashchange")}}))})}),this.events()},events:function(){var b=this,c=this.config;b.subscribe("vc:hashChange",function(d,e){b.log(e);var f=e.hash.replace(c.hashPrefix,""),g=a("[data-tab] li a[href=#"+f+"]"),h=a("[data-tab] li.active a[href=#"+f+"]");if(g.length&&!h.length){var i=g.closest("[data-tab]").children("li.active"),j=g.parent("li");a(i).removeClass("active"),b.log(g),b.log(i),a(a(i).children("a").attr("href")).addClass("hide"),a("[data-header="+a(a(i).children("a").attr("href")).attr("data-footer")+"]")&&a("[data-header="+a(a(i).children("a").attr("href")).attr("data-footer")+"]").addClass("hide"),a(j).addClass("active"),a(a(j).children("a").attr("href")).removeClass("hide"),a("[data-header="+a(a(j).children("a").attr("href")).attr("data-footer")+"]")&&a("[data-header="+a(a(j).children("a").attr("href")).attr("data-footer")+"]").removeClass("hide")}})}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.ctv={config:{ctv:{description:"Responsible for the click-to-view logic"}},init:function(){a("[data-ctv]").children(".masked").addClass("hide"),this.events()},events:function(){var b=(a(".js-cloneNumber").html(),"");a("[data-ctv]").on("click",function(c){c.preventDefault(),a(this).hasClass("open")||(a(this).children(".mask").addClass("hide"),a(this).children(".masked").removeClass("hide").addClass("show block-div"),a(this).addClass("open"),b="yesClicked")}),a(".dt-wrapper").on("click",function(a){})}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.helpful={config:{helpful:{phoneHelpfulURL:"/detail/wasthishelpful"}},init:function(){var b=this,c=this.config,d=c.helpful;d.$detailContainer=a(".dt-wrapper"),d.$phoneHelpfulContainer=a(".js-phone-helpful"),d.enterNumber=a(".js-enterNumber"),d.$helpfulYesLink=d.$phoneHelpfulContainer.find(".js-helpful-yes"),d.$helpfulYesLinkTwo=d.$phoneHelpfulContainer.find(".js-helpful-yes2"),d.$helpfulNoLink=d.$phoneHelpfulContainer.find(".js-helpful-no"),d.$helpfulNoLinkTwo=d.$phoneHelpfulContainer.find(".js-helpful-no2"),d.$usefulNumber=d.$phoneHelpfulContainer.find(".js-usefulNumber"),d.$usefulNumberTwo=d.$phoneHelpfulContainer.find(".js-usefulNumber2"),d.$yesCorrect=d.$phoneHelpfulContainer.find(".js-yesCorrect"),d.$yesCorrectTwo=d.$phoneHelpfulContainer.find(".js-yesCorrect2"),d.$correctNumber=d.$phoneHelpfulContainer.find(".js-correctNumber"),d.$whyNotBox=d.$phoneHelpfulContainer.find(".why-not-helpful-box"),d.$optionUnvailClick=d.$phoneHelpfulContainer.find(".js-option-unavail"),d.$optionWrongClick=d.$phoneHelpfulContainer.find(".js-option-wrong"),d.$optionOff=d.$phoneHelpfulContainer.find(".js-option-off"),d.$helpNumberBoxOne=d.$phoneHelpfulContainer.find(".js-helpnumberbox1"),d.$helpfulBoxBtnOne=d.$phoneHelpfulContainer.find(".js-helpbtn1"),d.$helpfulBoxResponseOne=d.$phoneHelpfulContainer.find(".js-resonse-thank1"),d.$helpfulBox=d.$phoneHelpfulContainer.find(".helpbox-1"),d.$optionUnvailInfo=d.$phoneHelpfulContainer.find(".js-unavailable"),d.$optionClickInfo=d.$phoneHelpfulContainer.find(".js-option-off-click"),d.$correctNumberTwo=d.$phoneHelpfulContainer.find(".js-correctNumber2"),d.$whyNotBoxTwo=d.$phoneHelpfulContainer.find(".why-not-helpful-box2"),d.$optionUnvailClickTwo=d.$phoneHelpfulContainer.find(".js-option-unavail2"),d.$optionWrongClickTwo=d.$phoneHelpfulContainer.find(".js-option-wrong2"),d.$optionOffTwo=d.$phoneHelpfulContainer.find(".js-option-off2"),d.$helpNumberBoxTwo=d.$phoneHelpfulContainer.find(".js-helpnumberbox2"),d.$helpfulBoxBtnTwo=d.$phoneHelpfulContainer.find(".js-helpbtn2"),d.$helpfulBoxResponseTwo=d.$phoneHelpfulContainer.find(".js-resonse-thank2"),d.$helpfulBoxTwo=d.$phoneHelpfulContainer.find(".helpbox-2"),d.$optionUnvailInfoTwo=d.$phoneHelpfulContainer.find(".js-unavailable2"),d.$optionClickInfoTwo=d.$phoneHelpfulContainer.find(".js-option-off-click2"),d.$phoneHelpfulContainer.hasClass("open")||(b.log("dropdown closed!!!"),d.$usefulNumber.fadeIn(300),d.$whyNotBox.fadeOut(300)),this.events()},events:function(){var b=this,c=this.config,d=c.helpful;d.$helpfulYesLink.off("click.vc.helpful").on("click.vc.helpful",function(c){c.preventDefault();var e=a(this);d.$yesCorrect.removeClass("hide").fadeIn(),d.$usefulNumber.addClass("hide").fadeOut(),b.log("Yessed the number! :)"),b.sendHelpfulPhone(e,"YES")}),d.$helpfulYesLinkTwo.off("click.vc.helpful").on("click.vc.helpful",function(c){c.preventDefault();var e=a(this);d.$usefulNumberTwo.fadeOut(300),d.$yesCorrectTwo.fadeIn(300),b.log("Yessed the number! :)"),b.sendHelpfulPhone(e,"YES")}),d.$optionOff.on("click",function(a){a.preventDefault(),d.$whyNotBox.fadeOut(300),d.$optionClickInfo.delay(2e3).fadeIn(300),d.$helpfulBox.delay(2500).fadeOut(300)}),d.$optionUnvailClick.on("click",function(a){a.preventDefault(),d.$whyNotBox.delay(1e3).fadeOut(300),d.$optionUnvailInfo.delay(2e3).fadeIn(300),d.$helpfulBox.delay(2500).fadeOut(300)}),d.$optionOffTwo.on("click",function(a){a.preventDefault(),d.$whyNotBoxTwo.fadeOut(300),d.$optionClickInfoTwo.delay(2e3).fadeIn(300),
d.$helpfulBoxTwo.delay(2500).fadeOut(300)}),d.$optionUnvailClickTwo.on("click",function(a){a.preventDefault(),d.$whyNotBoxTwo.fadeOut(300),d.$optionUnvailInfoTwo.delay(2e3).fadeIn(300),d.$helpfulBoxTwo.delay(2500).fadeOut(300)}),d.$optionWrongClick.on("click",function(a){a.preventDefault(),d.$whyNotBox.fadeOut(300),d.$correctNumber.delay(2e3).fadeIn(300)}),d.$helpNumberBoxOne.on("valid",function(a){a.preventDefault(),d.$helpfulBoxBtnOne.on("click",function(a){d.$correctNumber.delay(1e3).fadeOut(300),d.$helpfulBoxResponseOne.delay(2e3).fadeIn(300),d.$helpfulBox.delay(2500).fadeOut(300)})}),d.$optionWrongClickTwo.on("click",function(a){a.preventDefault(),d.$whyNotBoxTwo.fadeOut(300),d.$correctNumberTwo.delay(2e3).fadeIn(300)}),d.$helpNumberBoxTwo.on("valid",function(a){a.preventDefault(),d.$helpfulBoxBtnTwo.on("click",function(a){d.$correctNumberTwo.delay(1e3).fadeOut(300),d.$helpfulBoxResponseTwo.delay(2e3).fadeIn(300),d.$helpfulBoxTwo.delay(2500).fadeOut(300)})}),d.$helpfulNoLink.off("click.vc.helpful").on("click.vc.helpful",function(c){c.preventDefault();var e=a(this);d.$usefulNumber.fadeOut(300),d.$whyNotBox.fadeIn(300),b.log("Noed the number! :("),b.sendHelpfulPhone(e,"NO")}),d.$helpfulNoLinkTwo.off("click.vc.helpful").on("click.vc.helpful",function(c){c.preventDefault();var e=a(this);d.$usefulNumberTwo.fadeOut(300),d.$whyNotBoxTwo.fadeIn(300),b.log("Noed the number! :("),b.sendHelpfulPhone(e,"NO")})},sendHelpfulPhone:function(b,c){var d=this,e=this.config,f=e.helpful,g=b,h=g.closest(f.$phoneHelpfulContainer).attr(d.attr_name("phone")),i=g.closest("["+d.attr_name("bizid")+"]").attr(d.attr_name("bizid")),j={whichnumber:h,status:c,bizid:i};d.log("Helpful data: ",c,h,i),d.loading(g.closest(f.$phoneHelpfulContainer),"start"),a.ajax({url:f.phoneHelpfulURL,type:"POST",dataType:"json",data:j,success:function(a){1==a.status?d.notifyMe("Thanks for the feedback. You rock! :)"):d.notifyMe({message:"Oops! Something went wrong. You can try again later.",type:"error"})},complete:function(){d.loading(g.closest(f.$phoneHelpfulContainer),"stop")}})}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.modal={config:{modal:{imgBgClass:"image-bg",animationClass:"fade",modalOpenClass:"open",modalOpenAnchorClass:"open-anchor",modalWrapperClass:"modal-container",overlayClass:"modal-overlay",oldOverlayClass:"reveal-modal-bg",closeButtonClass:"modal-close",closeButtonClassOld:"close-reveal-modal",blurContainerClass:"modal-blur",blurContainerSelector:".wrapper",currentClass:"current",hideClass:"hide",modalBodyOpen:"modal-noscroll",modalTop:80,modals:{}}},init:function(){var b=this,c=this.config,d=c.modal;d.$modalTrigger=a("["+this.attr_name("modal")+"]"),d.$blurContainer=a(d.blurContainerSelector),d.openModals=[],d.$modalTrigger.each(function(){var c=a(this).attr(b.attr_name("modal")),e=a("["+b.attr_name("modal-id")+'="'+c+'"]');d.modals[c]={$modal:e,$originalParent:e.parent(),$modalTrigger:a(this),$overlay:a("<div>").addClass(d.overlayClass).addClass(d.hideClass).data("modal-id",c),$modalWrapper:a("<div>").addClass(d.modalWrapperClass).addClass(d.hideClass).data("modal-id",c),$closeButton:a('<a href="#">&times;</a>').addClass(d.closeButtonClass).data("modal-id",c)},d.modals[c].$closeButton.appendTo(d.modals[c].$modalWrapper),a("body").append(d.modals[c].$modalWrapper),a("body").append(d.modals[c].$overlay)}),this.events()},events:function(){var b=this,c=b.config,d=c.modal;d.$modalTrigger.off("click.vc.modal").on("click.vc.modal",function(c){var e=a(this).attr(b.attr_name("modal"));return a("body").addClass(d.modalBodyOpen),a("#"+e).length&&a("#"+e)[0].hasAttribute("data-reveal")?a("#"+e).foundation("reveal","open"):b.openModal(e),!1}),a("body").off("click.vc.modal","."+d.overlayClass).on("click.vc.modal","."+d.overlayClass,function(c){b.closeModal(a(this).data("modal-id")),a("body").removeClass(d.modalBodyOpen),b.log(a(this).data("modal-id"))}),a("body").off("click.vc.modal","."+d.oldOverlayClass).on("click.vc.modal","."+d.oldOverlayClass,function(b){a("body").removeClass(d.modalBodyOpen)}),a("body").off("click.vc.modal","."+d.closeButtonClass).on("click.vc.modal","."+d.closeButtonClass,function(c){c.preventDefault(),b.closeModal(a(this).data("modal-id")),a("body").removeClass(d.modalBodyOpen),b.log(a(this).data("modal-id"))}),a("body").off("click.vc.modal","."+d.closeButtonClassOld).on("click.vc.modal","."+d.closeButtonClassOld,function(b){b.preventDefault(),a("body").removeClass(d.modalBodyOpen)}),a("body").off("keyup.vc.modal").on("keyup.vc.modal",function(c){27==c.which&&(d.openModals.length&&b.closeModal(d.openModals[d.openModals.length-1]),a("body").removeClass(d.modalBodyOpen),a(".reveal-modal.open").length&&a("body").removeClass(d.modalBodyOpen))}),b.subscribe("vc:modal/open",function(a){b.openModal(a.modal)}),b.subscribe("vc:modal/close",function(a){b.closeModal(a.modal)})},openModal:function(b){for(var c=this,d=c.config,e=d.modal,f="string"==typeof b?a("["+c.attr_name("modal-id")+'="'+b+'"]'):b,g=f.attr(c.attr_name("modal-id")),h=e.openModals.length-1;h>=0;h--)if(e.openModals[h]==g)return!1;f.detach().appendTo(e.modals[g].$modalWrapper),e.modals[g].$modalWrapper.addClass(e.animationClass).removeClass(e.hideClass),e.modals[g].$overlay.addClass(e.animationClass).removeClass(e.hideClass),e.modals[g].$modalWrapper.height(),e.modals[g].$modalWrapper.addClass(e.modalOpenAnchorClass),e.openModals.push(g),c.setCurrentModal(g),e.modals[g].$modalWrapper.addClass(e.modalOpenClass),e.modals[g].$overlay.addClass(e.modalOpenClass)},closeModal:function(b){var c,d=this,e=d.config,f=e.modal,g="string"==typeof b?a("["+d.attr_name("modal-id")+'="'+b+'"]'):b,h=g&&g.attr(d.attr_name("modal-id"));if(g&&g.length){if(!h&&g[0].hasAttribute("data-reveal"))return g.foundation("reveal","close"),!0;for(d._close(h),c=f.openModals.length-1;c>=0;c--)f.openModals[c]==h&&f.openModals.splice(c,1);f.openModals.length&&d.setCurrentModal(f.openModals[f.openModals.length-1])}else{for(c=f.openModals.length-1;c>=0;c--)d._close(f.openModals[c]);f.openModals=[]}a("body").removeClass(f.modalBodyOpen)},_close:function(b){var c=this,d=c.config,e=d.modal,f=b;e.modals[f].$overlay.removeClass(e.modalOpenClass),e.modals[f].$modalWrapper.removeClass(e.modalOpenClass),e.modals[f].$modalWrapper.removeClass(e.modalOpenAnchorClass),e.modals[f].$modalWrapper.css("top",""),c.log("trans",c.transitionEnd),e.modals[f].$overlay.off(c.transitionEnd).on(c.transitionEnd,function(){var b=a(this);b.off(c.transitionEnd),b.addClass(e.hideClass)}),e.modals[f].$modalWrapper.off(c.transitionEnd).on(c.transitionEnd,function(){var b=a(this);b.off(c.transitionEnd),e.modals[f].$modal.detach().appendTo(e.modals[f].$originalParent),b.addClass(e.hideClass),c.log(b)})},setCurrentModal:function(b){var c=this,d=c.config,e=d.modal;a("."+e.overlayClass).removeClass(e.currentClass),a("."+e.modalWrapperClass).removeClass(e.currentClass),e.modals[b].$modalWrapper.addClass(e.currentClass),e.modals[b].$overlay.addClass(e.currentClass)}}}(jQuery,window,document),function(a){window.app.comps.leadform={name:"leadform",description:"Script for lead forms related interactivity",init:function(){var b=this.config,c=1,d=0;if(b.$leadFormSections.length<=0)return!1;var e=function(){b.$leadFormNavigationList.find("[data-section-id]").filter('[data-section-id="'+c+'"]').parent("li").addClass("active current").nextAll("li").removeClass("active current").end().prevAll("li").addClass("active").removeClass("current"),b.$leadFormSections.hide(),b.$leadFormSections.filter('[data-section-id="'+c+'"]').fadeIn()};d=b.$leadFormSections.length,b.$leadFormsContainer.find(b.roleEl.loading).hide(),e(),b.$leadFormSections.find(b.roleEl.prev).on("click",function(a){a.preventDefault(),c>1&&(c--,e())}),b.$leadFormSections.find(b.roleEl.next).on("click",function(a){a.preventDefault(),d>c&&(c++,e())}),b.$leadFormNavigationList.find("[data-section-id]").on("click",function(b){b.preventDefault(),c!=a(this).data("section-id")&&(c=a(this).data("section-id"),e())})}}}(jQuery),function(a,b,c,d){b.app.comps.siteheader={config:{siteheader:{makeRoomClass:"make-room",homepageClass:"hp",homepageHeaderClass:"hp-header",detailspageClass:"bp",detailspageHeaderClass:"bp-header"}},init:function(){var c=this,d=this.config,e=d.siteheader;return e.$container=a("["+c.attr_name("siteheader")+"]"),e.$container.length?(e.isHomepage=e.$container.hasClass(e.homepageClass),e.$headerStop=a(".js-header-stop"),e.$dropdownMenus=e.$container.find(".js-has-dropdown-menu"),e.$dropdownMenuTrigger=e.$dropdownMenus.find("> li > a").filter(function(){return!a(this).is(":only-child")}),Modernizr.touch?e.$dropdownMenus.addClass("show-on-click"):e.$dropdownMenus.addClass("show-on-hover"),e.lastScroll=a(b).scrollTop(),c.log("In site header.."),void c.events()):!1},events:function(){var d=this,e=this.config,f=e.siteheader;d.log(f.$dropdownMenuTrigger),f.$dropdownMenuTrigger.off("click.vc.siteheader").on("click.vc.siteheader",function(b){Modernizr.touch&&(b.preventDefault(),b.stopPropagation()),d.log(this),a(this).parent().toggleClass("open").siblings().removeClass("open")}),a(c).off("click.vc.siteheader").on("click.vc.siteheader",function(a){f.$dropdownMenuTrigger.parent().removeClass("open")}),a(b).off("scroll.vc.siteheader").on("scroll.vc.siteheader",function(c){var e=a(b).scrollTop();d.log(f.lastScroll,e),e>f.lastScroll?(f.$container.addClass(f.makeRoomClass),d.log("make room!")):e<f.lastScroll&&f.$container.removeClass(f.makeRoomClass),f.lastScroll=e,f.isHomepage&&f.$headerStop.length&&(d.log(e,f.$headerStop.offset(),f.$headerStop.height()),e>f.$headerStop.offset().top+f.$headerStop.outerHeight()?f.$container.removeClass(f.homepageHeaderClass):f.$container.addClass(f.homepageHeaderClass))})}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.searchterm={config:{nTermsURL:"../HomeWEB/KeywordAutoComplete?term=%QUERY",nTermsCategoryURL:"/terms-cat.json?%QUERY",destChoiceURL:"/SearchListWEB/DecideSearchPage?sq=%SEARCH_TERM%",scriptURLs:{ntypeahead:"/js/vendor/typeahead/typeahead.bundle.min.js"},searchterm:{qsearchPattern:"qsearch?sq=%SEARCH_TERM%&sl=%SEARCH_LOCATION%",isearchPattern:"isearch?sq=%SEARCH_TERM%",popularSearchesList:[],recentSearchesLocalStorageKey:"vc:searchterm:recent",recentSearchesMax:5,defaultSearchTimeout:2e3,searchLocation:"lagos",limits:{recentSearches:5,popularSearches:5,myMain:1/0,relatedProducts:1/0}}},init:function(){var b=this,c=this.config,d=c.searchterm;return d.$container=a("["+b.attr_name("searchterm")+"]"),d.$searchBtn=a("["+b.attr_name("searchterm-btn")+"]"),d.$choiceDropdown=a("["+b.attr_name("searchterm-choice")+"]"),d.popularSearchesList=d.popularSearchesList.map(function(a){return{content:a,which:"isearch",urlType:"autocomplete_popular"}}),d.$container.length?void this.require("ntypeahead",function(){return jQuery().typeahead},function(){d.recentSearches=function(a,c){""===a&&c(b.getRecentSearches())},d.popularSearches=function(a,b){""===a&&b(d.popularSearchesList)},d._myMain=function(a,b,c){""!==a&&d.myMain.search(a,b,c)},d.myMain=new Bloodhound({datumTokenizer:function(a){return Bloodhound.tokenizers.whitespace(a.label)},queryTokenizer:Bloodhound.tokenizers.whitespace,remote:{url:c.nTermsURL,wildcard:"%QUERY",transform:function(a){return a.main||[]}}}),d._relatedProducts=function(a,b,c){""!==a&&d.relatedProducts.search(a,b,c)},d.relatedProducts=new Bloodhound({datumTokenizer:function(a){return Bloodhound.tokenizers.whitespace(a.label)},queryTokenizer:Bloodhound.tokenizers.whitespace,remote:{url:c.nTermsURL,wildcard:"%QUERY",transform:function(a){return a.related||[]}}}),d._suggestionSet=function(a,b,c){""!==a&&d.suggestionSet.search(a,b,c)},d.suggestionSet=new Bloodhound({datumTokenizer:function(a){return Bloodhound.tokenizers.whitespace(a.label)},queryTokenizer:Bloodhound.tokenizers.whitespace,remote:{url:c.nTermsURL,wildcard:"%QUERY",transform:function(a){return a.suggestions||[]}}}),d.searchLocation=d.$container.attr(b.attr_name("location"))||d.searchLocation,d.deviceType=d.$container.attr(b.attr_name("device")),"mobile"==d.deviceType&&(d.limits.recentSearches=4,d.limits.popularSearches=3),d.$container.typeahead({minLength:0,highlight:!0},{name:"popularSearches",source:d.popularSearches,display:"content",limit:d.limits.popularSearches,templates:{header:'<div class="clearfix"><span class="autocomplete-subtle-header right">Popular Searches</span></div>'}},{name:"recentSearches",source:d.recentSearches,display:"content",limit:d.limits.recentSearches,templates:{header:'<div class="clearfix"><span class="autocomplete-subtle-header right">Recent Searches</span></div>'}},{name:"myMain",source:d._myMain,display:"content",limit:d.limits.myMain,templates:{suggestion:function(a){return"<div><div>"+a.content+'</div><div class="autocomplete-subtle-type">'+a.contenttypetext+"</div></div>"}}},{name:"relatedProducts",source:d._relatedProducts,display:"content",limit:d.limits.relatedProducts,templates:{header:function(a){return'<div class="clearfix"><span class="autocomplete-subtle-header right">Related Products</span></div>'},suggestion:function(a){return'<div class="clearfix"><div class="autocomplete-item-image"><img src="'+a.image+'"></div><div class="autocomplete-item-name">'+a.content+'</div><div class="autocomplete-item-price">&#8358;'+a.price+"</div></div>"}}},{name:"suggestionSet",source:d._suggestionSet,limit:d.limits.myMain,templates:{header:function(a){return'<div class="autocomplete-dym-header">Did you mean:</div>'}}}),b.changeAutocompleteData(d.$choiceDropdown.val()),b.events()}):!1},events:function(){var b=this,c=this.config,d=c.searchterm;d.$container.closest("form").off("submit").on("submit",function(a){return b.startSearch(),!1}),d.$container.off("keyup.vc.searchterm").on("keyup.vc.searchterm",function(a){13==(a.keyCode?a.keyCode:a.which)&&b.startSearch()}),d.$searchBtn.off("click.vc.searchterm").on("click.vc.searchterm",function(a){b.startSearch()}),d.$container.off("typeahead:select").on("typeahead:select",function(a,c){b.log(a,c),d.curSearchterm=encodeURIComponent(d.$container.val()),c.url?(d.destURL=c.url,d.destURLType=c.urlType||"autocomplete",b.goToPage()):b.startSearch(c)}),d.$choiceDropdown.off("change.vc.searchterm").on("change.vc.searchterm",function(c){b.changeAutocompleteData(a(this).val()),b.createCookie("otype",a(this).val(),null,"/")})},getRecentSearches:function(){var a=this.config,b=a.searchterm,c=localStorage.getItem(b.recentSearchesLocalStorageKey),d=[];return c&&(d=JSON.parse(c)),d},addToRecent:function(a){var b,c=this,d=this.config,e=d.searchterm,f=c.getRecentSearches();for(b=f.length-1;b>=0;b--)if(f[b].url==a.url){f.splice(b,1);break}f.length>=e.recentSearchesMax&&f.shift(),f.push(a),localStorage.setItem(e.recentSearchesLocalStorageKey,JSON.stringify(f))},startSearch:function(b){var c=this,d=this.config,e=d.searchterm;if(!e.$container.val().replace(/\s/g,""))return!1;e.curSearchterm=encodeURIComponent(e.$container.val());var f=b&&b.which;return e.destURLType=b&&b.urlType||"autocomplete","isearch"==f?e.destURL=e.isearchPattern.replace(/%SEARCH_TERM%/g,e.curSearchterm):e.destURL=e.qsearchPattern.replace(/%SEARCH_TERM%/g,e.curSearchterm).replace("%SEARCH_LOCATION%",e.searchLocation),f?(c.goToPage(),!0):("businesses"==e.$choiceDropdown.val()?c.goToPage():a.getJSON(d.destChoiceURL.replace(/%SEARCH_TERM%/g,e.curSearchterm),function(a){clearTimeout(e.defaultSearchTimeout),a.isearch?e.destURL=e.isearchPattern.replace(/%SEARCH_TERM%/g,e.curSearchterm):"products"==e.$choiceDropdown.val()&&(e.destURL+="&om=1"),c.goToPage()}),void c.log("submitted"))},goToPage:function(){var a=this,c=this.config,d=c.searchterm;if(d.isLoading)return!1;a.log(d.destURL),a.addToRecent({content:d.$container.val(),url:d.destURL,urlType:"autocomplete_recent"}),d.isLoading=!0;var e="/"+d.destURL;e+=e.indexOf("?")<0?"?":"&",e+="ref="+d.destURLType,a.log(e),d.$container.val().replace(/\s/g,"")&&a.createCookie("oterm",d.$container.val(),null,"/"),b.location=e},changeAutocompleteData:function(a){var b=this.config,c=b.searchterm;c.myMain.remote.url=b.nTermsURL+"&otype="+a,c.myMain.initialize(!0),c.myMain.clear(),c.relatedProducts.remote.url=b.nTermsURL+"&otype="+a,c.relatedProducts.initialize(!0),c.relatedProducts.clear(),c.suggestionSet.remote.url=b.nTermsURL+"&otype="+a,c.suggestionSet.initialize(!0),c.suggestionSet.clear()},getURLParameters:function(a){for(var c,d={},e=/\+/g,f=/([^&=]+)=?([^&]*)/g,g=function(a){return decodeURIComponent(a.replace(e," "))},h=a?a.substring(1):b.location.search.substring(1);c=f.exec(h);)d[g(c[1])]=g(c[2]);return d}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.scrollto={config:{},init:function(){var b=this,c=this.config,d=c.scrollto;d.offset=300,d.offsetOpacity=1200,d.scrollTopDuration=700,d.scrollToElementOffset=75,c.$scrollto=a("["+b.attr_name("scrollto")+"]"),c.$scrollToOffset=a("["+b.attr_name("scrollto-offset")+"]"),this.events()},events:function(){var c=this,d=this.config,e=d.scrollto;a(b).scroll(function(){a(this).scrollTop()>e.offset?d.$scrollto.addClass("sc-vc-is-visible"):d.$scrollto.removeClass("sc-vc-is-visible sc-vc-fade-out"),a(this).scrollTop()>e.offsetOpacity&&d.$scrollto.addClass("sc-vc-fade-out")}),d.$scrollto.off("click.vc.scrollto").on("click.vc.scrollto",function(b){b.preventDefault();var d,f=a(this),g=f.attr(c.attr_name("scrollto")),h=f.attr(c.attr_name("scrollto-offset"));d=h?+h:e.scrollToElementOffset;var i=0;switch(c.log(g),g){case null:case"":i=0;break;case"top":i=0;break;case"bottom":i=a("body").height();break;default:i=a("#"+g).offset().top-d}c.scrollTo(i)}),c.subscribe("vc:scrollto/top",function(a){c.scrollTo(0)})},scrollTo:function(b){var c=this.config,d=c.scrollto;a("body,html").animate({scrollTop:b},d.scrollTopDuration)}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.ntabs={config:{ntabs:{activeTabClass:"active",tabsContainerClass:"tabs-content",tabsClass:"content"}},init:function(){var b=this,c=(this.config,this.config.ntabs);c.$tabTriggers=a("["+b.attr_name("tab")+"]"),c.tabContents=a("."+c.tabsContainerClass).find("."+c.tabsClass),c.$tabTriggers.each(function(){var c=a(this);"active"==c.attr(b.attr_name("tab"))&&b.showTab(this)}),this.events()},events:function(){var a=this,b=(this.config,this.config.ntabs);b.$tabTriggers.off("click.vc.tabs").on("click.vc.tabs",function(b){b.preventDefault(),a.showTab(this),a.publish("vc:init","nslider")})},showTab:function(b){var c=this,d=(this.config,this.config.ntabs),e=a(b).attr("href");d.tabContents.removeClass(d.activeTabClass),d.tabContents.filter(e).addClass(d.activeTabClass),a(b).closest("["+c.attr_name("tabs")+"]").children("li").removeClass(d.activeTabClass),a(b).closest("["+c.attr_name("tabs")+"] li").addClass(d.activeTabClass)}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.searchlocation={init:function(){var b=this,c=this.config,d=c.searchlocation;return d.$container=a(".search-location-box"),d.$container.length?(d.$searchLocationCurrent=d.$container.find(".js-current-location"),d.$searchLocationInput=d.$container.find("["+b.attr_name("searchlocation-input")+"]"),d.$searchLocationEditShow=d.$container.find(".js-show-edit"),d.$searchLocationEditSection=d.$container.find(".js-search-location-edit-section"),d.$searchLocationEditCancel=d.$container.find(".js-cancel-edit"),void this.require("ntypeahead",function(){return jQuery().typeahead},function(){b.log("searchlocation.."),d.searchLocation=new Bloodhound({datumTokenizer:function(a){return Bloodhound.tokenizers.whitespace(a.label)},queryTokenizer:Bloodhound.tokenizers.whitespace,remote:{url:c.locationsURL,wildcard:"%QUERY"}}),d.$searchLocationInput.typeahead({minLength:2,highlight:!0},{name:"searchlocation",source:d.searchLocation,display:"label"}),b.events()})):!1},events:function(){var a=this,b=this.config,c=b.searchlocation;a.log("searchlocation.."),c.$searchLocationEditShow.off("click.vc.nlisting").on("click.vc.nlisting",function(a){a.preventDefault(),c.$searchLocationCurrent.hide(),c.$searchLocationEditSection.fadeIn()}),c.$searchLocationEditCancel.off("click.vc.nlisting").on("click.vc.nlisting",function(a){a.preventDefault(),c.$searchLocationEditSection.hide(),c.$searchLocationCurrent.fadeIn()})}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.recentitems={init:function(){var b,c,d,e=this,f=e.config,g="vc:itemdata:recent",h=a("["+e.attr_name("item-data")+"]"),i=a("["+e.attr_name("recentitems")+"]"),j=5,k=a("#recentItemsTemplate").html();e.log("In recently viewed items component."),e.require("doT",function(){return"undefined"!=typeof doT},function(){if(i.length&&(c=localStorage.getItem(g))){b=JSON.parse(c),e.log(b);var l={};l.docs=b,l.user=f.user;var m=a("<ul>").addClass("grid-view"),n=doT.template(k)(l);m.append(n),i.append(m)}if(h.length){var o=h.attr(e.attr_name("item-data")),p=JSON.parse(o);if(e.log(p),c=localStorage.getItem(g),e.log(c),b=[],c){for(b=JSON.parse(c),d=b.length-1;d>=0;d--)if(b[d].skuId==p.skuId){b.splice(d,1);break}b.length>=j&&b.shift()}b.push(p),localStorage.setItem(g,JSON.stringify(b))}e.events()})},events:function(){}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.cartCalculator={config:{$cartCalc:a("[data-vc-cart-calculator]"),$cartItem:a(".js-cat-item"),$subTotal:a(".js-cat-subtotal"),$delvTotal:a(".js-cat-dilivery-total"),$discount:a(".js-cat-discount"),$total:a(".js-cat-total"),$qty:a(".js-cat-item-qty"),moneyFormat:wNumb({mark:".",thousand:","})},calculateItem:function(b){var c=b.data.self,d=c.config,e=a(this),f=+e.val(),g=e.closest(".js-cat-item"),h=g.find(".js-item-price"),i=g.find(".js-you-save"),j=h.data("vc-cat-item-price"),k=f*+j;h.data("item-total-price",k).text(d.moneyFormat.to(k)),i.length&&i.text(d.moneyFormat.to(+i.data("you-save")*f)),c.calculateSubtotal()},calculateSubtotal:function(){var b=this,c=b.config,d=0,e=0;a.each(c.$cartItem,function(b){var c=a(this);d+=c.find(".js-item-price").data("item-total-price"),e+=c.find(".js-deliv-price").data("vc-item-delivery-price")}),c.$subTotal.data("vc-cat-subtotal",d).text(c.moneyFormat.to(d)),c.$delvTotal.data("vc-cat-delivery-total",e).text(c.moneyFormat.to(e)),b.calculateTotal()},calculateTotal:function(){var a=this.config,b=a.$subTotal.data("vc-cat-subtotal")+a.$delvTotal.data("vc-cat-delivery-total")-a.$discount.data("vc-cat-discount");a.$total.text(a.moneyFormat.to(b))},init:function(){var a=this;a.config.$cartCalc.length&&a.events()},events:function(){var a=this,b=a.config;b.$qty.on("change",{self:a},a.calculateItem)}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.popover={config:{popover:{margin:5,position:"bottom",animationClass:"fade slide"}},init:function(){var b=this,c=this.config,d=c.popover;d.$container=a("["+b.attr_name("popover")+"]"),d.$popoverContents=a("["+b.attr_name("popover-content")+"]").addClass(d.animationClass),d.createLinkOp=d.$popoverContents.find(".js-creatlist-link"),d.localUserCache={},this.events()},events:function(){var d=this,e=this.config,f=e.popover;f.$container.off("mouseenter.vc.popover").on("mouseenter.vc.popover",function(b){var c=a(this);b.preventDefault(),c[0].hasAttribute(d.attr_name("hover"))&&d.openPopover(c)}),f.$container.off("mouseleave.vc.popover").on("mouseleave.vc.popover",function(b){var c=a(this);b.preventDefault(),c[0].hasAttribute(d.attr_name("hover"))&&d.closePopover(c)}),f.$container.off("click.vc.popover").on("click.vc.popover",function(b){var c=a(this);b.preventDefault(),b.stopPropagation(),d.openPopover(c)}),a(c).bind("touchstart",function(a){f.$popoverContents.removeClass("is-open")}),a(c).off("click.vc.popover").on("click.vc.popover",function(a){f.$popoverContents.removeClass("is-open")}),f.$popoverContents.off("click.vc.popover").on("click.vc.popover",function(a){a.stopPropagation()}),a(f.$popoverContents).bind("touchstart",function(a){a.stopPropagation()}),f.createLinkOp.off("click.vc.popover").on("click.vc.popover",function(c){var d=a(this),e=d.attr("href");b.location.hash=e}),d.subscribe("vc:popover/close",function(a){d.log("closing popover..",a),d.closePopover(a.popoverTarget)})},popoverCss:function(b){function c(b,c,h,i){var j=e?e.is(b):!1,k=e?b.offset().top!==e.offset().top||b.offset().left!==e.offset().left:!1;return f||(f=h),j||(d=c,e=b),j||f!==h?!j||k?(g=i,c.css(i),void(f=h)):j&&k?void c.css(g):void 0:(g=a.extend(i,{left:g.left}),void c.css(g))}var d,e,f,g={};return{cache:c}}(this),openPopover:function(c,d){var e=this,f=this.config,g=f.popover,h=c.attr(e.attr_name("popover")),i=a("["+e.attr_name("popover-content")+'="'+h+'"]').toggleClass("is-open");g.$popoverContents.not(i).removeClass("is-open"),e.log(c,d,"openPopover"),d&&(i.addClass("is-open"),e.log("forced"));var j=c.offset(),k=i.offsetParent(),l=k.offset();"user-popover"==h&&(d="top");var m=d||c.attr(e.attr_name("position"))||g.position;e.log(i.outerHeight());var n={top:0,left:0};switch(m){case"left":n={top:0,left:-i.outerWidth()-g.margin};break;case"right":n={top:0,left:c.outerWidth()+g.margin};break;case"top":n={top:-i.outerHeight()-g.margin,left:0},c.outerWidth()>a(b).width()-j.left&&(n.left=-i.outerWidth()+c.outerWidth());break;case"bottom":n={top:c.outerHeight()+g.margin,left:0},j.left>a(b).width()-j.left+c.outerWidth()&&(n.left=-i.outerWidth()+c.outerWidth())}var o={top:j.top-l.top+n.top,left:j.left-l.left+n.left};if(e.popoverCss.cache(c,i,h,o),"top"==m&&i.offset().top<0?e.openPopover(c,"bottom"):"bottom"==m&&i.offset().top+i.height()>a(b).height()?e.openPopover(c,"top"):"left"==m&&i.offset().left<0?e.openPopover(c,"bottom"):"right"==m&&i.offset().left+i.width()>a(b).width()&&e.openPopover(c,"bottom"),"user-popover"==h){var p=c.attr(e.attr_name("uid"));if(g.localUserCache[p])e.log(g.localUserCache[p],"we already have user data.. and so we pop!"),e.renderUserPopover(g.localUserCache[p]);else{i.find(".loading").show(),i.find(".js-user-hover-card-content").hide();a.getJSON("http://api.randomuser.me",{seed:p},function(a){e.log(a,"user data gotten.. and so we pop!"),e.renderUserPopover.call(e,a),g.localUserCache[p]=a})}}},closePopover:function(b){var c=this,d=this.config,e=(d.popover,b.attr(c.attr_name("popover"))),f=a("["+c.attr_name("popover-content")+'="'+e+'"]');f.removeClass("is-open")},renderUserPopover:function(b){var c=this,d=this.config,e=(d.popover,a("["+c.attr_name("popover-content")+'="user-popover"]')),f=(e.find(".loading").hide(),e.find(".js-user-hover-card-content").fadeIn());f.find(".user-hover-card-name").html(b.results[0].user.name.first+" "+b.results[0].user.name.last)}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.alert={config:{alert:{containerClass:"alert-container",alertBoxClass:"alert-box",contentClass:"alert-content",closeClass:"alert-close",showClass:"alert-show",hideClass:"alert-hide",successClass:"alert-success",errorClass:"alert-error",infoClass:"alert-info",warningClass:"alert-warning",timeout:4e3,type:"success",alertTpl:'<div data-vc-role="alert" class="vc-alert alert-box"><p class="alert-content"></p><a href="#" class="close">&times;</a></div>'}},utils:{alert:function(b,c){var d,e,f,g=this,h=(this.config,{containerClass:"alert-container",alertBoxClass:"alert-box",contentClass:"alert-content",closeClass:"alert-close",showClass:"alert-show",hideClass:"alert-hide",successClass:"alert-success",errorClass:"alert-error",infoClass:"alert-info",warningClass:"alert-warning",timeout:4e3,type:"success",alertTpl:'<div data-vc-role="alert" class="vc-alert alert-box"><p class="alert-content"></p><a href="#" class="close">&times;</a></div>'}),i=function(b){b.fadeOut(function(){a(this).remove()})};switch(g.log(g),a("."+h.containerClass).length?f=a("."+h.containerClass):(f=a("<div>").addClass(h.containerClass),a("body").append(f)),h.type){case"warning":e=h.warningClass;break;case"error":e=h.errorClass;break;case"info":e=h.infoClass;break;case"success":default:e=h.successClass}d=a("<div>").addClass(h.alertBoxClass).addClass(e).hide().attr(g.attr_name("role"),"alert").append(a("<div>").addClass(h.contentClass).html(b)).append('<a href="#" class="'+h.closeClass+'">&times;</a>'),f.append(d),d.fadeIn();setTimeout(function(){i(d)},h.timeout);d.find("."+h.closeClass).off("click.vc.alert").on("click.vc.alert",function(a){a.preventDefault(),i(d)})}},init:function(){var a=this.config;a.alert;this.events()},events:function(){var a=this.config;a.alert}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.form={config:{form:{validateTimeout:1e3,invalidAttr:"invalid",errorClass:"error",debugMode:!0,patterns:{alpha:/^[a-zA-Z]+$/,alpha_numeric:/^[a-zA-Z0-9]+$/,integer:/^\d+$/,number:/-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?/,password:/(?=^.{8,}$)((?=.*\d)|(?=.*\W+))(?![.\n])(?=.*[A-Z])(?=.*[a-z]).*$/,card:/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})$/,cvv:/^([0-9]){3,4}$/,email:/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,url:/(https?|ftp|file|ssh):\/\/(((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?/,domain:/^([a-zA-Z0-9]([a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,6}$/,datetime:/([0-2][0-9]{3})\-([0-1][0-9])\-([0-3][0-9])T([0-5][0-9])\:([0-5][0-9])\:([0-5][0-9])(Z|([\-\+]([0-1][0-9])\:00))/,date:/(?:19|20)[0-9]{2}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-9])|(?:(?!02)(?:0[1-9]|1[0-2])-(?:30))|(?:(?:0[13578]|1[02])-31))/,time:/(0[0-9]|1[0-9]|2[0-3])(:[0-5][0-9]){2}/,dateISO:/\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}/,month_day_year:/(0[1-9]|1[012])[- \/.](0[1-9]|[12][0-9]|3[01])[- \/.](19|20)\d\d/,color:/^#?([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/},validations:{delay:function(a){return{valid:!1,message:"Hell no! After all that time!"}}},pending:{}}},init:function(){var b=this,c=this.config,d=c.form;d.$container=a("["+b.attr_name("form")+"]"),this.events()},events:function(){var b=this,c=this.config,d=c.form;b.log("In form components events."),d.$container.attr("novalidate","novalidate").off("submit.vc.form").on("submit.vc.form",function(c){b.log("Form submitted. Validate.");var d=/ajax/.test(a(this).attr(b.attr_name("form")));return b.validate(a(this).find("input, textarea, select").get(),c,d)}).off("reset.vc.form").on("reset.vc.form",function(c){return b.log("Form reset. Reset."),b.resetForm(a(this))}).find("input, textarea, select").off("blur.vc.form").on("blur.vc.form",function(c){b.log("Blurred from input. Validate input.",a(this)),b.validate([this],c)}).off("keydown.vc.form").on("keydown.vc.form",b.debounce(function(c){b.log("Key down in input. Validate input.",a(this)),b.validate([this],c)},d.validateTimeout))},resetForm:function(a){var b=this.config,c=b.form;return a.removeAttr(c.invalidAttr),a.find("["+c.invalidAttr+"]").removeAttr(c.invalidAttr),a.find("."+c.errorClass).not("small").removeClass(c.errorClass),!0},validate:function(b,c,d){for(var e,f,g=this,h=this.config,i=(h.form,!0),j=c&&/submit/.test(c.type),k=b.length-1;k>=0;k--)e=g.validateInput(b[k]),e.valid?(g.log("OK."),
g.renderInput(b[k],e)):(g.log("Error."),g.renderInput(b[k],e),f=b[k],i=!1);return i?(j&&(a(f).closest("form").trigger("valid.vc.form"),g.log("::SUBMITTED::")),!d):(f&&j&&a(f).focus(),!1)},validateInput:function(b){var c=this,d=this.config,e=d.form,f=a(b),g=f.val(),h=f.attr("type"),i=f[0].hasAttribute("required"),j=f.attr("pattern"),k=f.attr(c.attr_name("pattern")),l=f.attr(c.attr_name("message")),m=f.attr(c.attr_name("validation"));return i&&!g.length?(c.log("Input is required."),{valid:!1,message:l||"Input is required."}):h&&g.length&&e.patterns.hasOwnProperty(h)&&!e.patterns[h].test(g)?(c.log("Input value must match its type."),{valid:!1,message:l||"Input value must match its type."}):k&&!e.patterns[k].test(g)?(c.log("Input value must match its custom pattern."),{valid:!1,message:l||"Input value must match its custom pattern."}):j&&!new RegExp(j).test(g)?(c.log("Input value must match the provided pattern."),{valid:!1,message:l||"Input value must match the provided pattern."}):m?e.validations[m]():"checkbox"==h&&i&&!f.is(":checked")?(c.log("Checkbox must be checked."),{valid:!1,message:l||"Checkbox must be checked."}):(c.log("All is well."),{valid:!0})},renderInput:function(b,c){var d=this.config,e=d.form,f=a(b),g=f.closest(".form-group");c.valid?(f.removeAttr(e.invalidAttr),g.removeClass(e.errorClass)):(g.find(".error").length||a("<small>").addClass("error").html(c.message).appendTo(g).height(),f.attr(e.invalidAttr,""),g.addClass(e.errorClass),f.closest("form").attr(e.invalidAttr,"").addClass(e.errorClass))}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.imagegallery={config:{imagegallery:{galleryTpl:'<div class="ig-wrapper hide" data-vc-imagegallery> <div class="ig-inner"> <div class="ig-top-section mb-10 clearfix"> <div class="left"> <div class="ig-count inline-block"></div> <a href="#" class="ig-fullscreen inline-block"><i class="icon-tvset"></i></a> </div> <div class="right"> <a href="" class="ig-close inline-block"> <span class="ig-close-text">Close</span> <span class="ig-close-icon">&times;</span> </a> </div> </div> <div class="ig-main-section"> <div class="ig-items-wrapper"> <div class="ig-item"> <div class="ig-item-image-wrapper"> <img src="" alt="" class="ig-item-image"> </div> <div class="ig-item-details-wrapper"> <div class="ig-actions-wrapper clearfix"> <div class="left"> <a href="#" class="ig-btn ig-like-btn"><i class="icon-heart"></i></a> <a href="#" class="ig-btn ig-share-btn"><i class="icon-share"></i></a> <a href="#" class="ig-btn ig-report-btn"><i class="icon-flag"></i></a> </div> <div class="right"> <span class="ig-like-count"><i class="icon-heart"></i> <span class="js-like-count"></span></span> </div> </div> <div class="ig-item-description-wrapper"> <div class="ig-details-top clearfix"> <div class="ig-title left"></div> <div class="ig-date right"></div> </div> <div class="ig-description"></div> <div class="ig-author-business">by <a href="#" class="js-author-name"></a> for <a href="#" class="js-business-name"></a></div> </div> </div> </div> </div> <div class="ig-nav-wrapper"> <a href="#" class="ig-nav-btn prev-btn">&#10094;</a> <a href="#" class="ig-nav-btn next-btn">&#10095;</a> </div> </div> </div> </div>',bodyClass:"ig-body-open",swipeThreshold:100}},init:function(){var d=this,e=this.config,f=e.imagegallery;return f.$container=a("["+d.attr_name("imagethumb")+"]"),f.$container.length?(f.galleries={},f.$container.each(function(){var b=a(this),c=b.attr(d.attr_name("imagethumb"))||"default",e=f.galleries[c]||{items:[]};b.data("slideno",e.items.length),e.items.push({title:b.attr(d.attr_name("title")),date:b.attr(d.attr_name("date")),description:b.find(".js-imagegallery-description").text(),authorname:b.attr(d.attr_name("authorname")),businessname:b.attr(d.attr_name("businessname")),imageUrl:b.attr("href"),likecount:b.attr(d.attr_name("likecount"))}),f.galleries[c]=e,d.buildGallery(c)}),d.log(f.galleries),f.$galleryWrappers=a(".ig-wrapper"),f.$previousLink=f.$galleryWrappers.find(".prev-btn"),f.$nextLink=f.$galleryWrappers.find(".next-btn"),f.$closeBtn=f.$galleryWrappers.find(".ig-close"),f.$fullscreenBtn=f.$galleryWrappers.find(".ig-fullscreen"),f.slideNo=1,f.TOUCH_START=b.navigator.msPointerEnabled?"MSPointerDown":"touchstart",f.TOUCH_MOVE=b.navigator.msPointerEnabled?"MSPointerMove":"touchmove",f.TOUCH_END=b.navigator.msPointerEnabled?"MSPointerUp":"touchend",f.fullscreenElement=c.fullscreenElement||c.mozFullScreenElement||c.webkitFullscreenElement,f.fullscreenEnabled=c.fullscreenEnabled||c.mozFullScreenEnabled||c.webkitFullscreenEnabled,void this.events()):!1},events:function(){var b=this,c=this.config,d=c.imagegallery;d.$container.off("click.vc.imagegallery").on("click.vc.imagegallery",function(c){c.preventDefault();var d=a(this),e=d.attr(b.attr_name("imagethumb"))||"default";b.openGallery(e),b.goToSlide(e,d.data("slideno"))}),d.$nextLink.off("click.vc.imagegallery").on("click.vc.imagegallery",function(c){c.preventDefault();var e=a(this).closest(d.$galleryWrappers).data("galleryid");b.nextSlide(e)}),d.$previousLink.off("click.vc.imagegallery").on("click.vc.imagegallery",function(c){c.preventDefault();var e=a(this).closest(d.$galleryWrappers).data("galleryid");b.previousSlide(e)}),d.$closeBtn.off("click.vc.imagegallery").on("click.vc.imagegallery",function(c){c.preventDefault();var e=a(this).closest(d.$galleryWrappers).data("galleryid");b.closeGallery(e)}),d.$fullscreenBtn.off("click.vc.imagegallery").on("click.vc.imagegallery",function(c){c.preventDefault();var e=a(this).closest(d.$galleryWrappers).data("galleryid");b.log("fullscreen enabled?",d.fullscreenEnabled),b.showFullscreenGallery(e)})},goToSlide:function(a,b){var c=this,d=this.config,e=d.imagegallery,f=e.galleries[a];(0>b||b>=f.$items.length)&&(b=f.slideNo),f.$items.removeClass("active"),f.items[b].$item.addClass("active"),c.moveGallery(a,-b*e.itemWidth),f.slideNo=b,c.log("Gone to slide.",-b*e.itemWidth),f.$galleryInner.find(".ig-count").text(b+1+"/"+f.items.length),c.log(b)},nextSlide:function(a){var b=this,c=this.config,d=c.imagegallery;b.goToSlide(a,d.galleries[a].slideNo+1)},previousSlide:function(a){var b=this,c=this.config,d=c.imagegallery;b.goToSlide(a,d.galleries[a].slideNo-1)},moveGallery:function(a,b){var c=this,d=this.config,e=d.imagegallery,f=e.galleries[a];Modernizr&&Modernizr.csstransforms3d?f.$itemsWrapper.css("transform","translate3d("+b+"px,0,0)"):f.$itemsWrapper.css("margin-left",b+"px"),c.log("moveGallery:",b)},getCurrentGalleryPosition:function(a){var b=this,c=this.config,d=c.imagegallery,e=d.galleries[a];return Modernizr&&Modernizr.csstransforms3d?(b.log(e.$itemsWrapper.css("transform"),"transform??"),+b._matrixToTranslateX(e.$itemsWrapper.css("transform"))):+e.$itemsWrapper.css("margin-left").replace(/[^-\d.]/g,"")},buildGallery:function(b){var c=this.config,d=c.imagegallery,e=d.galleries[b];e.$gallery=a(a("script#imageGalleryTpl").html()),e.$gallery.data("galleryid",b),e.$galleryInner=e.$gallery.find(".ig-inner"),e.$itemsWrapper=e.$gallery.find(".ig-items-wrapper");var f=e.$itemsWrapper.html();e.$itemsWrapper.empty();for(var g=0,h=e.items.length;h>g;g++){var i=a(f),j=e.items[g];i.find(".ig-item-image").attr("src",j.imageUrl),i.find(".js-author-name").text(j.authorname),i.find(".js-business-name").text(j.businessname),i.find(".js-like-count").text(j.likecount),i.find(".ig-title").text(j.title),i.find(".ig-date").text(j.date),i.find(".ig-description").text(j.description),j.$item=i,e.$itemsWrapper.append(i)}e.$items=e.$gallery.find(".ig-item"),e.slideNo=0,a("body").append(e.$gallery)},openGallery:function(b){var c=this,d=this.config,e=d.imagegallery;e.galleries[b].$gallery.removeClass("hide").addClass("open"),c.setDimensions(b),c.setKeyEvents(b),c.setTouchEvents(b),c.setGalleryEvents(b),a("body").addClass(e.bodyClass)},closeGallery:function(b){var c=this,d=this.config,e=d.imagegallery;e.galleries[b].$gallery.addClass("hide").removeClass("open"),c.removeKeyEvents(b),c.removeTouchEvents(b),c.removeGalleryEvents(b),a("body").removeClass(e.bodyClass)},setDimensions:function(c){var d=this.config,e=d.imagegallery,f=e.galleries[c];e.itemWidth=f.$galleryInner.width(),f.$items.width(e.itemWidth);var g=a(b).height();f.$items.find(".ig-item-image").css("max-height",.7*g);var h=e.itemWidth*f.items.length;f.$itemsWrapper.width(h)},setKeyEvents:function(b){var d=this,e=this.config,f=e.imagegallery,g=f.galleries[b];a(c).off("keyup.vc.imagegallery."+b).on("keyup.vc.imagegallery."+b,function(a){switch(a.keyCode){case 27:d.closeGallery(b);break;case 37:d.goToSlide(b,g.slideNo-1);break;case 39:d.goToSlide(b,g.slideNo+1)}})},removeKeyEvents:function(b){var d=this.config,e=d.imagegallery;e.galleries[b];a(c).off("keyup.vc.imagegallery."+b)},setTouchEvents:function(a){var c=this,d=this.config,e=d.imagegallery,f=e.galleries[a],g={};f.$itemsWrapper.off(e.TOUCH_START+".vc.imagegallery").on(e.TOUCH_START+".vc.imagegallery",function(d){d.touches||(d=d.originalEvent),c.log("Gallery touch started."),g={startX:b.navigator.msPointerEnabled?d.pageX:d.touches[0].clientX,startY:b.navigator.msPointerEnabled?d.pageY:d.touches[0].clientY,startTime:+new Date,deltaX:0,deltaY:0,endX:0,endY:0,originalPos:+c.getCurrentGalleryPosition(a)},c.log(c.getCurrentGalleryPosition(a),"position in move"),d.stopPropagation()}).off(e.TOUCH_MOVE+".vc.imagegallery").on(e.TOUCH_MOVE+".vc.imagegallery",function(d){d.touches||(d=d.originalEvent),d.touches.length>1||d.scale&&1!==d.scale||(g.endX=b.navigator.msPointerEnabled?d.pageX:d.changedTouches[0].clientX,g.endY=b.navigator.msPointerEnabled?d.pageY:d.changedTouches[0].clientY,g.deltaX=g.endX-g.startX,g.deltaY=g.endY-g.startY,Math.abs(g.deltaX)>Math.abs(g.deltaY)&&c.moveGallery(a,g.originalPos+g.deltaX),c.log(g.deltaX),c.log("Gallery touch moved.",g))}).off(e.TOUCH_END+".vc.imagegallery").on(e.TOUCH_END+".vc.imagegallery",function(b){b.touches||(b=b.originalEvent),b.touches.length>1||b.scale&&1!==b.scale||(g.deltaX<-e.swipeThreshold?c.nextSlide(a):g.deltaX>e.swipeThreshold?c.previousSlide(a):(c.log("Back to current slide",f.slideNo),c.goToSlide(a,f.slideNo)),c.log("Gallery touch ended."),b.stopPropagation())})},removeTouchEvents:function(a){var b=this.config,c=b.imagegallery,d=c.galleries[a];d.$itemsWrapper.off(c.TOUCH_START+".vc.imagegallery").off(c.TOUCH_MOVE+".vc.imagegallery").off(c.TOUCH_END+".vc.imagegallery")},setGalleryEvents:function(c){var d=this,e=this.config,f=e.imagegallery;f.galleries[c];a(b).off("resize.vc.imagegallery").on("resize.vc.imagegallery",function(a){d.setDimensions(c)})},removeGalleryEvents:function(c){var d=this.config;d.imagegallery;a(b).off("resize.vc.imagegallery")},showFullscreenGallery:function(a){var b=this,d=this.config,e=d.imagegallery;b.log("showing fullscreen..");var f=e.galleries[a];f.$gallery[0];b._showFullscreen(c.documentElement)},exitFullscreen:function(){var a=this,b=this.config;b.imagegallery;a.log("exiting fullscreen.."),c.exitFullscreen?c.exitFullscreen():c.mozCancelFullscreen?c.mozCancelFullscreen():c.webkitExitFullscreen&&c.webkitExitFullscreen()},_showFullscreen:function(a){a.requestFullscreen?a.requestFullscreen():a.mozRequestFullscreen?a.mozRequestFullscreen():a.webkitRequestFullscreen?a.webkitRequestFullscreen():a.msRequestFullscreen&&a.msRequestFullscreen()},_matrixToTranslateX:function(a){"none"===a&&(a="matrix(0,0,0,0,0)");var b={},c=a.match(/([-+]?[\d\.]+)/g);return b.translate=+(c[5]?c[4]:c[4]?c[4]:""),b.translate}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.photogallery={config:{photogallery:{bodyClass:"pg-body-open",swipeThreshold:100}},init:function(){var b=this,c=this.config,e=c.photogallery;if(e.$container=a("["+b.attr_name("photothumb")+"]"),!e.$container.length)return!1;var f=e.$photoGallery=a("["+b.attr_name("photogallery")+"]"),g=e.$reportPhotoModal=a("#report-photo-modal");a.extend(e,{$dateTime:f.find(".js-date-time"),$followersCount:f.find(".js-followers-count"),$reviewsCount:f.find(".js-reviews-count"),$businessName:f.find(".js-business-name"),$albumName:f.find(".js-pg-album-name"),$posterName:f.find(".js-poster-name"),$description:f.find(".js-pg-description"),$photoCount:f.find(".js-pg-count"),$closeBtn:f.find(".js-pg-close"),$fullscreenBtn:f.find(".js-pg-fullscreen"),$nextBtn:f.find(".js-next-btn"),$prevBtn:f.find(".js-prev-btn"),$photo:f.find(".js-pg-photo"),$likeCount:f.find(".js-like-count"),$photoErrorMsg:f.find(".js-photo-error"),$loadingWrapper:f.find(".pg-photo-wrapper"),photoDetailsUrls:[],$galleryDetails:f.find(".js-gallery-details"),$photoSectionInner:f.find(".js-pg-photo-section-inner"),curPhotoPosition:d,$option:g.find(".option"),$detail:g.find("textarea#details"),$reportBtn:g.find(".js-submit-report"),$avatar:a("["+b.attr_name("avatar-size")+"]"),$fullscreenEl:a(".js-fullscreenEl"),$navBtn:a(".js-pg-nav-btn")}),e.$avatarImage=e.$avatar.find("img"),this.events()},events:function(){var b=this,d=this.config,e=d.photogallery,f=d.isMobile?e.$nextBtn:e.$photoSectionInner;e.$galleryDetails.off("click.vc.photogallery").on("click.vc.photogallery",function(a){a.stopPropagation()}),e.$container.off("click.vc.photogallery").on("click.vc.photogallery",function(c){c.preventDefault(),b.openGallery(a(this))}),f.off("click.vc.photogallery").on("click.vc.photogallery",function(a){return e.isShowDetails&&b.goToNextPhoto(),!1}),e.$prevBtn.off("click.vc.photogallery").on("click.vc.photogallery",function(a){return b.goToPreviousPhoto(),!1}),a(c).off("keyup.vc.photogallery",e.$photogallery).on("keyup.vc.photogallery",e.$photoGallery,function(a){switch(a.keyCode){case 27:e.isFullscreen?b.exitFullscreen():b.closeGallery();break;case 37:b.goToPreviousPhoto();break;case 39:b.goToNextPhoto()}}),e.$closeBtn.off("click.vc.photogallery").on("click.vc.photogallery",function(a){return b.closeGallery(),!1}),e.$fullscreenBtn.off("click.vc.photogallery").on("click.vc.photogallery",function(a){return b.showFullscreen(c.documentElement),!1}),e.$reportBtn.off("click.vc.photogallery").on("click.vc.photogallery",function(){var c=e.$reportPhotoModal.find("input:checked"),d=[];return c.length?(a.each(c,function(){d.push(a(this).attr(b.attr_name("incorrect-option")))}),b.log("$issues",c),b.log("submitting issues",d),b.loading(e.$reportPhotoModal,"start"),void a.ajax({url:e.reportBusinessURL,type:"POST",dataType:"json",data:{photoID:e.photoID,issue:d,detail:e.$detail.val()},success:function(a){1===a.status?(b.publish("vc:modal/close"),b.notifyMe({message:"Thanks for letting us know! We would take action once we confirm your report.",type:"success"})):b.notifyMe({message:"Oops! Something went wrong. You can try again later.",type:"error"})},error:function(a){b.notifyMe({message:"Oops! Something went wrong. You can try again later.",type:"error"})},complete:function(){b.loading(e.$reportPhotoModal,"stop")}})):void b.notifyMe({message:"Please you need to specify what is wrong with the photo.",type:"error"})})},showLoadingScreen:function(){var a=this,b=this.config,c=b.photogallery;c.$photo.addClass("hide"),c.$photoErrorMsg.addClass("hide"),a.loading(c.$loadingWrapper,"start"),b.isMobile&&c.$loadingWrapper.addClass("mpg-default-screen")},goToNextPhoto:function(){var a=this,b=this.config,c=b.photogallery;return a.showLoadingScreen(),c.curPhotoPosition===c.photoDetailsUrls.length-1?c.curPhotoPosition=0:c.curPhotoPosition+=1,a.fetchPhotoDetails(c.photoDetailsUrls[c.curPhotoPosition]),!1},goToPreviousPhoto:function(){var a=this,b=this.config,c=b.photogallery;return a.showLoadingScreen(),0===c.curPhotoPosition?c.curPhotoPosition=c.photoDetailsUrls.length-1:c.curPhotoPosition-=1,a.fetchPhotoDetails(c.photoDetailsUrls[c.curPhotoPosition]),!1},openGallery:function(b){var c=this,d=this.config,e=d.photogallery,f=b.attr(c.attr_name("photo-details-url")),g=b.closest("["+c.attr_name("photo-thumbs")+"]").find("["+c.attr_name("photothumb")+"]"),h=b.find("img").attr("src")||b.attr(c.attr_name("background"));c.log("placeholderSrc = ",h),a.each(g,function(){e.photoDetailsUrls.push(a(this).attr(c.attr_name("photo-details-url")))}),e.photoDetailsUrls.forEach(function(a,b){a===f&&(e.curPhotoPosition=b)}),e.$photo.attr("src",h),e.$photoGallery.removeClass("hide").addClass("open"),a("body").addClass(e.bodyClass),c.fetchPhotoDetails(f)},fetchPhotoDetails:function(b){var c=this,d=this.config,e=d.photogallery;a.get(b).done(function(a){c.updateGalleryDetails(a),e.isShowDetails||(c.log("calling showGalleryDetails"),c.showGalleryDetails())})},updateGalleryDetails:function(a){var c=this,d=this.config,e=d.photogallery;e.photoID=a.photoID,e.$dateTime.text(a.dateTime),e.$likeCount.text(a.likeCount),e.$followersCount.text(a.poster.followersCount),e.$reviewsCount.text(a.poster.reviewsCount),e.$businessName.text(a.businessName),e.$albumName.text(a.albumName),e.$posterName.text(a.poster.name),e.$description.text(a.description),e.$photo.attr("src",a.photoURL).on("load",function(){e.$loadingWrapper.removeClass("mpg-default-screen"),e.$photo.removeClass("hide"),c.loading(e.$loadingWrapper,"stop")}).on("error",function(){c.loading(e.$loadingWrapper,"stop"),e.$photoErrorMsg.removeClass("hide"),d.isMobile&&e.$loadingWrapper.addClass("mpg-default-screen")}),e.$photoCount.text(e.curPhotoPosition+1+" / "+e.photoDetailsUrls.length),a.poster.avatarUrl?(e.$avatar.removeAttr(c.attr_name("placeholder-avatar")),e.$avatarImage.removeClass("hide").attr("src",a.poster.avatarUrl)):(e.$avatarImage.addClass("hide"),e.$avatar.attr(c.attr_name("placeholder-avatar"),a.poster.name)),b.app.comps.placeholderAvatar.init()},showGalleryDetails:function(){var a=this.config,b=a.photogallery;b.photoDetailsUrls.length>1&&b.$navBtn.removeClass("hide"),b.$galleryDetails.removeClass("hide"),b.isShowDetails=!0},closeGallery:function(){var b=this.config,c=b.photogallery;return c.$photoGallery.addClass("hide").removeClass("open"),c.isShowDetails=!1,c.photoDetailsUrls=[],c.$galleryDetails.addClass("hide"),c.$navBtn.addClass("hide"),a("body").removeClass(c.bodyClass),!1},showFullscreen:function(a){var b=this.config,c=b.photogallery;c.$fullscreenEl.addClass("is-fullscreen"),c.$fullscreenBtn.addClass("hide"),c.isFullscreen=!0,a.requestFullscreen?a.requestFullscreen():a.mozRequestFullscreen?a.mozRequestFullscreen():a.webkitRequestFullscreen?a.webkitRequestFullscreen():a.msRequestFullscreen&&a.msRequestFullscreen()},exitFullscreen:function(){var a=this,b=this.config,d=b.photogallery;a.log("exiting  .."),d.$fullscreenEl.removeClass("is-fullscreen"),d.$fullscreenBtn.removeClass("hide"),d.isFullscreen=!1,d.$fullscreenEl.removeClass("is-fullscreen"),c.exitFullscreen?c.exitFullscreen():c.mozCancelFullscreen?c.mozCancelFullscreen():c.webkitExitFullscreen&&c.webkitExitFullscreen()}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.placeholderAvatar={init:function(){var b=this,c=this.config,d=c.placeholderAvatar;return d.$container=a("["+b.attr_name("placeholder-avatar")+"]"),d.$avatarSize=a("["+b.attr_name("avatar-size")+"]"),d.intitalsWrapper=".js-user-profile-initials-wrapper",d.intitals=".js-user-profile-initials",a(d.intitalsWrapper).remove(),d.$container.length?(d.$container.each(function(c,e){var f=a(e),g=24,h="color-0 color-1 color-2 color-3 color-4 color-5 color-6 color-7 color-8 color-9 color-10 color-11 color-12 color-13 color-14 color-15 color-16 color-17 color-18 color-19 color-20 color-21 color-22 color-23",i=f.attr(b.attr_name("placeholder-avatar")),j=f.attr(b.attr_name("avatar-size")),k=i&&b.getInitials(i);isNaN(k)||(k="");var l=Math.abs(b.hashCode(i))%g,m='<div class="user-profile-initials js-user-profile-initials"></div>',n=a('<div class="user-profile-initials-wrapper js-user-profile-initials-wrapper color-0">').html(m);switch(i?(f.prepend(n),f.find(d.intitalsWrapper).removeClass(h).addClass("color-"+l),f.find(d.intitals).text(k)):""===i&&(f.prepend(n),f.find(d.intitalsWrapper).removeClass(h).addClass("color-g"),f.find(d.intitals).addClass("icon-user")),j){case"small":f.find(d.intitalsWrapper).addClass("avatar-small");break;case"medium":f.find(d.intitalsWrapper).addClass("avatar-medium");break;case"large":f.find(d.intitalsWrapper).addClass("avatar-large")}}),void this.events()):!1},events:function(){var a=this.config;a.placeholderAvatar},hashCode:function(a){var b,c,d,e=this.config,f=(e.placeholderAvatar,0);if(0===a.length)return f;for(b=0,d=a.length;d>b;b++)c=a.charCodeAt(b),f=(f<<5)-f+c,f|=0;return f},getInitials:function(a,b){var c=this.config;c.placeholderAvatar;"undefined"==typeof b&&(b=!0);var d=a.replace(/[^0-9a-zA-Z- ]/g,"").match(/\b\w/g);return b?d.join("").substring(0,2):d.substring(0,2)}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.hashChange={init:function(){this.events()},events:function(){var a=this,c=(this.config,{changeEnabled:!1});"onhashchange"in b&&(b.onhashchange=function(){c.changeEnabled=!0,c.hash=b.location.hash.replace("#","")||b.location.hash.replace("#/",""),a.publish("vc:hashChange",c)}),c.hash=b.location.hash.replace("#","")||b.location.hash.replace("#/",""),a.publish("vc:hashChange",c),a.reply("vc:currentHash",function(){return c})}}}(jQuery,window,document);