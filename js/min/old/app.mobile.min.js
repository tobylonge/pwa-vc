
/*!
 * typeahead.js 0.10.0
 * https://github.com/twitter/typeahead.js
 * Copyright 2013 Twitter, Inc. and other contributors; Licensed MIT
 */

!function(a){var b={isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(a){return!a||/^\s*$/.test(a)},escapeRegExChars:function(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(a){return"string"==typeof a},isNumber:function(a){return"number"==typeof a},isArray:a.isArray,isFunction:a.isFunction,isObject:a.isPlainObject,isUndefined:function(a){return"undefined"==typeof a},bind:a.proxy,each:function(b,c){function d(a,b){return c(b,a)}a.each(b,d)},map:a.map,filter:a.grep,every:function(b,c){var d=!0;return b?(a.each(b,function(a,e){return(d=c.call(null,e,a,b))?void 0:!1}),!!d):d},some:function(b,c){var d=!1;return b?(a.each(b,function(a,e){return(d=c.call(null,e,a,b))?!1:void 0}),!!d):d},mixin:a.extend,getUniqueId:function(){var a=0;return function(){return a++}}(),templatify:function(b){function c(){return String(b)}return a.isFunction(b)?b:c},defer:function(a){setTimeout(a,0)},debounce:function(a,b,c){var d,e;return function(){var f,g,h=this,i=arguments;return f=function(){d=null,c||(e=a.apply(h,i))},g=c&&!d,clearTimeout(d),d=setTimeout(f,b),g&&(e=a.apply(h,i)),e}},throttle:function(a,b){var c,d,e,f,g,h;return g=0,h=function(){g=new Date,e=null,f=a.apply(c,d)},function(){var i=new Date,j=b-(i-g);return c=this,d=arguments,0>=j?(clearTimeout(e),e=null,g=i,f=a.apply(c,d)):e||(e=setTimeout(h,j)),f}},noop:function(){}},c="0.10.0",d=function(){function a(a){this.maxSize=a||100,this.size=0,this.hash={},this.list=new c}function c(){this.head=this.tail=null}function d(a,b){this.key=a,this.val=b,this.prev=this.next=null}return b.mixin(a.prototype,{set:function(a,b){var c,e=this.list.tail;this.size>=this.maxSize&&(this.list.remove(e),delete this.hash[e.key]),(c=this.hash[a])?(c.val=b,this.list.moveToFront(c)):(c=new d(a,b),this.list.add(c),this.hash[a]=c,this.size++)},get:function(a){var b=this.hash[a];return b?(this.list.moveToFront(b),b.val):void 0}}),b.mixin(c.prototype,{add:function(a){this.head&&(a.next=this.head,this.head.prev=a),this.head=a,this.tail=this.tail||a},remove:function(a){a.prev?a.prev.next=a.next:this.head=a.next,a.next?a.next.prev=a.prev:this.tail=a.prev},moveToFront:function(a){this.remove(a),this.add(a)}}),a}(this),e=function(){function a(a){this.prefix=["__",a,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+this.prefix)}function c(){return(new Date).getTime()}function d(a){return JSON.stringify(b.isUndefined(a)?null:a)}function e(a){return JSON.parse(a)}var f,g;try{f=window.localStorage,f.setItem("~~~","!"),f.removeItem("~~~")}catch(h){f=null}return g=f&&window.JSON?{_prefix:function(a){return this.prefix+a},_ttlKey:function(a){return this._prefix(a)+this.ttlKey},get:function(a){return this.isExpired(a)&&this.remove(a),e(f.getItem(this._prefix(a)))},set:function(a,e,g){return b.isNumber(g)?f.setItem(this._ttlKey(a),d(c()+g)):f.removeItem(this._ttlKey(a)),f.setItem(this._prefix(a),d(e))},remove:function(a){return f.removeItem(this._ttlKey(a)),f.removeItem(this._prefix(a)),this},clear:function(){var a,b,c=[],d=f.length;for(a=0;d>a;a++)(b=f.key(a)).match(this.keyMatcher)&&c.push(b.replace(this.keyMatcher,""));for(a=c.length;a--;)this.remove(c[a]);return this},isExpired:function(a){var d=e(f.getItem(this._ttlKey(a)));return b.isNumber(d)&&c()>d?!0:!1}}:{get:b.noop,set:b.noop,remove:b.noop,clear:b.noop,isExpired:b.noop},b.mixin(a.prototype,g),a}(),f=function(){function c(b){b=b||{},this._send=b.send?e(b.send):a.ajax,this._get=b.rateLimiter?b.rateLimiter(this._get):this._get}function e(c){return function(d,e){function f(a){b.defer(function(){h.resolve(a)})}function g(a){b.defer(function(){h.reject(a)})}var h=a.Deferred();return c(d,e,f,g),h}}var f=0,g={},h=6,i=new d(10);return c.setMaxPendingRequests=function(a){h=a},c.resetCache=function(){i=new d(10)},b.mixin(c.prototype,{_get:function(a,b,c){function d(b){c&&c(b),i.set(a,b)}function e(){f--,delete g[a],k.onDeckRequestArgs&&(k._get.apply(k,k.onDeckRequestArgs),k.onDeckRequestArgs=null)}var j,k=this;(j=g[a])?j.done(d):h>f?(f++,g[a]=this._send(a,b).done(d).always(e)):this.onDeckRequestArgs=[].slice.call(arguments,0)},get:function(a,c,d){var e;return b.isFunction(c)&&(d=c,c={}),(e=i.get(a))?b.defer(function(){d&&d(e)}):this._get(a,c,d),!!e}}),c}(),g=function(){function c(b){b=b||{},b.datumTokenizer&&b.queryTokenizer||a.error("datumTokenizer and queryTokenizer are both required"),this.datumTokenizer=b.datumTokenizer,this.queryTokenizer=b.queryTokenizer,this.datums=[],this.trie=e()}function d(a){return a=b.filter(a,function(a){return!!a}),a=b.map(a,function(a){return a.toLowerCase()})}function e(){return{ids:[],children:{}}}function f(a){for(var b={},c=[],d=0;d<a.length;d++)b[a[d]]||(b[a[d]]=!0,c.push(a[d]));return c}function g(a,b){function c(a,b){return a-b}var d=0,e=0,f=[];for(a=a.sort(c),b=b.sort(c);d<a.length&&e<b.length;)a[d]<b[e]?d++:a[d]>b[e]?e++:(f.push(a[d]),d++,e++);return f}return b.mixin(c.prototype,{bootstrap:function(a){this.datums=a.datums,this.trie=a.trie},add:function(a){var c=this;a=b.isArray(a)?a:[a],b.each(a,function(a){var f,g;f=c.datums.push(a)-1,g=d(c.datumTokenizer(a)),b.each(g,function(a){var b,d,g;for(b=c.trie,d=a.split("");g=d.shift();)b=b.children[g]||(b.children[g]=e()),b.ids.push(f)})})},get:function(a){var c,e,h=this;return c=d(this.queryTokenizer(a)),b.each(c,function(a){var b,c,d,f;if(e&&0===e.length)return!1;for(b=h.trie,c=a.split("");b&&(d=c.shift());)b=b.children[d];return b&&0===c.length?(f=b.ids.slice(0),e=e?g(e,f):f,void 0):(e=[],!1)}),e?b.map(f(e),function(a){return h.datums[a]}):[]},serialize:function(){return{datums:this.datums,trie:this.trie}}}),c}(),h=function(){function d(a){return a.local||null}function e(d){var e,f;return f={url:null,thumbprint:"",ttl:864e5,filter:null,ajax:{}},(e=d.prefetch||null)&&(e=b.isString(e)?{url:e}:e,e=b.mixin(f,e),e.thumbprint=c+e.thumbprint,e.ajax.method=e.ajax.method||"get",e.ajax.dataType=e.ajax.dataType||"json",!e.url&&a.error("prefetch requires url to be set")),e}function f(c){function d(a){return function(c){return b.debounce(c,a)}}function e(a){return function(c){return b.throttle(c,a)}}var f,g;return g={url:null,wildcard:"%QUERY",replace:null,rateLimitBy:"debounce",rateLimitWait:300,send:null,filter:null,ajax:{}},(f=c.remote||null)&&(f=b.isString(f)?{url:f}:f,f=b.mixin(g,f),f.rateLimiter=/^throttle$/i.test(f.rateLimitBy)?e(f.rateLimitWait):d(f.rateLimitWait),f.ajax.method=f.ajax.method||"get",f.ajax.dataType=f.ajax.dataType||"json",delete f.rateLimitBy,delete f.rateLimitWait,!f.url&&a.error("remote requires url to be set")),f}return{local:d,prefetch:e,remote:f}}(),i=(window.Bloodhound=function(){function c(b){b&&(b.local||b.prefetch||b.remote)||a.error("one of local, prefetch, or remote is required"),this.limit=b.limit||5,this.sorter=b.sorter||d,this.dupDetector=b.dupDetector||i,this.local=h.local(b),this.prefetch=h.prefetch(b),this.remote=h.remote(b),this.cacheKey=this.prefetch?this.prefetch.cacheKey||this.prefetch.url:null,this.index=new g({datumTokenizer:b.datumTokenizer,queryTokenizer:b.queryTokenizer}),this.storage=this.cacheKey?new e(this.cacheKey):null}function d(){return 0}function i(){return!1}var j;return j={data:"data",protocol:"protocol",thumbprint:"thumbprint"},c.tokenizers={whitespace:function(a){return a.split(/\s+/)},nonword:function(a){return a.split(/\W+/)}},b.mixin(c.prototype,{_loadPrefetch:function(b){function c(a){var c;c=b.filter?b.filter(a):a,f.add(c),f._saveToStorage(f.index.serialize(),b.thumbprint,b.ttl)}var d,e,f=this;return(d=this._readFromStorage(b.thumbprint))?(this.index.bootstrap(d),e=a.Deferred().resolve()):e=a.ajax(b.url,b.ajax).done(c),e},_getFromRemote:function(a,b){function c(a){var c=f.remote.filter?f.remote.filter(a):a;b(c)}var d,e,f=this;return a=a||"",e=encodeURIComponent(a),d=this.remote.replace?this.remote.replace(this.remote.url,a):this.remote.url.replace(this.remote.wildcard,e),this.transport.get(d,this.remote.ajax,c)},_saveToStorage:function(a,b,c){this.storage&&(this.storage.set(j.data,a,c),this.storage.set(j.protocol,location.protocol,c),this.storage.set(j.thumbprint,b,c))},_readFromStorage:function(a){var b={};return this.storage&&(b.data=this.storage.get(j.data),b.protocol=this.storage.get(j.protocol),b.thumbprint=this.storage.get(j.thumbprint)),isExpired=b.thumbprint!==a||b.protocol!==location.protocol,b.data&&!isExpired?b.data:null},initialize:function(){function b(){d.add(d.local)}var c,d=this;return c=this.prefetch?this._loadPrefetch(this.prefetch):a.Deferred().resolve(),this.local&&c.done(b),this.transport=this.remote?new f(this.remote):null,this.initialize=function(){return c.promise()},c.promise()},add:function(a){this.index.add(a)},get:function(a,c){function d(a){var d=e.slice(0);b.each(a,function(a){var c;return c=b.some(d,function(b){return f.dupDetector(a,b)}),!c&&d.push(a),d.length<f.limit}),c&&c(d.sort(f.sorter))}var e,f=this,g=!1;e=this.index.get(a).sort(this.sorter).slice(0,this.limit),e.length<this.limit&&this.transport&&(g=this._getFromRemote(a,d)),!g&&c&&c(e)},ttAdapter:function(){return b.bind(this.get,this)}}),c}(),{wrapper:'<span class="twitter-typeahead"></span>',dropdown:'<span class="tt-dropdown-menu"></span>',dataset:'<div class="tt-dataset-%CLASS%"></div>',suggestions:'<span class="tt-suggestions"></span>',suggestion:'<div class="tt-suggestion">%BODY%</div>'}),j={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},dropdown:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},suggestions:{display:"block"},suggestion:{whiteSpace:"nowrap",cursor:"pointer"},suggestionChild:{whiteSpace:"normal"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};b.isMsie()&&b.mixin(j.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),b.isMsie()&&b.isMsie()<=7&&b.mixin(j.input,{marginTop:"-1px"});var k=function(){function c(b){b&&b.el||a.error("EventBus initialized without el"),this.$el=a(b.el)}var d="typeahead:";return b.mixin(c.prototype,{trigger:function(a){var b=[].slice.call(arguments,1);this.$el.trigger(d+a,b)}}),c}(),l=function(){function a(a,b,c,d){var e;if(!c)return this;for(b=b.split(i),c=d?h(c,d):c,this._callbacks=this._callbacks||{};e=b.shift();)this._callbacks[e]=this._callbacks[e]||{sync:[],async:[]},this._callbacks[e][a].push(c);return this}function b(b,c,d){return a.call(this,"async",b,c,d)}function c(b,c,d){return a.call(this,"sync",b,c,d)}function d(a){var b;if(!this._callbacks)return this;for(a=a.split(i);b=a.shift();)delete this._callbacks[b];return this}function e(a){var b,c,d,e,g;if(!this._callbacks)return this;for(a=a.split(i),d=[].slice.call(arguments,1);(b=a.shift())&&(c=this._callbacks[b]);)e=f(c.sync,this,[b].concat(d)),g=f(c.async,this,[b].concat(d)),e()&&j(g);return this}function f(a,b,c){function d(){for(var d,e=0;!d&&e<a.length;e+=1)d=a[e].apply(b,c)===!1;return!d}return d}function g(){var a;return a=window.setImmediate?function(a){setImmediate(function(){a()})}:function(a){setTimeout(function(){a()},0)}}function h(a,b){return a.bind?a.bind(b):function(){a.apply(b,[].slice.call(arguments,0))}}var i=/\s+/,j=g();return{onSync:c,onAsync:b,off:d,trigger:e}}(),m=function(a){function c(a,c,d){for(var e,f=[],g=0;g<a.length;g++)f.push(b.escapeRegExChars(a[g]));return e=d?"\\b("+f.join("|")+")\\b":"("+f.join("|")+")",c?new RegExp(e):new RegExp(e,"i")}var d={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(e){function f(b){var c,d;return(c=h.exec(b.data))&&(wrapperNode=a.createElement(e.tagName),e.className&&(wrapperNode.className=e.className),d=b.splitText(c.index),d.splitText(c[0].length),wrapperNode.appendChild(d.cloneNode(!0)),b.parentNode.replaceChild(wrapperNode,d)),!!c}function g(a,b){for(var c,d=3,e=0;e<a.childNodes.length;e++)c=a.childNodes[e],c.nodeType===d?e+=b(c)?1:0:g(c,b)}var h;e=b.mixin({},d,e),e.node&&e.pattern&&(e.pattern=b.isArray(e.pattern)?e.pattern:[e.pattern],h=c(e.pattern,e.caseSensitive,e.wordsOnly),g(e.node,f))}}(window.document),n=function(){function c(c){var e,f,h,i,j=this;c=c||{},c.input||a.error("input is missing"),e=b.bind(this._onBlur,this),f=b.bind(this._onFocus,this),h=b.bind(this._onKeydown,this),i=b.bind(this._onInput,this),this.$hint=a(c.hint),this.$input=a(c.input).on("blur.tt",e).on("focus.tt",f).on("keydown.tt",h),0===this.$hint.length&&(this.setHintValue=this.getHintValue=this.clearHint=b.noop),b.isMsie()?this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(a){g[a.which||a.keyCode]||b.defer(b.bind(j._onInput,j,a))}):this.$input.on("input.tt",i),this.query=this.$input.val(),this.$overflowHelper=d(this.$input)}function d(b){return a('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"nowrap",fontFamily:b.css("font-family"),fontSize:b.css("font-size"),fontStyle:b.css("font-style"),fontVariant:b.css("font-variant"),fontWeight:b.css("font-weight"),wordSpacing:b.css("word-spacing"),letterSpacing:b.css("letter-spacing"),textIndent:b.css("text-indent"),textRendering:b.css("text-rendering"),textTransform:b.css("text-transform")}).insertAfter(b)}function e(a,b){return c.normalizeQuery(a)===c.normalizeQuery(b)}function f(a){return a.altKey||a.ctrlKey||a.metaKey||a.shiftKey}var g;return g={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},c.normalizeQuery=function(a){return(a||"").replace(/^\s*/g,"").replace(/\s{2,}/g," ")},b.mixin(c.prototype,l,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.trigger("focused")},_onKeydown:function(a){var b=g[a.which||a.keyCode];this._managePreventDefault(b,a),b&&this._shouldTrigger(b,a)&&this.trigger(b+"Keyed",a)},_onInput:function(){this._checkInputValue()},_managePreventDefault:function(a,b){var c,d,e;switch(a){case"tab":d=this.getHintValue(),e=this.getInputValue(),c=d&&d!==e&&!f(b);break;case"up":case"down":c=!f(b);break;default:c=!1}c&&b.preventDefault()},_shouldTrigger:function(a,b){var c;switch(a){case"tab":c=!f(b);break;default:c=!0}return c},_checkInputValue:function(){var a,b,c;a=this.getInputValue(),b=e(a,this.query),c=b?this.query.length!==a.length:!1,b?c&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query=a)},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getQuery:function(){return this.query},setQuery:function(a){this.query=a},getInputValue:function(){return this.$input.val()},setInputValue:function(a,b){this.$input.val(a),!b&&this._checkInputValue()},getHintValue:function(){return this.$hint.val()},setHintValue:function(a){this.$hint.val(a)},resetInputValue:function(){this.$input.val(this.query)},clearHint:function(){this.$hint.val("")},getLanguageDirection:function(){return(this.$input.css("direction")||"ltr").toLowerCase()},hasOverflow:function(){var a=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=a},isCursorAtEnd:function(){var a,c,d;return a=this.$input.val().length,c=this.$input[0].selectionStart,b.isNumber(c)?c===a:document.selection?(d=document.selection.createRange(),d.moveStart("character",-a),a===d.text.length):!0},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$hint=this.$input=this.$overflowHelper=null}}),c}(),o=function(){function c(c){c=c||{},c.templates=c.templates||{},c.source||a.error("missing source"),this.query=null,this.highlight=!!c.highlight,this.name=c.name||b.getUniqueId(),this.source=c.source,this.valueKey=c.displayKey||"value",this.templates=d(c.templates,this.valueKey),this.$el=a(i.dataset.replace("%CLASS%",this.name))}function d(a,c){function d(a){return"<p>"+a[c]+"</p>"}return{empty:a.empty&&b.templatify(a.empty),header:a.header&&b.templatify(a.header),footer:a.footer&&b.templatify(a.footer),suggestion:a.suggestion||d}}var e="ttDataset",f="ttValue",g="ttDatum";return c.extractDatasetName=function(b){return a(b).data(e)},c.extractValue=function(b){return a(b).data(f)},c.extractDatum=function(b){return a(b).data(g)},b.mixin(c.prototype,l,{_render:function(c,d){function h(){return p.templates.empty({query:c})}function k(){function h(b){var c,d,h;return d=p.templates.suggestion(b),h=i.suggestion.replace("%BODY%",d),c=a(h).data(e,p.name).data(f,b[p.valueKey]).data(g,b),c.children().each(function(){a(this).css(j.suggestionChild)}),c}var k;return k=a(i.suggestions).css(j.suggestions).append(b.map(d,h)),p.highlight&&m({node:k[0],pattern:c}),k}function l(){return p.templates.header({query:c,isEmpty:!o})}function n(){return p.templates.footer({query:c,isEmpty:!o})}if(this.$el){var o,p=this;this.$el.empty(),o=d&&d.length,!o&&this.templates.empty?this.$el.html(h()).prepend(p.templates.header?l():null).append(p.templates.footer?n():null):o&&this.$el.html(k()).prepend(p.templates.header?l():null).append(p.templates.footer?n():null),this.trigger("rendered")}},getRoot:function(){return this.$el},update:function(a){function b(b){a===c.query&&c._render(a,b)}var c=this;this.query=a,this.source(a,b)},clear:function(){this._render(this.query||"")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=null}}),c}(),p=function(){function c(c){var e,f,g,h,i,j=this;c=c||{},c.menu||a.error("menu is required"),this.isOpen=!1,this.isEmpty=!0,this.isMouseOverDropdown=!1,this.datasets=b.map(c.datasets,d),e=b.bind(this._onMouseEnter,this),f=b.bind(this._onMouseLeave,this),g=b.bind(this._onSuggestionClick,this),h=b.bind(this._onSuggestionMouseEnter,this),i=b.bind(this._onSuggestionMouseLeave,this),this.$menu=a(c.menu).on("mouseenter.tt",e).on("mouseleave.tt",f).on("click.tt",".tt-suggestion",g).on("mouseenter.tt",".tt-suggestion",h).on("mouseleave.tt",".tt-suggestion",i),b.each(this.datasets,function(a){j.$menu.append(a.getRoot()),a.onSync("rendered",j._onRendered,j)})}function d(a){return new o(a)}return b.mixin(c.prototype,l,{_onMouseEnter:function(){this.isMouseOverDropdown=!0},_onMouseLeave:function(){this.isMouseOverDropdown=!1},_onSuggestionClick:function(b){this.trigger("suggestionClicked",a(b.currentTarget))},_onSuggestionMouseEnter:function(b){this._removeCursor(),this._setCursor(a(b.currentTarget),!0)},_onSuggestionMouseLeave:function(){this._removeCursor()},_onRendered:function(){function a(a){return a.isEmpty()}this.isEmpty=b.every(this.datasets,a),this.isEmpty?this._hide():this.isOpen&&this._show(),this.trigger("datasetRendered")},_hide:function(){this.$menu.hide()},_show:function(){this.$menu.css("display","block")},_getSuggestions:function(){return this.$menu.find(".tt-suggestion")},_getCursor:function(){return this.$menu.find(".tt-cursor").first()},_setCursor:function(a,b){a.first().addClass("tt-cursor"),!b&&this.trigger("cursorMoved")},_removeCursor:function(){this._getCursor().removeClass("tt-cursor")},_moveCursor:function(a){var b,c,d,e;if(this.isOpen){if(c=this._getCursor(),b=this._getSuggestions(),this._removeCursor(),d=b.index(c)+a,d=(d+1)%(b.length+1)-1,-1===d)return this.trigger("cursorRemoved"),void 0;-1>d&&(d=b.length-1),this._setCursor(e=b.eq(d)),this._ensureVisible(e)}},_ensureVisible:function(a){var b,c,d,e;b=a.position().top,c=b+a.outerHeight(!0),d=this.$menu.scrollTop(),e=this.$menu.height()+parseInt(this.$menu.css("paddingTop"),10)+parseInt(this.$menu.css("paddingBottom"),10),0>b?this.$menu.scrollTop(d+b):c>e&&this.$menu.scrollTop(d+(c-e))},close:function(){this.isOpen&&(this.isOpen=this.isMouseOverDropdown=!1,this._removeCursor(),this._hide(),this.trigger("closed"))},open:function(){this.isOpen||(this.isOpen=!0,!this.isEmpty&&this._show(),this.trigger("opened"))},setLanguageDirection:function(a){this.$menu.css("ltr"===a?j.ltr:j.rtl)},moveCursorUp:function(){this._moveCursor(-1)},moveCursorDown:function(){this._moveCursor(1)},getDatumForSuggestion:function(a){var b=null;return a.length&&(b={raw:o.extractDatum(a),value:o.extractValue(a),datasetName:o.extractDatasetName(a)}),b},getDatumForCursor:function(){return this.getDatumForSuggestion(this._getCursor().first())},getDatumForTopSuggestion:function(){return this.getDatumForSuggestion(this._getSuggestions().first())},update:function(a){function c(b){b.update(a)}b.each(this.datasets,c)},empty:function(){function a(a){a.clear()}b.each(this.datasets,a)},isVisible:function(){return this.isOpen&&!this.isEmpty},destroy:function(){function a(a){a.destroy()}this.$menu.off(".tt"),this.$menu=null,b.each(this.datasets,a)}}),c}(),q=function(){function c(c){var e,f,g;c=c||{},c.input||a.error("missing input"),this.autoselect=!!c.autoselect,this.minLength=b.isNumber(c.minLength)?c.minLength:1,this.$node=d(c.input,c.withHint),e=this.$node.find(".tt-dropdown-menu"),f=this.$node.find(".tt-input"),g=this.$node.find(".tt-hint"),this.eventBus=c.eventBus||new k({el:f}),this.dropdown=new p({menu:e,datasets:c.datasets}).onSync("suggestionClicked",this._onSuggestionClicked,this).onSync("cursorMoved",this._onCursorMoved,this).onSync("cursorRemoved",this._onCursorRemoved,this).onSync("opened",this._onOpened,this).onSync("closed",this._onClosed,this).onAsync("datasetRendered",this._onDatasetRendered,this),this.input=new n({input:f,hint:g}).onSync("focused",this._onFocused,this).onSync("blurred",this._onBlurred,this).onSync("enterKeyed",this._onEnterKeyed,this).onSync("tabKeyed",this._onTabKeyed,this).onSync("escKeyed",this._onEscKeyed,this).onSync("upKeyed",this._onUpKeyed,this).onSync("downKeyed",this._onDownKeyed,this).onSync("leftKeyed",this._onLeftKeyed,this).onSync("rightKeyed",this._onRightKeyed,this).onSync("queryChanged",this._onQueryChanged,this).onSync("whitespaceChanged",this._onWhitespaceChanged,this),e.on("mousedown.tt",function(a){b.isMsie()&&b.isMsie()<9&&(f[0].onbeforedeactivate=function(){window.event.returnValue=!1,f[0].onbeforedeactivate=null}),a.preventDefault()})}function d(b,c){var d,f,h,k;d=a(b),f=a(i.wrapper).css(j.wrapper),h=a(i.dropdown).css(j.dropdown),k=d.clone().css(j.hint).css(e(d)),k.removeData().addClass("tt-hint").removeAttr("id name placeholder").prop("disabled",!0).attr({autocomplete:"off",spellcheck:"false"}),d.data(g,{dir:d.attr("dir"),autocomplete:d.attr("autocomplete"),spellcheck:d.attr("spellcheck"),style:d.attr("style")}),d.addClass("tt-input").attr({autocomplete:"off",spellcheck:!1}).css(c?j.input:j.inputWithNoHint);try{!d.attr("dir")&&d.attr("dir","auto")}catch(l){}return d.wrap(f).parent().prepend(c?k:null).append(h)}function e(a){return{backgroundAttachment:a.css("background-attachment"),backgroundClip:a.css("background-clip"),backgroundColor:a.css("background-color"),backgroundImage:a.css("background-image"),backgroundOrigin:a.css("background-origin"),backgroundPosition:a.css("background-position"),backgroundRepeat:a.css("background-repeat"),backgroundSize:a.css("background-size")}}function f(a){var c=a.find(".tt-input");b.each(c.data(g),function(a,d){b.isUndefined(a)?c.removeAttr(d):c.attr(d,a)}),c.detach().removeData(g).removeClass("tt-input").insertAfter(a),a.remove()}var g="ttAttrs";return b.mixin(c.prototype,{_onSuggestionClicked:function(a,b){var c;(c=this.dropdown.getDatumForSuggestion(b))&&this._select(c)},_onCursorMoved:function(){var a=this.dropdown.getDatumForCursor();this.input.clearHint(),this.input.setInputValue(a.value,!0),this.eventBus.trigger("cursorchanged",a.raw,a.datasetName)},_onCursorRemoved:function(){this.input.resetInputValue(),this._updateHint()},_onDatasetRendered:function(){this._updateHint()},_onOpened:function(){this._updateHint(),this.eventBus.trigger("opened")},_onClosed:function(){this.input.clearHint(),this.eventBus.trigger("closed")},_onFocused:function(){this.dropdown.open()},_onBlurred:function(){!this.dropdown.isMouseOverDropdown&&this.dropdown.close()},_onEnterKeyed:function(a,b){var c,d;c=this.dropdown.getDatumForCursor(),d=this.dropdown.getDatumForTopSuggestion(),c?(this._select(c),b.preventDefault()):this.autoselect&&d&&(this._select(d),b.preventDefault())},_onTabKeyed:function(a,b){var c;(c=this.dropdown.getDatumForCursor())?(this._select(c),b.preventDefault()):this._autocomplete()},_onEscKeyed:function(){this.dropdown.close(),this.input.resetInputValue()},_onUpKeyed:function(){var a=this.input.getQuery();!this.dropdown.isOpen&&a.length>=this.minLength&&this.dropdown.update(a),this.dropdown.open(),this.dropdown.moveCursorUp()},_onDownKeyed:function(){var a=this.input.getQuery();!this.dropdown.isOpen&&a.length>=this.minLength&&this.dropdown.update(a),this.dropdown.open(),this.dropdown.moveCursorDown()},_onLeftKeyed:function(){"rtl"===this.dir&&this._autocomplete()},_onRightKeyed:function(){"ltr"===this.dir&&this._autocomplete()},_onQueryChanged:function(a,b){this.input.clearHint(),this.dropdown.empty(),b.length>=this.minLength&&this.dropdown.update(b),this.dropdown.open(),this._setLanguageDirection()},_onWhitespaceChanged:function(){this._updateHint(),this.dropdown.open()},_setLanguageDirection:function(){var a;this.dir!==(a=this.input.getLanguageDirection())&&(this.dir=a,this.$node.css("direction",a),this.dropdown.setLanguageDirection(a))},_updateHint:function(){var a,c,d,e,f,g;a=this.dropdown.getDatumForTopSuggestion(),a&&this.dropdown.isVisible()&&!this.input.hasOverflow()&&(c=this.input.getInputValue(),d=n.normalizeQuery(c),e=b.escapeRegExChars(d),f=new RegExp("^(?:"+e+")(.*$)","i"),g=f.exec(a.value),this.input.setHintValue(c+(g?g[1]:"")))},_autocomplete:function(){var a,b,c;a=this.input.getHintValue(),b=this.input.getQuery(),a&&b!==a&&this.input.isCursorAtEnd()&&(c=this.dropdown.getDatumForTopSuggestion(),c&&this.input.setInputValue(c.value),this.eventBus.trigger("autocompleted",c.raw,c.datasetName))},_select:function(a){this.input.clearHint(),this.input.setQuery(a.value),this.input.setInputValue(a.value,!0),this.dropdown.empty(),this._setLanguageDirection(),b.defer(b.bind(this.dropdown.close,this.dropdown)),this.eventBus.trigger("selected",a.raw,a.datasetName)},open:function(){this.dropdown.open()},close:function(){this.dropdown.close()},getQuery:function(){return this.input.getQuery()},setQuery:function(a){this.input.setInputValue(a)},destroy:function(){this.input.destroy(),this.dropdown.destroy(),f(this.$node),this.$node=null}}),c}();!function(){var c,d;c="ttTypeahead",d={initialize:function(d){function e(){var e,g,h=a(this);b.each(f,function(a){a.highlight=!!d.highlight}),g=new q({input:h,eventBus:e=new k({el:h}),withHint:b.isUndefined(d.hint)?!0:!!d.hint,minLength:d.minLength,autoselect:d.autoselect,datasets:f}),h.data(c,g)}var f=[].slice.call(arguments,1);return d=d||{},this.each(e)},open:function(){function b(){var b,d=a(this);(b=d.data(c))&&b.open()}return this.each(b)},close:function(){function b(){var b,d=a(this);(b=d.data(c))&&b.close()}return this.each(b)},val:function(d){function e(){var b,e=a(this);(b=e.data(c))&&b.setQuery(d)}function f(){var b,d,e=a(this);return(b=e.data(c))&&(d=b.getQuery()),d}return b.isString(d)?this.each(e):this.map(f).get()},destroy:function(){function b(){var b,d=a(this);(b=d.data(c))&&(b.destroy(),d.removeData(c))}return this.each(b)}},jQuery.fn.typeahead=function(a){return d[a]?d[a].apply(this,[].slice.call(arguments,1)):d.initialize.apply(this,arguments)}}()}(window.jQuery);
!function(){for(var o,e=function(){},n=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],r=n.length,i=window.console=window.console||{};r--;)o=n[r],i[o]||(i[o]=e)}();
!function(){"use strict";function e(n,t,r){return("string"==typeof t?t:t.toString()).replace(n.define||a,function(e,t,o,a){return 0===t.indexOf("def.")&&(t=t.substring(4)),t in r||(":"===o?(n.defineParams&&a.replace(n.defineParams,function(e,n,o){r[t]={arg:n,text:o}}),t in r||(r[t]=a)):new Function("def","def['"+t+"']="+a)(r)),""}).replace(n.use||a,function(t,o){n.useParams&&(o=o.replace(n.useParams,function(e,n,t,o){if(r[t]&&r[t].arg&&o){var a=(t+":"+o).replace(/'|\\/g,"_");return r.__exp=r.__exp||{},r.__exp[a]=r[t].text.replace(new RegExp("(^|[^\\w$])"+r[t].arg+"([^\\w$])","g"),"$1"+o+"$2"),n+"def.__exp['"+a+"']"}}));var a=new Function("def","return "+o)(r);return a?e(n,a,r):a})}function n(e){return e.replace(/\\('|\\)/g,"$1").replace(/[\r\t\n]/g," ")}var t,r={version:"1.0.3",templateSettings:{evaluate:/\{\{([\s\S]+?(\}?)+)\}\}/g,interpolate:/\{\{=([\s\S]+?)\}\}/g,encode:/\{\{!([\s\S]+?)\}\}/g,use:/\{\{#([\s\S]+?)\}\}/g,useParams:/(^|[^\w$])def(?:\.|\[[\'\"])([\w$\.]+)(?:[\'\"]\])?\s*\:\s*([\w$\.]+|\"[^\"]+\"|\'[^\']+\'|\{[^\}]+\})/g,define:/\{\{##\s*([\w\.$]+)\s*(\:|=)([\s\S]+?)#\}\}/g,defineParams:/^\s*([\w$]+):([\s\S]+)/,conditional:/\{\{\?(\?)?\s*([\s\S]*?)\s*\}\}/g,iterate:/\{\{~\s*(?:\}\}|([\s\S]+?)\s*\:\s*([\w$]+)\s*(?:\:\s*([\w$]+))?\s*\}\})/g,varname:"it",strip:!0,append:!0,selfcontained:!1,doNotSkipEncoded:!1},template:void 0,compile:void 0};r.encodeHTMLSource=function(e){var n={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},t=e?/[&<>"'\/]/g:/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return e?e.toString().replace(t,function(e){return n[e]||e}):""}},t=function(){return this||(0,eval)("this")}(),"undefined"!=typeof module&&module.exports?module.exports=r:"function"==typeof define&&define.amd?define(function(){return r}):t.doT=r;var o={append:{start:"'+(",end:")+'",startencode:"'+encodeHTML("},split:{start:"';out+=(",end:");out+='",startencode:"';out+=encodeHTML("}},a=/$^/;r.template=function(c,i,u){i=i||r.templateSettings;var d,s,p=i.append?o.append:o.split,l=0,f=i.use||i.define?e(i,c,u||{}):c;f=("var out='"+(i.strip?f.replace(/(^|\r|\n)\t* +| +\t*(\r|\n|$)/g," ").replace(/\r|\n|\t|\/\*[\s\S]*?\*\//g,""):f).replace(/'|\\/g,"\\$&").replace(i.interpolate||a,function(e,t){return p.start+n(t)+p.end}).replace(i.encode||a,function(e,t){return d=!0,p.startencode+n(t)+p.end}).replace(i.conditional||a,function(e,t,r){return t?r?"';}else if("+n(r)+"){out+='":"';}else{out+='":r?"';if("+n(r)+"){out+='":"';}out+='"}).replace(i.iterate||a,function(e,t,r,o){return t?(l+=1,s=o||"i"+l,t=n(t),"';var arr"+l+"="+t+";if(arr"+l+"){var "+r+","+s+"=-1,l"+l+"=arr"+l+".length-1;while("+s+"<l"+l+"){"+r+"=arr"+l+"["+s+"+=1];out+='"):"';} } out+='"}).replace(i.evaluate||a,function(e,t){return"';"+n(t)+"out+='"})+"';return out;").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/(\s|;|\}|^|\{)out\+='';/g,"$1").replace(/\+''/g,""),d&&(i.selfcontained||!t||t._encodeHTML||(t._encodeHTML=r.encodeHTMLSource(i.doNotSkipEncoded)),f="var encodeHTML = typeof _encodeHTML !== 'undefined' ? _encodeHTML : ("+r.encodeHTMLSource.toString()+"("+(i.doNotSkipEncoded||"")+"));"+f);try{return new Function(i.varname,f)}catch(g){throw"undefined"!=typeof console&&console.log("Could not create a template function: "+f),g}},r.compile=function(e,n){return r.template(e,null,n)}}();
!function(t,e,n,i){"use strict";function a(t){return("string"==typeof t||t instanceof String)&&(t=t.replace(/^['\\/"]+|(;\s?})+|['\\/"]+$/g,"")),t}var s=function(e){for(var n=e.length,i=t("head");n--;)0===i.has("."+e[n]).length&&i.append('<meta class="'+e[n]+'">')};s(["foundation-mq-small","foundation-mq-medium","foundation-mq-large","foundation-mq-xlarge","foundation-mq-xxlarge","foundation-data-attribute-namespace"]),t(function(){"undefined"!=typeof FastClick&&"undefined"!=typeof n.body&&FastClick.attach(n.body)});var o=function(e,i){if("string"==typeof e){if(i){var a;return a=i.jquery?i[0]:i,t(a.querySelectorAll(e))}return t(n.querySelectorAll(e))}return t(e,i)},r=function(t){var e=[];return t||e.push("data"),this.namespace.length>0&&e.push(this.namespace),e.push(this.name),e.join("-")},s=function(e){for(var n=e.length,i=t("head");n--;)0===i.has("."+e[n]).length&&i.append('<meta class="'+e[n]+'">')},u=function(t){for(var e=t.split("-"),n=e.length,i=[];n--;)0!==n?i.push(e[n]):this.namespace.length>0?i.push(this.namespace,e[n]):i.push(e[n]);return i.reverse().join("-")},l=function(e,n){var i=this,a=!o(this).data(this.attr_name(!0));return"string"==typeof e?this[e].call(this,n):(o(this.scope).is("["+this.attr_name()+"]")?(o(this.scope).data(this.attr_name(!0)+"-init",t.extend({},this.settings,n||e,this.data_options(o(this.scope)))),a&&this.events(this.scope)):o("["+this.attr_name()+"]",this.scope).each(function(){var a=!o(this).data(i.attr_name(!0)+"-init");o(this).data(i.attr_name(!0)+"-init",t.extend({},i.settings,n||e,i.data_options(o(this)))),a&&i.events(this)}),void 0)},c=function(t,e){function n(){e(t[0])}function i(){if(this.one("load",n),/MSIE (\d+\.\d+);/.test(navigator.userAgent)){var t=this.attr("src"),e=t.match(/\?/)?"&":"?";e+="random="+(new Date).getTime(),this.attr("src",t+e)}}return t.attr("src")?(t[0].complete||4===t[0].readyState?n():i.call(t),void 0):(n(),void 0)};e.matchMedia=e.matchMedia||function(t){var e,n=t.documentElement,i=n.firstElementChild||n.firstChild,a=t.createElement("body"),s=t.createElement("div");return s.id="mq-test-1",s.style.cssText="position:absolute;top:-100em",a.style.background="none",a.appendChild(s),function(t){return s.innerHTML='&shy;<style media="'+t+'"> #mq-test-1 { width: 42px; }</style>',n.insertBefore(a,i),e=42===s.offsetWidth,n.removeChild(a),{matches:e,media:t}}}(n),function(){function t(){n&&(s(t),jQuery.fx.tick())}for(var n,i=0,a=["webkit","moz"],s=e.requestAnimationFrame,o=e.cancelAnimationFrame;i<a.length&&!s;i++)s=e[a[i]+"RequestAnimationFrame"],o=o||e[a[i]+"CancelAnimationFrame"]||e[a[i]+"CancelRequestAnimationFrame"];s?(e.requestAnimationFrame=s,e.cancelAnimationFrame=o,jQuery.fx.timer=function(e){e()&&jQuery.timers.push(e)&&!n&&(n=!0,t())},jQuery.fx.stop=function(){n=!1}):(e.requestAnimationFrame=function(t){var n=(new Date).getTime(),a=Math.max(0,16-(n-i)),s=e.setTimeout(function(){t(n+a)},a);return i=n+a,s},e.cancelAnimationFrame=function(t){clearTimeout(t)})}(jQuery),e.Foundation={name:"Foundation",version:"5.1.1",media_queries:{small:o(".foundation-mq-small").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),medium:o(".foundation-mq-medium").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),large:o(".foundation-mq-large").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),xlarge:o(".foundation-mq-xlarge").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),xxlarge:o(".foundation-mq-xxlarge").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,"")},stylesheet:t("<style></style>").appendTo("head")[0].sheet,global:{namespace:""},init:function(t,e,n,i,a){var s=[t,n,i,a],r=[];if(this.rtl=/rtl/i.test(o("html").attr("dir")),this.scope=t||this.scope,this.set_namespace(),e&&"string"==typeof e&&!/reflow/i.test(e))this.libs.hasOwnProperty(e)&&r.push(this.init_lib(e,s));else for(var u in this.libs)r.push(this.init_lib(u,e));return t},init_lib:function(t,e){return this.libs.hasOwnProperty(t)?(this.patch(this.libs[t]),e&&e.hasOwnProperty(t)?this.libs[t].init.apply(this.libs[t],[this.scope,e[t]]):(e=e instanceof Array?e:Array(e),this.libs[t].init.apply(this.libs[t],e))):function(){}},patch:function(t){t.scope=this.scope,t.namespace=this.global.namespace,t.rtl=this.rtl,t.data_options=this.utils.data_options,t.attr_name=r,t.add_namespace=u,t.bindings=l,t.S=this.utils.S},inherit:function(t,e){for(var n=e.split(" "),i=n.length;i--;)this.utils.hasOwnProperty(n[i])&&(t[n[i]]=this.utils[n[i]])},set_namespace:function(){var e=t(".foundation-data-attribute-namespace").css("font-family");/false/i.test(e)||(this.global.namespace=e)},libs:{},utils:{S:o,throttle:function(t,e){var n=null;return function(){var i=this,a=arguments;clearTimeout(n),n=setTimeout(function(){t.apply(i,a)},e)}},debounce:function(t,e,n){var i,a;return function(){var s=this,o=arguments,r=function(){i=null,n||(a=t.apply(s,o))},u=n&&!i;return clearTimeout(i),i=setTimeout(r,e),u&&(a=t.apply(s,o)),a}},data_options:function(e){function n(t){return!isNaN(t-0)&&null!==t&&""!==t&&t!==!1&&t!==!0}function i(e){return"string"==typeof e?t.trim(e):e}var a,s,o,r={},u=function(t){var e=Foundation.global.namespace;return e.length>0?t.data(e+"-options"):t.data("options")},l=u(e);if("object"==typeof l)return l;for(o=(l||":").split(";"),a=o.length;a--;)s=o[a].split(":"),/true/i.test(s[1])&&(s[1]=!0),/false/i.test(s[1])&&(s[1]=!1),n(s[1])&&(s[1]=parseInt(s[1],10)),2===s.length&&s[0].length>0&&(r[i(s[0])]=i(s[1]));return r},register_media:function(e,n){Foundation.media_queries[e]===i&&(t("head").append('<meta class="'+n+'">'),Foundation.media_queries[e]=a(t("."+n).css("font-family")))},add_custom_rule:function(t,e){if(e===i)Foundation.stylesheet.insertRule(t,Foundation.stylesheet.cssRules.length);else{var n=Foundation.media_queries[e];n!==i&&Foundation.stylesheet.insertRule("@media "+Foundation.media_queries[e]+"{ "+t+" }")}},image_loaded:function(t,e){var n=this,i=t.length;0==i&&e(t),t.each(function(){c(n.S(this),function(){i-=1,0==i&&e(t)})})},random_str:function(t){var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");t||(t=Math.floor(Math.random()*e.length));for(var n="";t--;)n+=e[Math.floor(Math.random()*e.length)];return n}}},t.fn.foundation=function(){var t=Array.prototype.slice.call(arguments,0);return this.each(function(){return Foundation.init.apply(Foundation,[this].concat(t)),this})}}(jQuery,this,this.document);
!function(n,a){"use strict";Foundation.libs.offcanvas={name:"offcanvas",version:"5.1.1",settings:{},init:function(){this.events()},events:function(){var t=this.S;t(this.scope).off(".offcanvas").on("click.fndtn.offcanvas",".left-off-canvas-toggle",function(n){n.preventDefault(),t(this).closest(".off-canvas-wrap").toggleClass("move-right")}).on("click.fndtn.offcanvas",".exit-off-canvas",function(n){n.preventDefault(),t(".off-canvas-wrap").removeClass("move-right")}).on("click.fndtn.offcanvas",".left-off-canvas-menu a",function(o){o.preventDefault();var f=n(this).attr("href");t(".off-canvas-wrap").on("transitionend webkitTransitionEnd oTransitionEnd",function(){a.location=f,t(".off-canvas-wrap").off("transitionend webkitTransitionEnd oTransitionEnd")}),t(".off-canvas-wrap").removeClass("move-right")}).on("click.fndtn.offcanvas",".right-off-canvas-toggle",function(n){n.preventDefault(),t(this).closest(".off-canvas-wrap").toggleClass("move-left")}).on("click.fndtn.offcanvas",".exit-off-canvas",function(n){n.preventDefault(),t(".off-canvas-wrap").removeClass("move-left")}).on("click.fndtn.offcanvas",".right-off-canvas-menu a",function(o){o.preventDefault();var f=n(this).attr("href");t(".off-canvas-wrap").on("transitionend webkitTransitionEnd oTransitionEnd",function(){a.location=f,t(".off-canvas-wrap").off("transitionend webkitTransitionEnd oTransitionEnd")}),t(".off-canvas-wrap").removeClass("move-left")})},reflow:function(){}}}(jQuery,this,this.document);
!function(t){"use strict";Foundation.libs.alert={name:"alert",version:"5.1.1",settings:{animation:"fadeOut",speed:300,callback:function(){}},init:function(t,n,i){this.bindings(n,i)},events:function(){var n=this,i=this.S;t(this.scope).off(".alert").on("click.fndtn.alert","["+this.attr_name()+"] a.close",function(t){var e=i(this).closest("["+n.attr_name()+"]"),a=e.data(n.attr_name(!0)+"-init")||n.settings;t.preventDefault(),e[a.animation](a.speed,function(){i(this).trigger("closed").remove(),a.callback()})})},reflow:function(){}}}(jQuery,this,this.document);
!function(t,a,e){"use strict";Foundation.libs.abide={name:"abide",version:"5.1.1",settings:{live_validate:!0,focus_on_invalid:!0,error_labels:!0,timeout:1e3,patterns:{alpha:/^[a-zA-Z]+$/,alpha_numeric:/^[a-zA-Z0-9]+$/,integer:/^\d+$/,number:/-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?/,password:/(?=^.{8,}$)((?=.*\d)|(?=.*\W+))(?![.\n])(?=.*[A-Z])(?=.*[a-z]).*$/,card:/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})$/,cvv:/^([0-9]){3,4}$/,email:/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,url:/(https?|ftp|file|ssh):\/\/(((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?/,domain:/^([a-zA-Z0-9]([a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,6}$/,datetime:/([0-2][0-9]{3})\-([0-1][0-9])\-([0-3][0-9])T([0-5][0-9])\:([0-5][0-9])\:([0-5][0-9])(Z|([\-\+]([0-1][0-9])\:00))/,date:/(?:19|20)[0-9]{2}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-9])|(?:(?!02)(?:0[1-9]|1[0-2])-(?:30))|(?:(?:0[13578]|1[02])-31))/,time:/(0[0-9]|1[0-9]|2[0-3])(:[0-5][0-9]){2}/,dateISO:/\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}/,month_day_year:/(0[1-9]|1[012])[- \/.](0[1-9]|[12][0-9]|3[01])[- \/.](19|20)\d\d/,color:/^#?([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/}},timer:null,init:function(t,a,e){this.bindings(a,e)},events:function(a){{var e=this,i=e.S(a).attr("novalidate","novalidate");i.data(this.attr_name(!0)+"-init")}this.invalid_attr=this.add_namespace("data-invalid"),i.off(".abide").on("submit.fndtn.abide validate.fndtn.abide",function(t){var a=/ajax/i.test(e.S(this).attr(e.attr_name()));return e.validate(e.S(this).find("input, textarea, select").get(),t,a)}).on("reset",function(){return e.reset(t(this))}).find("input, textarea, select").off(".abide").on("blur.fndtn.abide change.fndtn.abide",function(t){e.validate([this],t)}).on("keydown.fndtn.abide",function(a){var i=t(this).closest("form").data("abide-init");i.live_validate===!0&&(clearTimeout(e.timer),e.timer=setTimeout(function(){e.validate([this],a)}.bind(this),i.timeout))})},reset:function(a){a.removeAttr(this.invalid_attr),t(this.invalid_attr,a).removeAttr(this.invalid_attr),t(".error",a).not("small").removeClass("error")},validate:function(t,a,e){for(var i=this.parse_patterns(t),r=i.length,n=this.S(t[0]).closest("form"),s=/submit/.test(a.type),d=0;r>d;d++)if(!i[d]&&(s||e))return this.settings.focus_on_invalid&&t[d].focus(),n.trigger("invalid"),this.S(t[d]).closest("form").attr(this.invalid_attr,""),!1;return(s||e)&&n.trigger("valid"),n.removeAttr(this.invalid_attr),e?!1:!0},parse_patterns:function(t){for(var a=t.length,e=[];a--;)e.push(this.pattern(t[a]));return this.check_validation_and_apply_styles(e)},pattern:function(t){var a=t.getAttribute("type"),e="string"==typeof t.getAttribute("required"),i=t.getAttribute("pattern")||"";return this.settings.patterns.hasOwnProperty(i)&&i.length>0?[t,this.settings.patterns[i],e]:i.length>0?[t,new RegExp(i),e]:this.settings.patterns.hasOwnProperty(a)?[t,this.settings.patterns[a],e]:(i=/.*/,[t,i,e])},check_validation_and_apply_styles:function(a){for(var e=a.length,i=[];e--;){var r,n=a[e][0],s=a[e][2],d=n.value,u=this.S(n).parent(),F=n.getAttribute(this.add_namespace("data-equalto")),l="radio"===n.type,o="checkbox"===n.type,h=this.S('label[for="'+n.getAttribute("id")+'"]'),v=s?n.value.length>0:!0;r=u.is("label")?u.parent():u,l&&s?i.push(this.valid_radio(n,s)):o&&s?i.push(this.valid_checkbox(n,s)):F&&s?i.push(this.valid_equal(n,s,r)):a[e][1].test(d)&&v||!s&&n.value.length<1?(this.S(n).removeAttr(this.invalid_attr),r.removeClass("error"),h.length>0&&this.settings.error_labels&&h.removeClass("error"),i.push(!0),t(n).triggerHandler("valid")):(this.S(n).attr(this.invalid_attr,""),r.addClass("error"),h.length>0&&this.settings.error_labels&&h.addClass("error"),i.push(!1),t(n).triggerHandler("invalid"))}return i},valid_checkbox:function(t,a){var t=this.S(t),e=t.is(":checked")||!a;return e?t.removeAttr(this.invalid_attr).parent().removeClass("error"):t.attr(this.invalid_attr,"").parent().addClass("error"),e},valid_radio:function(t){for(var a=t.getAttribute("name"),i=e.getElementsByName(a),r=i.length,n=!1,s=0;r>s;s++)i[s].checked&&(n=!0);for(var s=0;r>s;s++)n?this.S(i[s]).removeAttr(this.invalid_attr).parent().removeClass("error"):this.S(i[s]).attr(this.invalid_attr,"").parent().addClass("error");return n},valid_equal:function(t,a,i){var r=e.getElementById(t.getAttribute(this.add_namespace("data-equalto"))).value,n=t.value,s=r===n;return s?(this.S(t).removeAttr(this.invalid_attr),i.removeClass("error")):(this.S(t).attr(this.invalid_attr,""),i.addClass("error")),s}}}(jQuery,this,this.document);
!function(t,e,n,s){"use strict";Foundation.libs.reveal={name:"reveal",version:"5.1.1",locked:!1,settings:{animation:"fadeAndPop",animation_speed:250,close_on_background_click:!0,close_on_esc:!0,dismiss_modal_class:"close-reveal-modal",bg_class:"reveal-modal-bg",open:function(){},opened:function(){},close:function(){},closed:function(){},bg:t(".reveal-modal-bg"),css:{open:{opacity:0,visibility:"visible",display:"block"},close:{opacity:1,visibility:"hidden",display:"none"}}},init:function(e,n,s){t.extend(!0,this.settings,n,s),this.bindings(n,s)},events:function(){var t=this,e=t.S;return e(this.scope).off(".reveal").on("click.fndtn.reveal","["+this.add_namespace("data-reveal-id")+"]",function(n){if(n.preventDefault(),!t.locked){var s=e(this),i=s.data(t.data_attr("reveal-ajax"));if(t.locked=!0,"undefined"==typeof i)t.open.call(t,s);else{var a=i===!0?s.attr("href"):i;t.open.call(t,s,{url:a})}}}),e(n).on("click.fndtn.reveal",this.close_targets(),function(n){if(n.preventDefault(),!t.locked){var s=e("["+t.attr_name()+"].open").data(t.attr_name(!0)+"-init"),i=e(n.target)[0]===e("."+s.bg_class)[0];if(i){if(!s.close_on_background_click)return;n.stopPropagation()}t.locked=!0,t.close.call(t,i?e("["+t.attr_name()+"].open"):e(this).closest("["+t.attr_name()+"]"))}}),e("["+t.attr_name()+"]",this.scope).length>0?e(this.scope).on("open.fndtn.reveal",this.settings.open).on("opened.fndtn.reveal",this.settings.opened).on("opened.fndtn.reveal",this.open_video).on("close.fndtn.reveal",this.settings.close).on("closed.fndtn.reveal",this.settings.closed).on("closed.fndtn.reveal",this.close_video):e(this.scope).on("open.fndtn.reveal","["+t.attr_name()+"]",this.settings.open).on("opened.fndtn.reveal","["+t.attr_name()+"]",this.settings.opened).on("opened.fndtn.reveal","["+t.attr_name()+"]",this.open_video).on("close.fndtn.reveal","["+t.attr_name()+"]",this.settings.close).on("closed.fndtn.reveal","["+t.attr_name()+"]",this.settings.closed).on("closed.fndtn.reveal","["+t.attr_name()+"]",this.close_video),!0},key_up_on:function(){var t=this;return t.S("body").off("keyup.fndtn.reveal").on("keyup.fndtn.reveal",function(e){var n=t.S("["+t.attr_name()+"].open"),s=n.data(t.attr_name(!0)+"-init");s&&27===e.which&&s.close_on_esc&&!t.locked&&t.close.call(t,n)}),!0},key_up_off:function(){return this.S("body").off("keyup.fndtn.reveal"),!0},open:function(e,n){var s=this;if(e)if("undefined"!=typeof e.selector)var i=s.S("#"+e.data(s.data_attr("reveal-id")));else{var i=s.S(this.scope);n=e}else var i=s.S(this.scope);var a=i.data(s.attr_name(!0)+"-init");if(!i.hasClass("open")){var o=s.S("["+s.attr_name()+"].open");if("undefined"==typeof i.data("css-top")&&i.data("css-top",parseInt(i.css("top"),10)).data("offset",this.cache_offset(i)),this.key_up_on(i),i.trigger("open"),o.length<1&&this.toggle_bg(i),"string"==typeof n&&(n={url:n}),"undefined"!=typeof n&&n.url){var r="undefined"!=typeof n.success?n.success:null;t.extend(n,{success:function(e,n,d){if(t.isFunction(r)&&r(e,n,d),i.html(e),s.S(i).foundation("section","reflow"),o.length>0){var c=o.data(s.attr_name(!0)+"-init");s.hide(o,c.css.close)}s.show(i,a.css.open)}}),t.ajax(n)}else{if(o.length>0){var d=o.data(s.attr_name(!0)+"-init");this.hide(o,d.css.close)}this.show(i,a.css.open)}}},close:function(t){var t=t&&t.length?t:this.S(this.scope),e=this.S("["+this.attr_name()+"].open"),n=t.data(this.attr_name(!0)+"-init");e.length>0&&(this.locked=!0,this.key_up_off(t),t.trigger("close"),this.toggle_bg(t),this.hide(e,n.css.close,n))},close_targets:function(){var t="."+this.settings.dismiss_modal_class;return this.settings.close_on_background_click?t+", ."+this.settings.bg_class:t},toggle_bg:function(e){e.data(this.attr_name(!0));0===this.S("."+this.settings.bg_class).length&&(this.settings.bg=t("<div />",{"class":this.settings.bg_class}).appendTo("body").hide()),this.settings.bg.filter(":visible").length>0?this.hide(this.settings.bg):this.show(this.settings.bg)},show:function(n,s){if(s){var i=n.data(this.attr_name(!0)+"-init");if(0===n.parent("body").length){var a=n.wrap('<div style="display: none;" />').parent(),o=this.settings.rootElement||"body";n.on("closed.fndtn.reveal.wrapped",function(){n.detach().appendTo(a),n.unwrap().unbind("closed.fndtn.reveal.wrapped")}),n.detach().appendTo(o)}if(/pop/i.test(i.animation)){s.top=t(e).scrollTop()-n.data("offset")+"px";var r={top:t(e).scrollTop()+n.data("css-top")+"px",opacity:1};return setTimeout(function(){return n.css(s).animate(r,i.animation_speed,"linear",function(){this.locked=!1,n.trigger("opened")}.bind(this)).addClass("open")}.bind(this),i.animation_speed/2)}if(/fade/i.test(i.animation)){s.top=t(e).scrollTop()+n.data("css-top")+"px";var r={opacity:1};return setTimeout(function(){return n.css(s).animate(r,i.animation_speed,"linear",function(){this.locked=!1,n.trigger("opened")}.bind(this)).addClass("open")}.bind(this),i.animation_speed/2)}return n.css(s).show().css({opacity:1}).addClass("open").trigger("opened")}var i=this.settings;return/fade/i.test(i.animation)?n.fadeIn(i.animation_speed/2):(this.locked=!1,n.show())},hide:function(n,s){if(s){var i=n.data(this.attr_name(!0)+"-init");if(/pop/i.test(i.animation)){var a={top:-t(e).scrollTop()-n.data("offset")+"px",opacity:0};return setTimeout(function(){return n.animate(a,i.animation_speed,"linear",function(){this.locked=!1,n.css(s).trigger("closed")}.bind(this)).removeClass("open")}.bind(this),i.animation_speed/2)}if(/fade/i.test(i.animation)){var a={opacity:0};return setTimeout(function(){return n.animate(a,i.animation_speed,"linear",function(){this.locked=!1,n.css(s).trigger("closed")}.bind(this)).removeClass("open")}.bind(this),i.animation_speed/2)}return n.hide().css(s).removeClass("open").trigger("closed")}var i=this.settings;return/fade/i.test(i.animation)?n.fadeOut(i.animation_speed/2):n.hide()},close_video:function(e){var n=t(".flex-video",e.target),s=t("iframe",n);s.length>0&&(s.attr("data-src",s[0].src),s.attr("src","about:blank"),n.hide())},open_video:function(e){var n=t(".flex-video",e.target),i=n.find("iframe");if(i.length>0){var a=i.attr("data-src");if("string"==typeof a)i[0].src=i.attr("data-src");else{var o=i[0].src;i[0].src=s,i[0].src=o}n.show()}},data_attr:function(t){return this.namespace.length>0?this.namespace+"-"+t:t},cache_offset:function(t){var e=t.show().height()+parseInt(t.css("top"),10);return t.hide(),e},off:function(){t(this.scope).off(".fndtn.reveal")},reflow:function(){}}}(jQuery,this,this.document);
!function(t){"use strict";Foundation.libs.accordion={name:"accordion",version:"5.1.1",settings:{active_class:"active",toggleable:!0},init:function(t,s,a){this.bindings(s,a)},events:function(){var s=this,a=this.S;a(this.scope).off(".fndtn.accordion").on("click.fndtn.accordion","["+this.attr_name()+"] dd > a",function(i){var e=a(this).closest("["+s.attr_name()+"]"),c=a("#"+this.href.split("#")[1]),n=a("dd > .content",e),o=t("> dd",e),l=e.data(s.attr_name(!0)+"-init"),d=a("dd > .content."+l.active_class,e),r=a("dd."+l.active_class,e);if(i.preventDefault(),a(this).closest("dl").is(e)){if(d[0]==c[0]&&l.toggleable)return r.toggleClass(l.active_class,!1),c.toggleClass(l.active_class,!1);n.removeClass(l.active_class),o.removeClass(l.active_class),c.addClass(l.active_class).parent().addClass(l.active_class)}})},off:function(){},reflow:function(){}}}(jQuery,this,this.document);
!function(e){app={config:{tabletViewportSize:1024,$singleMenu:e(".single-menu > a"),$loggedInMenu:e(".loggedin-menu"),$tabSearch:e(".tab-search > a"),$searchForm:e("li.search-form"),$disableMenuSet:e(".single-menu > a, .loggedin-menu, .tab-search > a"),$jumbotronContainer:e(".jumbotron-container"),$introMessage:e(".intro-message"),$searchBox:e(".search-box"),$menuExpanded:e(".menu-expanded"),$menuCollapsed:e(".menu-collapsed"),typeCursorOrientation:"vertical",$bannerOverlay:e(".banner-overlay"),$jSearchTerm:e(".jsearchterm"),$searchTerm:e(".searchterm"),$jSearchLocation:e(".jsearchlocation"),$searchLocation:e(".searchlocation"),$jSearchTermInput:e(".jsearchterm.tt-input"),$searchTermInput:e(".searchterm.tt-input"),$jSearchLocationInput:e(".jsearchlocation.tt-input"),$searchLocationInput:e(".searchlocation.tt-input"),$copyTextButton:e(".copybutton"),$copyText:e(".copytext"),zClipSwfPath:"/js/vendor/ZeroClipboard.swf",$imageThumbnail:e(".th"),termsURL:"../test.json",locationsURL:"../test.json",$addPhotoModal:e("#addPhotoModal"),isJoyrideCookie:!0,cookieName:"newDealsQSearch",cookieDomain:!1,picker:e.noop(),$locationBox:e(".location-box"),$uploadAvatar:e("#upload-avatar"),$leadFormsContainer:e(".lead-form-content .forms-container"),$leadFormSections:e(".lead-form-content .form-section"),$leadFormNavigationList:e(".lead-form-content .navigation-list"),$userProfileContainer:e(".userprofile-content"),dataNamespace:"data-vc",alertContainerClass:"alerts",alertTimeOut:7e3,roleEl:{},arrRoles:["show","next","prev","skip","loading","review","follow","like","save"],scriptURLs:{cookie:"/js/vendor/jquery.cookie.js",textchanger:"/js/desktop/components/textchanger.js",pikaday:"/js/vendor/min/pikaday.min.js",skrollr:"/js/vendor/skrollr.min.js",dropzone:"/js/vendor/dropzone.min.js",swipebox:"/js/vendor/jquery.swipebox.min.js",unveil:"/js/vendor/jquery.unveil.min.js",selectize:"/js/vendor/selectize.min.js",test:"/js/test.js",zclip:"/js/vendor/jquery.zclip.js",gmap:"https://maps.googleapis.com/maps/api/js?v=3&sensor=false"}},o:e({}),scope:this,comps:{},utils:{notifyMe:function(t){var n=this.config,o=this,i='<div data-vc-role="alert" class="vc-alert alert-box"><p class="alert-content"></p><a href="#" class="close">&times;</a></div>',a=t.message||t,r=t.type||"success";e("body").find("."+n.alertContainerClass).length>0?container=e("."+n.alertContainerClass):(e("body").append(e("<div>").addClass(n.alertContainerClass)),container=e("."+n.alertContainerClass));var s={alertBox:{},alertTimer:{}};return s.alertBox=e(i).hide().addClass(r),container.append(s.alertBox),s.alertBox.find(".alert-content").html(a),s.alertBox.fadeIn(),s.alertTimer=setTimeout(function(){s.alertBox.fadeOut(function(){e(this).remove()})},n.alertTimeOut),container.off(".alert").on("click.vc.alert","["+o.attr_name("role")+'="alert"] a.close',function(t){t.preventDefault(),e(this).closest("["+o.attr_name("role")+'="alert"]').fadeOut(function(){e(this).remove()})}),this},attr_name:function(e){var t=this.config;return t.dataNamespace+"-"+e},require:function(e,t,n){var o=this.config,i=o.scriptURLs,a=!0,r=function(e,t,n){return jQuery.ajax({url:e,type:"GET",dataType:"script",success:t,cache:n||!0})};return"undefined"==typeof n&&("undefined"==typeof t?(n=function(){},t=!0):(n=t,t=!0),a=!1),t()&&a?(n(),!0):(r(i[e],function(){return t()?(n(),!0):void 0}),this)},render:function(e,t){return e.replace(/\{([\w\.]*)\}/g,function(e,n){for(var o=n.split("."),i=t[o.shift()],a=0,r=o.length;r>a;a++)i=i[o[a]];return"undefined"!=typeof i&&null!==i?i:""})},throttle:function(e,t){var n=null;return function(){var o=this,i=arguments;clearTimeout(n),n=setTimeout(function(){e.apply(o,i)},t)}},debounce:function(e,t,n){var o,i;return function(){var a=this,r=arguments,s=function(){o=null,n||(i=e.apply(a,r))},c=n&&!o;return clearTimeout(o),o=setTimeout(s,t),c&&(i=e.apply(a,r)),i}}},init:function(t){var n=this.config;this.initPubSub(),e.extend(this,this.utils),e.extend(!0,this.config,t||{}),app.initRoles(),this.subscribe("vc:notify",e.proxy(this.notifyMe,this)),jQuery().foundation&&(Foundation.libs.abide&&(Foundation.libs.abide.settings.patterns.password=/(?=^.{0,}$)[a-zA-Z0-9-\W+]+$/,Foundation.libs.abide.settings.patterns.oldpassword=/(?=^.{0,}$)[a-zA-Z0-9-\W+]+$/,Foundation.libs.abide.settings.patterns.email=/[-0-9a-zA-Z.+_]+@[-0-9a-zA-Z.+_]+\.[a-zA-Z]{2,4}/,Foundation.libs.abide.settings.patterns.nigerianphone=/^0?(([1-6]\d{6,7})|([7-9]([0-1]\d{8}|[2-9]\d{6,7})))$/),Foundation.libs.reveal&&(Foundation.libs.reveal.settings.animation="fade"),e(document).foundation({joyride:{modal:!0,prevButton:!0,cookie_monster:n.isJoyrideCookie,cookie_name:n.cookieName,cookie_domain:n.cookieDomain,template:{link:'<a href="#close" class="joyride-close-tip">&times;</a>',timer:'<div class="joyride-timer-indicator-wrap"><span class="joyride-timer-indicator"></span></div>',tip:'<div class="joyride-tip-guide"><span class="joyride-nub"></span></div>',wrapper:'<div class="joyride-content-wrapper"></div>',button:'<a href="#" class="tiny button white-btn joyride-next-tip"></a>',prev_button:'<a href="#" class="tiny button white-btn joyride-prev-tip"></a>',modal:'<div class="joyride-modal-bg"></div>',expose:'<div class="joyride-expose-wrapper"></div>',expose_cover:'<div class="joyride-expose-cover"></div>'}}}),e(document).foundation("joyride","start"));for(comp in this.comps)this.init_comp(comp);return this},init_comp:function(e){return this.comps.hasOwnProperty(e)?(this.patch(this.comps[e],e),this.comps[e].init.apply(this.comps[e],[])):void 0},patch:function(t,n){var o={};o[n]={},t.config=e.extend(!0,o,t.config,this.config),e.extend(this.utils,t.utils),e.extend(this,t.utils),e.extend(t,this.utils),t.o=this.o},initPubSub:function(){e.each({trigger:"publish",on:"subscribe",off:"unsubscribe"},function(e,t){app.utils[t]=function(){app.o[e].apply(app.o,arguments)}})},initRoles:function(){var t=this.config,n=this;t.roleEl=e.extend({},t.roleEl);var o=function(t){return e("["+n.attr_name("role")+'="'+t+'"]')};e.each(t.arrRoles,function(e,n){t.roleEl[n]=o(n)});var i=t.roleEl.show,a=i.filter('input[type="checkbox"],input[type="radio"]');a.on("change",function(){e(this).is(":checked")?e(this).next("input").fadeIn():e(this).next("input").fadeOut()}).next("input").hide(),t.roleEl.next.on("click",function(e){e.preventDefault()}),t.roleEl.prev.on("click",function(e){e.preventDefault()})},request:function(){},reply:function(){}}}(jQuery);
!function(e,o,n){o.app.comps.cookies={utils:{getCookie:function(e){return decodeURIComponent(n.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},createCookie:function(e,o,t,i,r,c){if(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))return!1;var s="";if(t)switch(t.constructor){case Number:if(1/0===t)s="; expires=Fri, 31 Dec 9999 23:59:59 GMT";else{var a=new Date;a.setTime(a.getTime()+24*t*60*60*1e3),s="; expires="+a.toGMTString()}break;case String:s="; expires="+t;break;case Date:s="; expires="+t.toUTCString()}return n.cookie=encodeURIComponent(e)+"="+encodeURIComponent(o)+s+(r?"; domain="+r:"")+(i?"; path="+i:"")+(c?"; secure":""),!0},removeCookie:function(e,o,t){return e&&this.hasCookie(e)?(n.cookie=encodeURIComponent(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(t?"; domain="+t:"")+(o?"; path="+o:""),!0):!1},hasCookie:function(e){return new RegExp("(?:^|;\\s*)"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(n.cookie)}},init:function(){this.events()},events:function(){}}}(jQuery,window,document);
!function(a,t){t.app.comps.tabs={name:"tabs",description:"description",config:{hashPrefix:"tabs_"},init:function(){var e=this.config;a("[data-tab]").each(function(){a(this).children("li").each(function(){a(this).hasClass("active")||a(a(this).children("a").attr("href")).addClass("hide"),a(this).click(function(r){if(r.preventDefault(),!a(this).hasClass("active")){var h=this,i=a(h).parent("[data-tab]").children("li.active"),d=a(h).children("a").attr("href").replace("#","");a(i).removeClass("active"),a(a(i).children("a").attr("href")).addClass("hide"),a("[data-header="+a(a(i).children("a").attr("href")).attr("data-footer")+"]")&&a("[data-header="+a(a(i).children("a").attr("href")).attr("data-footer")+"]").addClass("hide"),a(h).addClass("active"),a(a(h).children("a").attr("href")).removeClass("hide"),a("[data-header="+a(a(h).children("a").attr("href")).attr("data-footer")+"]")&&a("[data-header="+a(a(h).children("a").attr("href")).attr("data-footer")+"]").removeClass("hide"),history.pushState?history.pushState(null,null,"#"+e.hashPrefix+d):location.hash="#"+e.hashPrefix+d,a(t).trigger("hashchange")}})})}),this.events()},events:function(){var t=this,e=this.config;t.subscribe("vc:hashChange",function(t,r){console.log(r),hash=r.hash.replace(e.hashPrefix,"");var h=a("[data-tab] li a[href=#"+hash+"]"),i=a("[data-tab] li.active a[href=#"+hash+"]");if(h.length&&!i.length){var d=h.closest("[data-tab]").children("li.active"),s=h.parent("li");a(d).removeClass("active"),console.log(h),console.log(d),a(a(d).children("a").attr("href")).addClass("hide"),a("[data-header="+a(a(d).children("a").attr("href")).attr("data-footer")+"]")&&a("[data-header="+a(a(d).children("a").attr("href")).attr("data-footer")+"]").addClass("hide"),a(s).addClass("active"),a(a(s).children("a").attr("href")).removeClass("hide"),a("[data-header="+a(a(s).children("a").attr("href")).attr("data-footer")+"]")&&a("[data-header="+a(a(s).children("a").attr("href")).attr("data-footer")+"]").removeClass("hide")}})}}}(jQuery,window,document);
!function(o,e){e.app.comps.geolocation={name:"geolocation",description:"description",utils:{getLocation:function(){var o=this;return"false"!=o.getCookie("_getLoc")?{lat:o.getCookie("_lat"),log:o.getCookie("_log"),neighborhood:o.getCookie("_neighborhood"),colloquial_area:o.getCookie("_colloquial_area"),sublocality:o.getCookie("_sublocality")}:!1}},init:function(){var o=this;if("geolocation"in navigator&&o.getCookie("_getLoc")||o.getCookie("_lat")||o.getCookie("_log")){o.publish("vc:geolocation/enabled");var e={enableHighAccuracy:!0,maximumAge:3e4,timeout:27e3};navigator.geolocation.getCurrentPosition(function(e){o.success(e,o)},this.error,e)}else console.warn("ERROR(GL001): Unable to access geolocation"),o.createCookie("_getLoc","false");this.events()},success:function(e,t){var i=t,a=e.coords,c=a.latitude,n=a.longitude,s=a.accuracy;o.ajax({url:"http://maps.googleapis.com/maps/api/geocode/json?latlng="+e.coords.latitude+","+e.coords.longitude+"&sensor=true",success:function(e){"OK"===e.status?o.each(e.results,function(){i.createCookie("_"+this.types[0],this.formatted_address,.25)}):(console.warn(e.status),i.createCookie("_getLoc","false"))}}),i.createCookie("_lat",c,.25),i.createCookie("_log",n,.25),i.createCookie("_accuracy",s,.25),i.publish("vc:geolocation/current-location")},error:function(o){console.warn("ERROR("+o.code+"): "+o.message)},events:function(){}}}(jQuery,window,document);
!function(t,s){s.app.comps.productlist={config:{$productsList:t(".products-list"),$viewProducts:t(".view-products"),majorLength:20},init:function(){var s=this.config,o=s.$productsList.filter(function(o,e){return t(e).children("li").length>s.majorLength});t('<a href="#">Show all</a>').addClass("view-products hover-underline").appendTo(o),s.$viewProducts=t(s.$viewProducts.selector),o.addClass("show-few").each(function(o,e){t(e).children("li").slice(0,s.majorLength).addClass("major")}),this.events()},events:function(){var s=this.config;s.$viewProducts.on("click",function(o){o.preventDefault();var e=t(this).closest(s.$productsList);e.toggleClass("show-few"),e.hasClass("show-few")?e.find(s.$viewProducts).html("Show all"):e.find(s.$viewProducts).html("Show less")}),s.$productsList.find("a").on("click",function(t){t.preventDefault()})}}}(jQuery,window,document);
!function(e,a){a.app.comps.corporatelead={config:{$cLeadPopup:e({}),$cLeadButton:e({}),cLeadMax:3},init:function(){var a=this,t=this.config;if(t.$cLeadPopup=e("["+this.attr_name("clead-popup")+"]"),t.$cLeadButton=e("["+this.attr_name("clead-btn")+"]"),!t.$cLeadPopup.length)return!1;var o=t.$cLeadPopup.attr(this.attr_name("clead-name"));if(o){if(cLeadCookieValue=+a.getCookie(o),cLeadCookieValue>=t.cLeadMax)return!0;a.createCookie(o,++cLeadCookieValue)}t.$cLeadPopup.foundation("reveal","open"),this.events()},events:function(){var e=this.config;e.$cLeadButton.on("click",function(a){a.preventDefault(),e.$cLeadPopup.foundation("reveal","open")})}}}(jQuery,window,document);
!function(a,t){t.app.comps.tabs={name:"tabs",description:"description",config:{hashPrefix:"tabs_"},init:function(){var e=this.config;a("[data-tab]").each(function(){a(this).children("li").each(function(){a(this).hasClass("active")||a(a(this).children("a").attr("href")).addClass("hide"),a(this).click(function(r){if(r.preventDefault(),!a(this).hasClass("active")){var h=this,i=a(h).parent("[data-tab]").children("li.active"),d=a(h).children("a").attr("href").replace("#","");a(i).removeClass("active"),a(a(i).children("a").attr("href")).addClass("hide"),a("[data-header="+a(a(i).children("a").attr("href")).attr("data-footer")+"]")&&a("[data-header="+a(a(i).children("a").attr("href")).attr("data-footer")+"]").addClass("hide"),a(h).addClass("active"),a(a(h).children("a").attr("href")).removeClass("hide"),a("[data-header="+a(a(h).children("a").attr("href")).attr("data-footer")+"]")&&a("[data-header="+a(a(h).children("a").attr("href")).attr("data-footer")+"]").removeClass("hide"),history.pushState?history.pushState(null,null,"#"+e.hashPrefix+d):location.hash="#"+e.hashPrefix+d,a(t).trigger("hashchange")}})})}),this.events()},events:function(){var t=this,e=this.config;t.subscribe("vc:hashChange",function(t,r){console.log(r),hash=r.hash.replace(e.hashPrefix,"");var h=a("[data-tab] li a[href=#"+hash+"]"),i=a("[data-tab] li.active a[href=#"+hash+"]");if(h.length&&!i.length){var d=h.closest("[data-tab]").children("li.active"),s=h.parent("li");a(d).removeClass("active"),console.log(h),console.log(d),a(a(d).children("a").attr("href")).addClass("hide"),a("[data-header="+a(a(d).children("a").attr("href")).attr("data-footer")+"]")&&a("[data-header="+a(a(d).children("a").attr("href")).attr("data-footer")+"]").addClass("hide"),a(s).addClass("active"),a(a(s).children("a").attr("href")).removeClass("hide"),a("[data-header="+a(a(s).children("a").attr("href")).attr("data-footer")+"]")&&a("[data-header="+a(a(s).children("a").attr("href")).attr("data-footer")+"]").removeClass("hide")}})}}}(jQuery,window,document);
!function(t,e){e.app.comps.select={config:{select:{queryHolder:"{QUERY}",options:{openingHours:["12:00AM","12:30AM","1:00AM","1:30AM","2:00AM","2:30AM","3:00AM","3:30AM","4:00AM","4:30AM","5:00AM","5:30AM","6:00AM","6:30AM","7:00AM","7:30AM","8:00AM","8:30AM","9:00AM","9:30AM","10:00AM","10:30AM","11:00AM","11:30AM","12:00PM","12:30PM","1:00PM","1:30PM","2:00PM","2:30PM","3:00PM","3:30PM","4:00PM","4:30PM","5:00PM","5:30PM","6:00PM","6:30PM","7:00PM","7:30PM","8:00PM","8:30PM","9:00PM","9:30PM","10:00PM","10:30PM","11:00PM","11:30PM","Closed"]}}},init:function(){var e=this,n=this.config;t("["+e.attr_name("select")+"]").length&&this.require("selectize",function(){return jQuery().selectize},function(){var M=t("["+e.attr_name("select")+"]");M.each(function(M,r){var o=t(r),a=null,i=null,l=null,s=null,u={plugins:["remove_button"],delimiter:",",persist:!1,create:!1};a=(i=o.attr(e.attr_name("remote"))||null)?function(e,M){t.ajax({url:i.replace(n.select.queryHolder,encodeURIComponent(e)),type:"GET",error:function(){M()},success:function(t){M(t)}})}:null,a&&(u.load=a);var c=o.attr(e.attr_name("items"));c&&(s=c.split(",")),s&&(u.items=s);var A=o.attr(e.attr_name("options"));A&&(l=n.select.options[A]?n.select.options[A].map(function(t){return{text:t,value:t}}):A.split(",").map(function(t){return{text:t,value:t}})),l&&(u.options=l),o.attr(e.attr_name("preload"))&&(u.preload=o.attr(e.attr_name("preload"))),o.selectize(u)})}),this.events()},events:function(){}}}(jQuery,window,document);
!function(s,e){e.app.comps.ctv={name:"ctv",description:"Responsible for the click-to-view logic",init:function(){s("[data-ctv]").children(".masked").addClass("hide"),this.events()},events:function(){s("[data-ctv]").on("click",function(e){e.preventDefault(),s(this).hasClass("open")||(s(this).children(".mask").addClass("hide"),s(this).children(".masked").removeClass("hide").addClass("show"),s(this).addClass("open"))})}}}(jQuery,window,document);
!function(){window.app.comps.font={init:function(){WebFontConfig={google:{families:["Open+Sans:400,700:latin"]}},function(){var t=document.createElement("script");t.src=("https:"==document.location.protocol?"https":"http")+"://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js",t.type="text/javascript",t.async="true";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}()}}}(jQuery);
!function(t){window.app.comps.leadbox={config:{leadSuccessMessage:"Thank you for posting the requirement. We are finding out best suppliers matching your requirement and will soon send their details to you on your phone number.",leadErrorMessage:"Something went wrong. Please try again later.",$leadBox:t(".lead-box"),$leadFormItems:t(".form-item")},settings:{_curIndex:0,_totItems:0},init:function(){var e=this,o=this.config,n=this.settings;return n.$boxFormItems=o.$leadBox.find(o.$leadFormItems),n.$progressLevel=o.$leadBox.find(".progress-level"),n.$progressCounter=o.$leadBox.find(".progress-counter"),n.$prevButton=o.$leadBox.find(o.roleEl.prev),n.$nextButton=o.$leadBox.find(o.roleEl.next),n.$skipButton=o.$leadBox.find(o.roleEl.skip),n.$loadingView=o.$leadBox.find(o.roleEl.loading),n.$productDropdown=o.$leadBox.find("["+this.attr_name("pdrop")+"]"),n.$productTypeDropdown=o.$leadBox.find("["+this.attr_name("ptypedrop")+"]"),n.$productList=t(".products-list"),n._totItems=n.$boxFormItems.length,n._curIndex=0,o.$leadBox.length<=0?!1:(n.$loadingView.hide(),e._showItem(),this.events(),void 0)},events:function(){var e=this,o=this.settings,n=this.config;o.$prevButton.on("click",function(o){return o.preventDefault(),t(this).attr("disabled")?!1:(e.previousItem(),void 0)}),o.$nextButton.on("click",function(o){return o.preventDefault(),t(this).attr("disabled")?!1:(e.nextItem(),void 0)}),o.$skipButton.on("click",function(e){return e.preventDefault(),t(this).attr("disabled")?!1:void 0}),t(".form-item").closest("form").on("submit",function(){console.log(arguments)}),o.$boxFormItems.find('select, input[type="radio"]').on("change",t.proxy(e.nextItem,this)),o.$productDropdown.on("change",function(){e.fillProductType()}),this.subscribe("vc:lead/submit",function(t,s){s&&s.status&&"success"==s.status?(e.notifyMe(s.message||n.leadSuccessMessage),n.$leadBox.fadeOut()):s&&s.status&&"error"==s.status&&e.notifyMe({type:"error",message:s.message||n.leadErrorMessage}),o.$loadingView.hide()}),this.subscribe("vc:productlist/select",function(s,i){o.$productDropdown.val(t(i).attr(e.attr_name("pid"))).change(),t("html, body").animate({scrollTop:n.$leadBox.offset().top-100},300,function(){n.$leadBox.removeClass("shake").width(n.$leadBox.width()).addClass("shake")})})},getItem:function(t){var e=this.settings;return t="undefined"==typeof t?e._curIndex:t,this.settings.$boxFormItems.filter(":eq("+t+")")},_showItem:function(t){var e,o=this.settings;o._curIndex="undefined"==typeof t?0:t,o.$boxFormItems.hide(),e=this.getItem(o._curIndex).fadeIn(),o.$progressLevel.css("width",(o._curIndex+1)/o._totItems*100+"%"),o.$progressCounter.html("Question "+(o._curIndex+1)+" of "+o._totItems),o.$nextButton.show(),o.$prevButton.show(),o.$skipButton.show(),console.log(o._curIndex),o._curIndex<=0&&(o.$prevButton.hide(),o.$skipButton.hide(),this.hasInputValue(e)||o.$nextButton.hide()),e.hasClass("no-skip")&&o.$skipButton.hide(),o._curIndex>=o._totItems-1?o.$nextButton.text("Get Result"):o.$nextButton.text("Continue")},previousItem:function(){var t=this.settings;t._curIndex>0&&(t._curIndex--,this._showItem(t._curIndex))},nextItem:function(){var t=this.settings;return this.isValidItem()?(t._curIndex<t._totItems-1?(t._curIndex++,this._showItem(t._curIndex)):(console.log("submitting lead request..."),t.$nextButton.prop("disabled",!0),this.publish("vc:lead/finalclick"),t.$loadingView.attr(this.attr_name("value"),"Submitting your request...").show(),this.getItem().closest("form").attr("data-vc-value","complete").submit()),void 0):!1},hasInputValue:function(e){var o=0;return console.log(e.find(":checked")),o+=!!e.find(":checked").val(),e.find("input").not('[type="radio"],[type="checkbox"]').each(function(e,n){t(n).val()&&o++}),console.log("4: "+o),!!o},isValidItem:function(t){var e,o=this.settings;return t="undefined"==typeof t?o._curIndex:t,e=this.getItem(t),console.log(e),Foundation.libs.abide.validate(e.find("input, select, textarea"),{type:""}),!e.find("[data-invalid]").length},fillProductType:function(){var e,o=this.settings,n=(this.config,o.$productDropdown.val());e=JSON.parse(o.$productList.find("["+this.attr_name("pid")+"="+n+"]").attr(this.attr_name("ptypes"))||"{}");var s="<option value=''>Choose an option</option>";t.each(e,function(t,e){s+="<option value='"+t+"'>"+e+"</option>"}),o.$productTypeDropdown.find("option").remove().end().append(t(s))}}}(jQuery);
!function(e,t){t.app.comps.autoComplete={name:"autoComplete",description:"description",config:{autoComplete:{keyWordEngine:null,locationEngine:null,keywordSearch:e(".keyword-autocomplete"),locationSearch:e(".location-autocomplete"),keywordDatasource:"../HomeWEB/KeywordAutoComplete?term=%QUERY",locationDatasource:"../HomeWEB/LocationAutoComplete?term=%QUERY",bodyWidth:t.innerWidth,leftOffest:e(".search-location .location-placeholder").outerWidth()}},init:function(){var e=this;e.keywordAutoComplete(),e.locationAutoComplete(),e.fixSuggestionsWidth(),e.fixOverlapbug(),this.events()},keywordAutoComplete:function(){var e=this;e.config.autoComplete.keyWordEngine=new Bloodhound({datumTokenizer:function(e){return Bloodhound.tokenizers.whitespace(e.label)},queryTokenizer:Bloodhound.tokenizers.whitespace,limit:5,remote:{url:e.config.autoComplete.keywordDatasource},local:[{label:"one"},{label:"two"},{label:"three"},{label:"four"},{label:"five"},{label:"six"},{label:"seven"},{label:"eight"},{label:"nine"},{label:"ten"}]}),e.config.autoComplete.keyWordEngine.initialize(),e.config.autoComplete.keywordSearch.typeahead(null,{displayKey:"label",source:e.config.autoComplete.keyWordEngine.ttAdapter()})},locationAutoComplete:function(){var e=this;e.config.autoComplete.locationEngine=new Bloodhound({datumTokenizer:function(e){return Bloodhound.tokenizers.whitespace(e.label)},queryTokenizer:Bloodhound.tokenizers.whitespace,limit:5,remote:{url:e.config.autoComplete.locationDatasource},local:[{label:"one"},{label:"two"},{label:"three"},{label:"four"},{label:"five"},{label:"six"},{label:"seven"},{label:"eight"},{label:"nine"},{label:"ten"}]}),e.config.autoComplete.locationEngine.initialize(),e.config.autoComplete.locationSearch.typeahead(null,{displayKey:"label",source:e.config.autoComplete.locationEngine.ttAdapter()}).on("typeahead:selected",function(t,o){e.getCookie("_userLoc")||e.createCookie("_userLoc",o.label,.5)})},fixOverlapbug:function(){var t=this;e.each(t.config.autoComplete.keywordSearch,function(){var t=e(this).attr("placeholder");e(this).focus(function(){e(this).attr("placeholder","")}),e(this).blur(function(){e(this).val().length<1&&e(this).attr("placeholder",t)}),e(this).change(function(){e(this).val().length<1&&e(this).attr("placeholder",t)})}),e.each(t.config.autoComplete.locationSearch,function(){var t=e(this).attr("placeholder");e(this).focus(function(){e(this).attr("placeholder","")}),e(this).blur(function(){e(this).val().length<1&&e(this).attr("placeholder",t)}),e(this).change(function(){e(this).val().length<1&&e(this).attr("placeholder",t)})})},fixSuggestionsWidth:function(){var t=this;e.each(e("#search-header").children().find(".twitter-typeahead").children(".tt-dropdown-menu"),function(){e(this).width(t.config.autoComplete.bodyWidth),e(".search-location .tt-dropdown-menu")[0].style.left=t.config.autoComplete.leftOffest+"px"})},events:function(){var o=this;e(t).resize(function(){o.config.autoComplete.bodyWidth=t.innerWidth,o.fixSuggestionsWidth()}),"orientation"in t&&(o.config.autoComplete.bodyWidth=t.innerWidth,t.addEventListener("orientationchange",o.fixSuggestionsWidth()))}}}(jQuery,window,document);
!function(n,o){o.app.comps.fancyPassword={name:"fancyPassword",description:"description",config:{fancyPassword:{maskToggle:null,passwordElement:null,toggeled:null}},init:function(){var o=this;o.config.fancyPassword.maskToggle=n("#toggle-mask"),o.config.fancyPassword.passwordElement=n("input[type='password']"),o.config.fancyPassword.toggeled=1===n("#toggle-mask:checked").length?!0:!1,this.events()},toggle:function(n,o){o.attr("type",n?"text":"password")},events:function(){var o=this;o.config.fancyPassword.maskToggle.click(function(){o.config.fancyPassword.toggeled=1===n("#toggle-mask:checked").length?!0:!1,o.toggle(o.config.fancyPassword.toggeled,o.config.fancyPassword.passwordElement)})}}}(jQuery,window,document);
!function(o,t){t.app.comps.locationBox={name:"locationBox",description:"description",init:function(){var t=this,i=o(".location-box").length>=1?!0:!1;if(i&&t.getLocation()){var n=t.getLocation();n.sublocality?(n=n.sublocality,n=n.split(",")[1],o(".location-box").each(function(){0==o(this).val().length&&(o(this).hasClass("directions-box")&&(n=t.getLocation(),n=n.neighborhood),o(this).val(n)),o(this).text(n)})):n.neighborhood&&(n=n.neighborhood,n=n.split(",")[1],o(".location-box").each(function(){0==o(this).val().length&&(o(this).hasClass("directions-box")&&(n=t.getLocation(),n=n.neighborhood),o(this).val(n)),o(this).text(n)}))}this.events()},events:function(){}}}(jQuery,window,document);
!function(a,e){e.app.comps.searchNav={name:"searchNav",description:"Mobile search navigation bar",config:{searchButton:a("#search-nav"),normalHeader:a("#normal-header"),searchHeader:a("#search-header"),mainSection:a(".main-section"),overLayHtml:"<div class='search-overlay' style='display:block'></div>",searchHeaderClose:a(".close-nav-link")},oldSearch:function(){var e=this;a(e.config.searchButton).click(function(a){a.preventDefault(),e.config.normalHeader.hide(),e.config.mainSection.prepend(e.config.overLayHtml),e.config.searchHeader.show()})},handleSearch:function(){a("[data-search]").click(function(e){e.preventDefault(),a(this).toggleClass("active"),a(".search-bar").toggleClass("hide"),a(".search-bar").toggleClass("active"),a("#normal-header").toggleClass("has-search")})},showLocation:function(){var e=this,n="";a("[data-change-location]").click(function(c){c.preventDefault(),a(".input-container").addClass("hide"),a(".input-container").find("["+e.attr_name("serach-active")+"]").each(function(){a(this).attr(e.attr_name("serach-active"),0)}),a(".input-container").find("["+e.attr_name("serach-active")+"]").each(function(){n=a(this).val()}),a(".location").addClass("hide"),a(".location-search").removeClass("hide"),a(".location-search").find("["+e.attr_name("serach-active")+"]").each(function(){a(this).val(n)}),a(".location-search").find("["+e.attr_name("serach-active")+"]").each(function(){a(this).attr(e.attr_name("serach-active"),1)})})},init:function(){this.oldSearch(),this.handleSearch(),this.events()},events:function(){var e=this;a(e.config.searchHeaderClose).click(function(n){n.preventDefault(),e.config.searchHeader.hide(),a(".search-overlay").remove(),e.config.normalHeader.show()}),this.showLocation()}}}(jQuery,window,document);
!function(i,e){e.app.comps.photoSlider={name:"photoSlider",description:"description",config:{photoSlider:{sildeStarted:!1,gallerySlider:null,mainSection:i(".main-section"),gallery:i(".gallery-photos"),galleryImgs:[],closeButton:i(".back-nav"),currentImgPos:null,silderCaption:{reviewer:null,comment:null},slidePositionHolder:null,currentImgHolder:null,prevButton:null,nextButton:null,startPos:e.location.hash?e.location.hash.indexOf("slide-")>-1?e.location.hash.charAt(e.location.hash.indexOf("slide-")+6):null:null,galleryContainer:i(".photo-gallery-container"),loderImg:null,slideHTML:'<div class="gallery-slider hide"><div class="slider-pagination"><div class="small-4 columns collapse"><a href="#" class="silder-nav left"><i class="icon-angle-left"></i></a></div><div class="small-4 columns collapse"><p class="text-center slider-position-counter">0/0</p></div><div class="small-4 columns collapse"><a href="#" class="silder-nav right"><i class="icon-angle-right"></i></a></div></div><div class="silder-img"><div class="mobile-container"><div class="loader"></div><img src="#" alt="picture"></div></div><div class="slider-caption"><div class="mobile-container"><h5 class="reviewer"></h5><p class="comment"></p></div></div></div>'}},init:function(){var e=this;e.config.photoSlider.gallery.length>=1&&(i(".mobile.body").append(e.config.photoSlider.slideHTML),e.config.photoSlider.gallerySlider=i(".gallery-slider"),e.config.photoSlider.silderCaption.reviewer=i(".slider-caption .mobile-container").children(".reviewer"),e.config.photoSlider.silderCaption.comment=i(".slider-caption .mobile-container").children(".comment"),e.config.photoSlider.slidePositionHolder=i(".slider-position-counter"),e.config.photoSlider.currentImgHolder=i(".silder-img .mobile-container").children("img"),e.config.photoSlider.prevButton=i(".silder-nav.left"),e.config.photoSlider.nextButton=i(".silder-nav.right"),e.config.photoSlider.loderImg=i(".silder-img .loader"),e.prepareImgs(e.config.photoSlider.gallery),e.handelClose(),e.handelPrev(),e.handelNext(),e.config.photoSlider.gallerySlider.hide(),e.config.photoSlider.gallerySlider.addClass("hide"),e.config.photoSlider.loderImg.hide(),e.config.photoSlider.startPos&&e.startSlide(parseInt(e.config.photoSlider.startPos))),this.events()},prepareImgs:function(e){var o=this;i(e).children("li").each(function(e){var l={img:i(this).children("a").attr("href"),uploader:i(this).children("a").attr("data-uploder"),comment:i(this).children("a").attr("data-comment"),business:i(this).children("a").children("img").attr("alt")};o.config.photoSlider.galleryImgs.push(l),i(this).children("a").click(function(i){i.preventDefault(),o.startSlide(e)})})},startSlide:function(i){var o=this,l=e.innerHeight+e.innerHeight/100*6;o.config.photoSlider.gallerySlider.css({height:l,"overflow-y":"scroll"}),o.config.photoSlider.mainSection.css({height:l,"overflow-y":"hidden"}),o.config.photoSlider.sildeStarted=!0,o.config.photoSlider.galleryContainer.hide(),o.config.photoSlider.gallerySlider.show(),o.config.photoSlider.gallerySlider.removeClass("hide"),i!=o.config.photoSlider.currentImgPos&&(o.config.photoSlider.loderImg.show(),e.setTimeout(function(){o.config.photoSlider.currentImgHolder[0].src=o.config.photoSlider.galleryImgs[i].img,o.config.photoSlider.currentImgHolder[0].alt=o.config.photoSlider.galleryImgs[i].business},800),o.config.photoSlider.currentImgHolder.load(function(){this.complete&&"undefined"!=typeof this.naturalWidth&&0!=this.naturalWidth||(o.config.photoSlider.loderImg.show(),console.log(this.complete)),o.config.photoSlider.loderImg.hide(),o.updateCounter(i),o.config.photoSlider.silderCaption.reviewer[0].innerHTML=o.config.photoSlider.galleryImgs[i].uploader,o.config.photoSlider.silderCaption.comment[0].innerHTML=o.config.photoSlider.galleryImgs[i].comment}))},prev:function(){console.log("prev");var e=this,o=e.config.photoSlider.currentImgPos;1>o?i(e.config.photoSlider.prevButton).addClass("disabled"):(o-=1,e.startSlide(o))},next:function(){console.log("nexr");var e=this,o=e.config.photoSlider.currentImgPos;o+2>e.config.photoSlider.galleryImgs.length?i(e.config.photoSlider.nextButton).addClass("disabled"):(o+=1,e.startSlide(o))},handelClose:function(){var i=this;i.config.photoSlider.closeButton.click(function(e){i.config.photoSlider.sildeStarted&&(e.preventDefault(),i.config.photoSlider.gallerySlider.hide(),i.config.photoSlider.gallerySlider.addClass("hide"),i.config.photoSlider.galleryContainer.show(),i.config.photoSlider.sildeStarted=!1,i.config.photoSlider.gallerySlider.css({height:"","overflow-y":""}),i.config.photoSlider.mainSection.css({height:"","overflow-y":""}))})},handelPrev:function(){var e=this;i(e.config.photoSlider.prevButton[0]).click(function(i){i.preventDefault(),e.prev()})},handelNext:function(){var e=this;i(e.config.photoSlider.nextButton[0]).click(function(i){i.preventDefault(),e.next()})},handleHash:function(){var i=this;i.config.photoSlider.startPos=e.location.hash.indexOf("slide-")>-1?e.location.hash.charAt(e.location.hash.indexOf("slide-")+6):null,i.config.photoSlider.startPos&&i.startSlide(parseInt(i.config.photoSlider.startPos))},updateCounter:function(i){var e=this;e.config.photoSlider.currentImgPos=i,e.config.photoSlider.slidePositionHolder[0].innerHTML=i+1+"/"+e.config.photoSlider.galleryImgs.length},events:function(){var o=this;i(e).on("hashchange",function(){o.handleHash()}),i(e).trigger("hashchange")}}}(jQuery,window,document);
!function(s,i){i.app.comps.changeProductView={name:"changeProductView",description:"description",init:function(){s("[data-list-switch]").click(function(i){console.log(i),i.preventDefault();var t=s(".item-list").hasClass("grid")?"grid":"list";"grid"==t?(s(".item-list").addClass("list").removeClass("grid"),s(".cart-items").addClass("list").removeClass("grid"),s(".store-items-list").addClass("list").removeClass("grid"),s("[data-list-switch] > i").addClass("icon-th").removeClass("icon-list")):(s(".item-list").addClass("grid").removeClass("list"),s(".cart-items").addClass("grid").removeClass("list"),s(".store-items-list").addClass("grid").removeClass("list"),s("[data-list-switch] > i").removeClass("icon-th").addClass("icon-list"))}),this.events()},events:function(){}}}(jQuery,window,document);
!function(t,e,a){e.app.comps.rateReview={init:function(){var e=this,a=this.config;a.rateReview.button=t("["+e.attr_name("review-toggle")+"]"),this.events()},events:function(){{var e=this;this.config}t(a).on("click","["+e.attr_name("review-toggle")+"]",function(a){a.preventDefault();var r=this,n=t(r).attr("href"),i=t(r).attr(e.attr_name("options")),o=t(r).attr(e.attr_name("review-id")),p=t(r).attr(e.attr_name("review-toggle")),s=t(r).attr(e.attr_name("active")),u=t("["+e.attr_name("review-id")+"="+o+"]").not(r),c=t(u).attr(e.attr_name("active"));i=e.data_options(i),1==s||t.getJSON(n,i).done(function(a){"status"in a&&1===a.status&&(c?(e.updateSate(u,p,0),t(u).attr(e.attr_name("active"),0),e.updateSate(r,p,1),t(r).attr(e.attr_name("active"),1)):(e.updateSate(r,p,1),t(r).attr(e.attr_name("active"),1)))}).fail(function(){console.warn("AJAX endpoint: "+n),e.notifyMe({type:"error",message:"sorry could not rate review"})})})},updateSate:function(e,a,r){1==r?t(e).addClass(a):t(e).removeClass(a)},data_options:function(t){function e(t){return!isNaN(t-0)&&null!==t&&""!==t&&t!==!1&&t!==!0}function a(t){return"string"==typeof t?t.trim():t}var r={};if("object"==typeof t)return t;for(opts_arr=(t||"=").split(";"),ii=opts_arr.length,String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});ii--;)p=opts_arr[ii].split("="),/true/i.test(p[1])&&(p[1]=!0),/false/i.test(p[1])&&(p[1]=!1),e(p[1])&&(p[1]=parseInt(p[1],10)),2===p.length&&p[0].length>0&&(r[a(p[0])]=a(p[1]));return r}}}(jQuery,window,document);
!function(e,a){a.app.comps.reviews={config:{reviewsTemplate:e("#reviewsTemplate").html(),LoadReviewstemplate:e("#loadReviewsTemplate").html(),cmplReviewsBtnTemplate:null,cmplReviewsTemplate:null,helpfulReviewsURL:null,allReviewsURL:null},init:function(){var a=this;e(app.attr_name("load-reviews")).length>0&&(a.config.cmplReviewsTemplate=doT.template(a.config.reviewsTemplate),a.config.cmplReviewsBtnTemplate=doT.template(a.config.LoadReviewstemplate),a.config.helpfulReviewsURL=app.config.helpfulReviewsURL,a.config.allReviewsURL=app.config.allReviewsURL,this.events())},attachLoadBtn:function(a,t){var i=this;e(a).append(i.config.cmplReviewsBtnTemplate({type:t}))},attachLoadTemplate:function(a){var t=e("#loadTemplate").html();e(a).append(t)},attachLoadFailTemplate:function(a){var t=e("#LoadFailedTemplate").html();e(a).append(t)},removeLoadFailTemplate:function(a){e(a).find(".load-error").detach()},removeLoadTemplate:function(a){e(a).find(".loading-reviews").detach()},updatePageCount:function(a,t){e(a).attr(app.attr_name("page"),t)},updateReviewsCount:function(a,t){e(a).attr(app.attr_name("count"),t)},getReviews:function(a,t,i,n){e.getJSON(a,{page:t}).done(function(e){i(e)}).fail(function(e,a,t){return err=a+", "+t,console.warn("Failed to load reviewsn"+err),"function"==typeof n&&n(e,a,t),!1})},renderReviews:function(a,t){var i=this;e.each(t,function(){e(a).append(i.config.cmplReviewsTemplate(this))})},loadMoreReviews:function(a,t,i){console.log("hello");var n=this,o=parseInt(e("["+app.attr_name("review-"+a)+"]").attr(app.attr_name("page"))),l=o+1,p=parseInt(e("["+app.attr_name("review-"+a)+"]").attr(app.attr_name("count"))),r=e("["+app.attr_name("review-"+a)+"]").attr(app.attr_name("total-pages"));r>o?n.getReviews(n.config.helpfulReviewsURL,l,function(i){"object"==typeof i&&1===i.status?(n.renderReviews(e("["+app.attr_name("review-"+a)+"]"),i.reviews),r>o&&l!=r?(n.updatePageCount(e("["+app.attr_name("review-"+a)+"]"),l),n.updateReviewsCount(e("["+app.attr_name("review-"+a)+"]"),p+i.reviews.length)):(n.updatePageCount(e("["+app.attr_name("review-"+a)+"]"),l),n.updateReviewsCount(e("["+app.attr_name("review-"+a)+"]"),p+i.reviews.length),e("["+app.attr_name("load")+'="reviews-'+a+'"]').detach())):(console.warn("could not load reviews"),o>=r&&e("["+app.attr_name("load")+'="reviews-'+a+'"]').detach()),t()},function(){n.removeLoadTemplate(e("#"+a+"-reviews")),n.attachLoadFailTemplate(e("#"+a+"-reviews")),"function"==typeof i&&i()}):(console.warn("no more reviews to load"),e("["+app.attr_name("load")+'="reviews-'+a+'"]').detach())},handleMoreReviews:function(a){var t=this;e("#"+a+"-reviews").on("click","["+app.attr_name("load")+'="reviews-'+a+'"]',function(i){var n=this;i.preventDefault(),e(this).html('<img src="../img/vcloader-dots.gif" />'),t.loadMoreReviews(a,function(){e(n).html("View more reviews")},function(){e(n).html("View more reviews"),t.removeLoadFailTemplate(e("#"+a+"-reviews"))})})},loadInitialReviews:function(a){var t=this,i=e("["+app.attr_name("review-"+a)+"]").attr(app.attr_name("count"));i=parseInt(i);var n=e("["+app.attr_name("review-"+a)+"]").attr(app.attr_name("page"));n=parseInt(n);var o=n,l="helpful"===a?t.config.helpfulReviewsURL:t.config.allReviewsURL;0===i&&(t.attachLoadTemplate(e("#"+a+"-reviews")),t.getReviews(l,o+1,function(n){"object"==typeof n&&1===n.status?(t.renderReviews(e("["+app.attr_name("review-"+a)+"]"),n.reviews),t.updatePageCount(e("["+app.attr_name("review-"+a)+"]"),o+1),t.updateReviewsCount(e("["+app.attr_name("review-"+a)+"]"),i+n.reviews.length),t.removeLoadTemplate(e("#"+a+"-reviews")),t.attachLoadBtn(e("#"+a+"-reviews"),a)):console.warn("could not load reviews")},function(){t.removeLoadTemplate(e("#"+a+"-reviews")),t.attachLoadFailTemplate(e("#"+a+"-reviews"))}))},events:function(){var e=this;this.handleMoreReviews("helpful"),this.handleMoreReviews("all"),app.subscribe("vc:hashChange",function(a,t){"tabs_all-reviews"===t.hash?e.loadInitialReviews("all"):"tabs_helpful-reviews"===t.hash?e.loadInitialReviews("helpful"):e.loadInitialReviews("helpful")})}}}(jQuery,window,document);
!function(h,n){n.app.comps.hashChange={init:function(){this.events()},events:function(){var h={changeEnabled:!1};"onhashchange"in n&&(n.onhashchange=function(){h.changeEnabled=!0,h.hash=n.location.hash.replace("#",""),app.publish("vc:hashChange",h)}),h.hash=n.location.hash.replace("#",""),app.publish("vc:hashChange",h)}}}(jQuery,window,document);