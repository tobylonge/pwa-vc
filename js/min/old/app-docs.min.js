!function(a,b,c,d){"use strict";function e(a){return("string"==typeof a||a instanceof String)&&(a=a.replace(/^['\\/"]+|(;\s?})+|['\\/"]+$/g,"")),a}var f=function(b){for(var c=b.length,d=a("head");c--;)0===d.has("."+b[c]).length&&d.append('<meta class="'+b[c]+'" />')};f(["foundation-mq-small","foundation-mq-small-only","foundation-mq-medium","foundation-mq-medium-only","foundation-mq-large","foundation-mq-large-only","foundation-mq-xlarge","foundation-mq-xlarge-only","foundation-mq-xxlarge","foundation-data-attribute-namespace"]),a(function(){"undefined"!=typeof FastClick&&"undefined"!=typeof c.body&&FastClick.attach(c.body)});var g=function(b,d){if("string"==typeof b){if(d){var e;if(d.jquery){if(e=d[0],!e)return d}else e=d;return a(e.querySelectorAll(b))}return a(c.querySelectorAll(b))}return a(b,d)},h=function(a){var b=[];return a||b.push("data"),this.namespace.length>0&&b.push(this.namespace),b.push(this.name),b.join("-")},i=function(a){for(var b=a.split("-"),c=b.length,d=[];c--;)0!==c?d.push(b[c]):this.namespace.length>0?d.push(this.namespace,b[c]):d.push(b[c]);return d.reverse().join("-")},j=function(b,c){var d=this,e=!g(this).data(this.attr_name(!0));return g(this.scope).is("["+this.attr_name()+"]")?(g(this.scope).data(this.attr_name(!0)+"-init",a.extend({},this.settings,c||b,this.data_options(g(this.scope)))),e&&this.events(this.scope)):g("["+this.attr_name()+"]",this.scope).each(function(){var e=!g(this).data(d.attr_name(!0)+"-init");g(this).data(d.attr_name(!0)+"-init",a.extend({},d.settings,c||b,d.data_options(g(this)))),e&&d.events(this)}),"string"==typeof b?this[b].call(this,c):void 0},k=function(a,b){function c(){b(a[0])}function d(){if(this.one("load",c),/MSIE (\d+\.\d+);/.test(navigator.userAgent)){var a=this.attr("src"),b=a.match(/\?/)?"&":"?";b+="random="+(new Date).getTime(),this.attr("src",a+b)}}return a.attr("src")?void(a[0].complete||4===a[0].readyState?c():d.call(a)):void c()};b.matchMedia=b.matchMedia||function(a){var b,c=a.documentElement,d=c.firstElementChild||c.firstChild,e=a.createElement("body"),f=a.createElement("div");return f.id="mq-test-1",f.style.cssText="position:absolute;top:-100em",e.style.background="none",e.appendChild(f),function(a){return f.innerHTML='&shy;<style media="'+a+'"> #mq-test-1 { width: 42px; }</style>',c.insertBefore(e,d),b=42===f.offsetWidth,c.removeChild(e),{matches:b,media:a}}}(c),function(a){function c(){d&&(g(c),i&&a.fx.tick())}for(var d,e=0,f=["webkit","moz"],g=b.requestAnimationFrame,h=b.cancelAnimationFrame,i="undefined"!=typeof a.fx;e<f.length&&!g;e++)g=b[f[e]+"RequestAnimationFrame"],h=h||b[f[e]+"CancelAnimationFrame"]||b[f[e]+"CancelRequestAnimationFrame"];g?(b.requestAnimationFrame=g,b.cancelAnimationFrame=h,i&&(a.fx.timer=function(b){b()&&a.timers.push(b)&&!d&&(d=!0,c())},a.fx.stop=function(){d=!1})):(b.requestAnimationFrame=function(a){var c=(new Date).getTime(),d=Math.max(0,16-(c-e)),f=b.setTimeout(function(){a(c+d)},d);return e=c+d,f},b.cancelAnimationFrame=function(a){clearTimeout(a)})}(a),b.Foundation={name:"Foundation",version:"{{VERSION}}",media_queries:{small:g(".foundation-mq-small").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),"small-only":g(".foundation-mq-small-only").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),medium:g(".foundation-mq-medium").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),"medium-only":g(".foundation-mq-medium-only").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),large:g(".foundation-mq-large").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),"large-only":g(".foundation-mq-large-only").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),xlarge:g(".foundation-mq-xlarge").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),"xlarge-only":g(".foundation-mq-xlarge-only").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),xxlarge:g(".foundation-mq-xxlarge").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,"")},stylesheet:a("<style></style>").appendTo("head")[0].sheet,global:{namespace:d},init:function(a,c,d,e,f){var h=[a,d,e,f],i=[];if(this.rtl=/rtl/i.test(g("html").attr("dir")),this.scope=a||this.scope,this.set_namespace(),c&&"string"==typeof c&&!/reflow/i.test(c))this.libs.hasOwnProperty(c)&&i.push(this.init_lib(c,h));else for(var j in this.libs)i.push(this.init_lib(j,c));return g(b).load(function(){g(b).trigger("resize.fndtn.clearing").trigger("resize.fndtn.dropdown").trigger("resize.fndtn.equalizer").trigger("resize.fndtn.interchange").trigger("resize.fndtn.joyride").trigger("resize.fndtn.magellan").trigger("resize.fndtn.topbar").trigger("resize.fndtn.slider")}),a},init_lib:function(b,c){return this.libs.hasOwnProperty(b)?(this.patch(this.libs[b]),c&&c.hasOwnProperty(b)?("undefined"!=typeof this.libs[b].settings?a.extend(!0,this.libs[b].settings,c[b]):"undefined"!=typeof this.libs[b].defaults&&a.extend(!0,this.libs[b].defaults,c[b]),this.libs[b].init.apply(this.libs[b],[this.scope,c[b]])):(c=c instanceof Array?c:new Array(c),this.libs[b].init.apply(this.libs[b],c))):function(){}},patch:function(a){a.scope=this.scope,a.namespace=this.global.namespace,a.rtl=this.rtl,a.data_options=this.utils.data_options,a.attr_name=h,a.add_namespace=i,a.bindings=j,a.S=this.utils.S},inherit:function(a,b){for(var c=b.split(" "),d=c.length;d--;)this.utils.hasOwnProperty(c[d])&&(a[c[d]]=this.utils[c[d]])},set_namespace:function(){var b=this.global.namespace===d?a(".foundation-data-attribute-namespace").css("font-family"):this.global.namespace;this.global.namespace=b===d||/false/i.test(b)?"":b},libs:{},utils:{S:g,throttle:function(a,b){var c=null;return function(){var d=this,e=arguments;null==c&&(c=setTimeout(function(){a.apply(d,e),c=null},b))}},debounce:function(a,b,c){var d,e;return function(){var f=this,g=arguments,h=function(){d=null,c||(e=a.apply(f,g))},i=c&&!d;return clearTimeout(d),d=setTimeout(h,b),i&&(e=a.apply(f,g)),e}},data_options:function(b,c){function d(a){return!isNaN(a-0)&&null!==a&&""!==a&&a!==!1&&a!==!0}function e(b){return"string"==typeof b?a.trim(b):b}c=c||"options";var f,g,h,i={},j=function(a){var b=Foundation.global.namespace;return b.length>0?a.data(b+"-"+c):a.data(c)},k=j(b);if("object"==typeof k)return k;for(h=(k||":").split(";"),f=h.length;f--;)g=h[f].split(":"),g=[g[0],g.slice(1).join(":")],/true/i.test(g[1])&&(g[1]=!0),/false/i.test(g[1])&&(g[1]=!1),d(g[1])&&(-1===g[1].indexOf(".")?g[1]=parseInt(g[1],10):g[1]=parseFloat(g[1])),2===g.length&&g[0].length>0&&(i[e(g[0])]=e(g[1]));return i},register_media:function(b,c){Foundation.media_queries[b]===d&&(a("head").append('<meta class="'+c+'"/>'),Foundation.media_queries[b]=e(a("."+c).css("font-family")))},add_custom_rule:function(a,b){if(b===d&&Foundation.stylesheet)Foundation.stylesheet.insertRule(a,Foundation.stylesheet.cssRules.length);else{var c=Foundation.media_queries[b];c!==d&&Foundation.stylesheet.insertRule("@media "+Foundation.media_queries[b]+"{ "+a+" }")}},image_loaded:function(a,b){var c=this,d=a.length;0===d&&b(a),a.each(function(){k(c.S(this),function(){d-=1,0===d&&b(a)})})},random_str:function(){return this.fidx||(this.fidx=0),this.prefix=this.prefix||[this.name||"F",(+new Date).toString(36)].join("-"),this.prefix+(this.fidx++).toString(36)},match:function(a){return b.matchMedia(a).matches},is_small_up:function(){return this.match(Foundation.media_queries.small)},is_medium_up:function(){return this.match(Foundation.media_queries.medium)},is_large_up:function(){return this.match(Foundation.media_queries.large)},is_xlarge_up:function(){return this.match(Foundation.media_queries.xlarge)},is_xxlarge_up:function(){return this.match(Foundation.media_queries.xxlarge)},is_small_only:function(){return!(this.is_medium_up()||this.is_large_up()||this.is_xlarge_up()||this.is_xxlarge_up())},is_medium_only:function(){return this.is_medium_up()&&!this.is_large_up()&&!this.is_xlarge_up()&&!this.is_xxlarge_up()},is_large_only:function(){return this.is_medium_up()&&this.is_large_up()&&!this.is_xlarge_up()&&!this.is_xxlarge_up()},is_xlarge_only:function(){return this.is_medium_up()&&this.is_large_up()&&this.is_xlarge_up()&&!this.is_xxlarge_up()},is_xxlarge_only:function(){return this.is_medium_up()&&this.is_large_up()&&this.is_xlarge_up()&&this.is_xxlarge_up()}}},a.fn.foundation=function(){var a=Array.prototype.slice.call(arguments,0);return this.each(function(){return Foundation.init.apply(Foundation,[this].concat(a)),this})}}(jQuery,window,window.document),function(a,b,c,d){"use strict";function e(a){var b=/fade/i.test(a),c=/pop/i.test(a);return{animate:b||c,pop:c,fade:b}}Foundation.libs.reveal={name:"reveal",version:"{{VERSION}}",locked:!1,settings:{animation:"fadeAndPop",animation_speed:250,close_on_background_click:!0,close_on_esc:!0,dismiss_modal_class:"close-reveal-modal",bg_class:"reveal-modal-bg",root_element:"body",open:function(){},opened:function(){},close:function(){},closed:function(){},bg:a(".reveal-modal-bg"),css:{open:{opacity:0,visibility:"visible",display:"block"},close:{opacity:1,visibility:"hidden",display:"none"}}},init:function(b,c,d){a.extend(!0,this.settings,c,d),this.bindings(c,d)},events:function(a){var b=this,d=b.S;return d(this.scope).off(".reveal").on("click.fndtn.reveal","["+this.add_namespace("data-reveal-id")+"]:not([disabled])",function(a){if(a.preventDefault(),!b.locked){var c=d(this),e=c.data(b.data_attr("reveal-ajax"));if(b.locked=!0,"undefined"==typeof e)b.open.call(b,c);else{var f=e===!0?c.attr("href"):e;b.open.call(b,c,{url:f})}}}),d(c).on("click.fndtn.reveal",this.close_targets(),function(a){if(a.preventDefault(),!b.locked){var c=d("["+b.attr_name()+"].open").data(b.attr_name(!0)+"-init")||b.settings,e=d(a.target)[0]===d("."+c.bg_class)[0];if(e){if(!c.close_on_background_click)return;a.stopPropagation()}b.locked=!0,b.close.call(b,e?d("["+b.attr_name()+"].open"):d(this).closest("["+b.attr_name()+"]"))}}),d("["+b.attr_name()+"]",this.scope).length>0?d(this.scope).on("open.fndtn.reveal",this.settings.open).on("opened.fndtn.reveal",this.settings.opened).on("opened.fndtn.reveal",this.open_video).on("close.fndtn.reveal",this.settings.close).on("closed.fndtn.reveal",this.settings.closed).on("closed.fndtn.reveal",this.close_video):d(this.scope).on("open.fndtn.reveal","["+b.attr_name()+"]",this.settings.open).on("opened.fndtn.reveal","["+b.attr_name()+"]",this.settings.opened).on("opened.fndtn.reveal","["+b.attr_name()+"]",this.open_video).on("close.fndtn.reveal","["+b.attr_name()+"]",this.settings.close).on("closed.fndtn.reveal","["+b.attr_name()+"]",this.settings.closed).on("closed.fndtn.reveal","["+b.attr_name()+"]",this.close_video),!0},key_up_on:function(a){var b=this;return b.S("body").off("keyup.fndtn.reveal").on("keyup.fndtn.reveal",function(a){var c=b.S("["+b.attr_name()+"].open"),d=c.data(b.attr_name(!0)+"-init")||b.settings;d&&27===a.which&&d.close_on_esc&&!b.locked&&b.close.call(b,c)}),!0},key_up_off:function(a){return this.S("body").off("keyup.fndtn.reveal"),!0},open:function(c,d){var e,f=this;c?"undefined"!=typeof c.selector?e=f.S("#"+c.data(f.data_attr("reveal-id"))).first():(e=f.S(this.scope),d=c):e=f.S(this.scope);var g=e.data(f.attr_name(!0)+"-init");if(g=g||this.settings,e.hasClass("open")&&c.attr("data-reveal-id")==e.attr("id"))return f.close(e);if(!e.hasClass("open")){var h=f.S("["+f.attr_name()+"].open");if("undefined"==typeof e.data("css-top")&&e.data("css-top",parseInt(e.css("top"),10)).data("offset",this.cache_offset(e)),this.key_up_on(e),e.on("open.fndtn.reveal").trigger("open.fndtn.reveal"),h.length<1&&this.toggle_bg(e,!0),"string"==typeof d&&(d={url:d}),"undefined"!=typeof d&&d.url){var i="undefined"!=typeof d.success?d.success:null;a.extend(d,{success:function(b,c,d){if(a.isFunction(i)){var j=i(b,c,d);"string"==typeof j&&(b=j)}e.html(b),f.S(e).foundation("section","reflow"),f.S(e).children().foundation(),h.length>0&&f.hide(h,g.css.close),f.show(e,g.css.open)}}),a.ajax(d)}else h.length>0&&this.hide(h,g.css.close),this.show(e,g.css.open)}f.S(b).trigger("resize")},close:function(a){var a=a&&a.length?a:this.S(this.scope),b=this.S("["+this.attr_name()+"].open"),c=a.data(this.attr_name(!0)+"-init")||this.settings;b.length>0&&(this.locked=!0,this.key_up_off(a),a.trigger("close").trigger("close.fndtn.reveal"),this.toggle_bg(a,!1),this.hide(b,c.css.close,c))},close_targets:function(){var a="."+this.settings.dismiss_modal_class;return this.settings.close_on_background_click?a+", ."+this.settings.bg_class:a},toggle_bg:function(b,c){0===this.S("."+this.settings.bg_class).length&&(this.settings.bg=a("<div />",{"class":this.settings.bg_class}).appendTo("body").hide());var e=this.settings.bg.filter(":visible").length>0;c!=e&&((c==d?e:!c)?this.hide(this.settings.bg):this.show(this.settings.bg))},show:function(c,d){if(d){var f=c.data(this.attr_name(!0)+"-init")||this.settings,g=f.root_element;if(0===c.parent(g).length){var h=c.wrap('<div style="display: none;" />').parent();c.on("closed.fndtn.reveal.wrapped",function(){c.detach().appendTo(h),c.unwrap().unbind("closed.fndtn.reveal.wrapped")}),c.detach().appendTo(g)}var i=e(f.animation);if(i.animate||(this.locked=!1),i.pop){d.top=a(b).scrollTop()-c.data("offset")+"px";var j={top:a(b).scrollTop()+c.data("css-top")+"px",opacity:1};return setTimeout(function(){return c.css(d).animate(j,f.animation_speed,"linear",function(){this.locked=!1,c.trigger("opened").trigger("opened.fndtn.reveal")}.bind(this)).addClass("open")}.bind(this),f.animation_speed/2)}if(i.fade){d.top=a(b).scrollTop()+c.data("css-top")+"px";var j={opacity:1};return setTimeout(function(){return c.css(d).animate(j,f.animation_speed,"linear",function(){this.locked=!1,c.trigger("opened").trigger("opened.fndtn.reveal")}.bind(this)).addClass("open")}.bind(this),f.animation_speed/2)}return c.css(d).show().css({opacity:1}).addClass("open").trigger("opened").trigger("opened.fndtn.reveal")}var f=this.settings;return e(f.animation).fade?c.fadeIn(f.animation_speed/2):(this.locked=!1,c.show())},hide:function(c,d){if(d){var f=c.data(this.attr_name(!0)+"-init");f=f||this.settings;var g=e(f.animation);if(g.animate||(this.locked=!1),g.pop){var h={top:-a(b).scrollTop()-c.data("offset")+"px",opacity:0};return setTimeout(function(){return c.animate(h,f.animation_speed,"linear",function(){this.locked=!1,c.css(d).trigger("closed").trigger("closed.fndtn.reveal")}.bind(this)).removeClass("open")}.bind(this),f.animation_speed/2)}if(g.fade){var h={opacity:0};return setTimeout(function(){return c.animate(h,f.animation_speed,"linear",function(){this.locked=!1,c.css(d).trigger("closed").trigger("closed.fndtn.reveal")}.bind(this)).removeClass("open")}.bind(this),f.animation_speed/2)}return c.hide().css(d).removeClass("open").trigger("closed").trigger("closed.fndtn.reveal")}var f=this.settings;return e(f.animation).fade?c.fadeOut(f.animation_speed/2):c.hide()},close_video:function(b){var c=a(".flex-video",b.target),d=a("iframe",c);d.length>0&&(d.attr("data-src",d[0].src),d.attr("src",d.attr("src")),c.hide())},open_video:function(b){var c=a(".flex-video",b.target),e=c.find("iframe");if(e.length>0){var f=e.attr("data-src");if("string"==typeof f)e[0].src=e.attr("data-src");else{var g=e[0].src;e[0].src=d,e[0].src=g}c.show()}},data_attr:function(a){return this.namespace.length>0?this.namespace+"-"+a:a},cache_offset:function(a){var b=a.show().height()+parseInt(a.css("top"),10);return a.hide(),b},off:function(){a(this.scope).off(".fndtn.reveal")},reflow:function(){}}}(jQuery,window,window.document),function(a,b,c,d){"use strict";Foundation.libs.dropdown={name:"dropdown",version:"{{VERSION}}",settings:{active_class:"open",disabled_class:"disabled",mega_class:"mega",align:"bottom",is_hover:!1,hover_timeout:150,opened:function(){},closed:function(){}},init:function(b,c,d){Foundation.inherit(this,"throttle"),a.extend(!0,this.settings,c,d),this.bindings(c,d)},events:function(d){var e=this,f=e.S;f(this.scope).off(".dropdown").on("click.fndtn.dropdown","["+this.attr_name()+"]",function(b){var c=f(this).data(e.attr_name(!0)+"-init")||e.settings;(!c.is_hover||Modernizr.touch)&&(b.preventDefault(),f(this).parent("[data-reveal-id]")&&b.stopPropagation(),e.toggle(a(this)))}).on("mouseenter.fndtn.dropdown","["+this.attr_name()+"], ["+this.attr_name()+"-content]",function(a){var b,c,d=f(this);clearTimeout(e.timeout),d.data(e.data_attr())?(b=f("#"+d.data(e.data_attr())),c=d):(b=d,c=f("["+e.attr_name()+'="'+b.attr("id")+'"]'));var g=c.data(e.attr_name(!0)+"-init")||e.settings;f(a.currentTarget).data(e.data_attr())&&g.is_hover&&e.closeall.call(e),g.is_hover&&e.open.apply(e,[b,c])}).on("mouseleave.fndtn.dropdown","["+this.attr_name()+"], ["+this.attr_name()+"-content]",function(a){var b,c=f(this);if(c.data(e.data_attr()))b=c.data(e.data_attr(!0)+"-init")||e.settings;else var d=f("["+e.attr_name()+'="'+f(this).attr("id")+'"]'),b=d.data(e.attr_name(!0)+"-init")||e.settings;e.timeout=setTimeout(function(){c.data(e.data_attr())?b.is_hover&&e.close.call(e,f("#"+c.data(e.data_attr()))):b.is_hover&&e.close.call(e,c)}.bind(this),b.hover_timeout)}).on("click.fndtn.dropdown",function(b){var d=f(b.target).closest("["+e.attr_name()+"-content]"),g=d.find("a");return g.length>0&&"false"!==d.attr("aria-autoclose")&&e.close.call(e,f("["+e.attr_name()+"-content]")),b.target!==c&&!a.contains(c.documentElement,b.target)||f(b.target).closest("["+e.attr_name()+"]").length>0?void 0:!f(b.target).data("revealId")&&d.length>0&&(f(b.target).is("["+e.attr_name()+"-content]")||a.contains(d.first()[0],b.target))?void b.stopPropagation():void e.close.call(e,f("["+e.attr_name()+"-content]"))}).on("opened.fndtn.dropdown","["+e.attr_name()+"-content]",function(){e.settings.opened.call(this)}).on("closed.fndtn.dropdown","["+e.attr_name()+"-content]",function(){e.settings.closed.call(this)}),f(b).off(".dropdown").on("resize.fndtn.dropdown",e.throttle(function(){e.resize.call(e)},50)),this.resize()},close:function(b){var c=this;b.each(function(){var d=a("["+c.attr_name()+"="+b[0].id+"]")||a("aria-controls="+b[0].id+"]");d.attr("aria-expanded","false"),c.S(this).hasClass(c.settings.active_class)&&(c.S(this).css(Foundation.rtl?"right":"left","-99999px").attr("aria-hidden","true").removeClass(c.settings.active_class).prev("["+c.attr_name()+"]").removeClass(c.settings.active_class).removeData("target"),c.S(this).trigger("closed").trigger("closed.fndtn.dropdown",[b]))}),b.removeClass("f-open-"+this.attr_name(!0))},closeall:function(){var b=this;a.each(b.S(".f-open-"+this.attr_name(!0)),function(){b.close.call(b,b.S(this))})},open:function(a,b){this.css(a.addClass(this.settings.active_class),b),a.prev("["+this.attr_name()+"]").addClass(this.settings.active_class),a.data("target",b.get(0)).trigger("opened").trigger("opened.fndtn.dropdown",[a,b]),a.attr("aria-hidden","false"),b.attr("aria-expanded","true"),a.focus(),a.addClass("f-open-"+this.attr_name(!0))},data_attr:function(){return this.namespace.length>0?this.namespace+"-"+this.name:this.name},toggle:function(a){if(!a.hasClass(this.settings.disabled_class)){var b=this.S("#"+a.data(this.data_attr()));0!==b.length&&(this.close.call(this,this.S("["+this.attr_name()+"-content]").not(b)),b.hasClass(this.settings.active_class)?(this.close.call(this,b),b.data("target")!==a.get(0)&&this.open.call(this,b,a)):this.open.call(this,b,a))}},resize:function(){var a=this.S("["+this.attr_name()+"-content].open"),b=this.S("["+this.attr_name()+'="'+a.attr("id")+'"]');a.length&&b.length&&this.css(a,b)},css:function(a,b){var c=Math.max((b.width()-a.width())/2,8),d=b.data(this.attr_name(!0)+"-init")||this.settings;if(this.clear_idx(),this.small()){var e=this.dirs.bottom.call(a,b,d);a.attr("style","").removeClass("drop-left drop-right drop-top").css({position:"absolute",width:"95%","max-width":"none",top:e.top}),a.css(Foundation.rtl?"right":"left",c)}else this.style(a,b,d);return a},style:function(b,c,d){var e=a.extend({position:"absolute"},this.dirs[d.align].call(b,c,d));b.attr("style","").css(e)},dirs:{_base:function(a){var d=this.offsetParent(),e=d.offset(),f=a.offset();f.top-=e.top,f.left-=e.left,f.missRight=!1,f.missTop=!1,f.missLeft=!1,f.leftRightFlag=!1;var g;g=c.getElementsByClassName("row")[0]?c.getElementsByClassName("row")[0].clientWidth:b.outerWidth;var h=(b.outerWidth-g)/2,i=g;return this.hasClass("mega")||(a.offset().top<=this.outerHeight()&&(f.missTop=!0,i=b.outerWidth-h,f.leftRightFlag=!0),a.offset().left+this.outerWidth()>a.offset().left+h&&a.offset().left-h>this.outerWidth()&&(f.missRight=!0,f.missLeft=!1),a.offset().left-this.outerWidth()<=0&&(f.missLeft=!0,f.missRight=!1)),f},top:function(a,b){var c=Foundation.libs.dropdown,d=c.dirs._base.call(this,a);return this.addClass("drop-top"),1==d.missTop&&(d.top=d.top+a.outerHeight()+this.outerHeight(),this.removeClass("drop-top")),1==d.missRight&&(d.left=d.left-this.outerWidth()+a.outerWidth()),(a.outerWidth()<this.outerWidth()||c.small()||this.hasClass(b.mega_menu))&&c.adjust_pip(this,a,b,d),Foundation.rtl?{left:d.left-this.outerWidth()+a.outerWidth(),top:d.top-this.outerHeight()}:{left:d.left,top:d.top-this.outerHeight()}},bottom:function(a,b){var c=Foundation.libs.dropdown,d=c.dirs._base.call(this,a);return 1==d.missRight&&(d.left=d.left-this.outerWidth()+a.outerWidth()),(a.outerWidth()<this.outerWidth()||c.small()||this.hasClass(b.mega_menu))&&c.adjust_pip(this,a,b,d),c.rtl?{left:d.left-this.outerWidth()+a.outerWidth(),top:d.top+a.outerHeight()}:{left:d.left,top:d.top+a.outerHeight()}},left:function(a,b){var c=Foundation.libs.dropdown.dirs._base.call(this,a);return this.addClass("drop-left"),1==c.missLeft&&(c.left=c.left+this.outerWidth(),c.top=c.top+a.outerHeight(),this.removeClass("drop-left")),{left:c.left-this.outerWidth(),top:c.top}},right:function(a,b){var c=Foundation.libs.dropdown.dirs._base.call(this,a);this.addClass("drop-right"),1==c.missRight?(c.left=c.left-this.outerWidth(),c.top=c.top+a.outerHeight(),this.removeClass("drop-right")):c.triggeredRight=!0;var d=Foundation.libs.dropdown;return(a.outerWidth()<this.outerWidth()||d.small()||this.hasClass(b.mega_menu))&&d.adjust_pip(this,a,b,c),{left:c.left+a.outerWidth(),top:c.top}}},adjust_pip:function(a,b,c,d){var e=Foundation.stylesheet,f=8;a.hasClass(c.mega_class)?f=d.left+b.outerWidth()/2-8:this.small()&&(f+=d.left-8),this.rule_idx=e.cssRules.length;var g=".f-dropdown.open:before",h=".f-dropdown.open:after",i="left: "+f+"px;",j="left: "+(f-1)+"px;";1==d.missRight&&(f=a.outerWidth()-23,g=".f-dropdown.open:before",h=".f-dropdown.open:after",i="left: "+f+"px;",j="left: "+(f-1)+"px;"),1==d.triggeredRight&&(g=".f-dropdown.open:before",h=".f-dropdown.open:after",i="left:-12px;",j="left:-14px;"),e.insertRule?(e.insertRule([g,"{",i,"}"].join(" "),this.rule_idx),e.insertRule([h,"{",j,"}"].join(" "),this.rule_idx+1)):(e.addRule(g,i,this.rule_idx),e.addRule(h,j,this.rule_idx+1))},clear_idx:function(){var a=Foundation.stylesheet;"undefined"!=typeof this.rule_idx&&(a.deleteRule(this.rule_idx),a.deleteRule(this.rule_idx),delete this.rule_idx)},small:function(){return matchMedia(Foundation.media_queries.small).matches&&!matchMedia(Foundation.media_queries.medium).matches},off:function(){this.S(this.scope).off(".fndtn.dropdown"),this.S("html, body").off(".fndtn.dropdown"),this.S(b).off(".fndtn.dropdown"),this.S("[data-dropdown-content]").off(".fndtn.dropdown")},reflow:function(){}}}(jQuery,window,window.document),function(a,b,c,d){"use strict";Foundation.libs.abide={name:"abide",version:"{{VERSION}}",settings:{live_validate:!0,validate_on_blur:!0,focus_on_invalid:!0,error_labels:!0,error_class:"error",timeout:1e3,patterns:{alpha:/^[a-zA-Z]+$/,alpha_numeric:/^[a-zA-Z0-9]+$/,integer:/^[-+]?\d+$/,number:/^[-+]?\d*(?:[\.\,]\d+)?$/,card:/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})$/,cvv:/^([0-9]){3,4}$/,email:/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+$/,url:/^(https?|ftp|file|ssh):\/\/(((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/,domain:/^([a-zA-Z0-9]([a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,8}$/,datetime:/^([0-2][0-9]{3})\-([0-1][0-9])\-([0-3][0-9])T([0-5][0-9])\:([0-5][0-9])\:([0-5][0-9])(Z|([\-\+]([0-1][0-9])\:00))$/,date:/(?:19|20)[0-9]{2}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-9])|(?:(?!02)(?:0[1-9]|1[0-2])-(?:30))|(?:(?:0[13578]|1[02])-31))$/,time:/^(0[0-9]|1[0-9]|2[0-3])(:[0-5][0-9]){2}$/,dateISO:/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/,month_day_year:/^(0[1-9]|1[012])[- \/.](0[1-9]|[12][0-9]|3[01])[- \/.]\d{4}$/,day_month_year:/^(0[1-9]|[12][0-9]|3[01])[- \/.](0[1-9]|1[012])[- \/.]\d{4}$/,color:/^#?([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/},validators:{equalTo:function(a,b,d){var e=c.getElementById(a.getAttribute(this.add_namespace("data-equalto"))).value,f=a.value,g=e===f;return g}}},timer:null,init:function(a,b,c){this.bindings(b,c)},events:function(b){var c=this,d=c.S(b).attr("novalidate","novalidate"),e=d.data(this.attr_name(!0)+"-init")||{};this.invalid_attr=this.add_namespace("data-invalid"),d.off(".abide").on("submit.fndtn.abide validate.fndtn.abide",function(a){var b=/ajax/i.test(c.S(this).attr(c.attr_name()));return c.validate(c.S(this).find("input, textarea, select").get(),a,b)}).on("reset",function(){return c.reset(a(this))}).find("input, textarea, select").off(".abide").on("blur.fndtn.abide change.fndtn.abide",function(a){e.validate_on_blur===!0&&c.validate([this],a)}).on("keydown.fndtn.abide",function(a){e.live_validate===!0&&9!=a.which&&(clearTimeout(c.timer),c.timer=setTimeout(function(){c.validate([this],a)}.bind(this),e.timeout))})},reset:function(b){b.removeAttr(this.invalid_attr),a(this.invalid_attr,b).removeAttr(this.invalid_attr),a("."+this.settings.error_class,b).not("small").removeClass(this.settings.error_class)},validate:function(a,b,c){for(var d=this.parse_patterns(a),e=d.length,f=this.S(a[0]).closest("form"),g=/submit/.test(b.type),h=0;e>h;h++)if(!d[h]&&(g||c))return this.settings.focus_on_invalid&&a[h].focus(),f.trigger("invalid").trigger("invalid.fndtn.abide"),this.S(a[h]).closest("form").attr(this.invalid_attr,""),!1;return(g||c)&&f.trigger("valid").trigger("valid.fndtn.abide"),f.removeAttr(this.invalid_attr),c?!1:!0},parse_patterns:function(a){for(var b=a.length,c=[];b--;)c.push(this.pattern(a[b]));return this.check_validation_and_apply_styles(c)},pattern:function(a){var b=a.getAttribute("type"),c="string"==typeof a.getAttribute("required"),d=a.getAttribute("pattern")||"";return this.settings.patterns.hasOwnProperty(d)&&d.length>0?[a,this.settings.patterns[d],c]:d.length>0?[a,new RegExp(d),c]:this.settings.patterns.hasOwnProperty(b)?[a,this.settings.patterns[b],c]:(d=/.*/,[a,d,c])},check_validation_and_apply_styles:function(b){var c=b.length,d=[],e=this.S(b[0][0]).closest("[data-"+this.attr_name(!0)+"]");for(e.data(this.attr_name(!0)+"-init")||{};c--;){var f,g,h=b[c][0],i=b[c][2],j=h.value.trim(),k=this.S(h).parent(),l=h.getAttribute(this.add_namespace("data-abide-validator")),m="radio"===h.type,n="checkbox"===h.type,o=this.S('label[for="'+h.getAttribute("id")+'"]'),p=i?h.value.length>0:!0,q=[];if(h.getAttribute(this.add_namespace("data-equalto"))&&(l="equalTo"),f=k.is("label")?k.parent():k,l&&(g=this.settings.validators[l].apply(this,[h,i,f]),q.push(g)),m&&i)q.push(this.valid_radio(h,i));else if(n&&i)q.push(this.valid_checkbox(h,i));else if(b[c][1].test(j)&&p||!i&&h.value.length<1||a(h).attr("disabled")?q.push(!0):q.push(!1),q=[q.every(function(a){return a})],q[0])this.S(h).removeAttr(this.invalid_attr),h.setAttribute("aria-invalid","false"),h.removeAttribute("aria-describedby"),f.removeClass(this.settings.error_class),o.length>0&&this.settings.error_labels&&o.removeClass(this.settings.error_class).removeAttr("role"),a(h).triggerHandler("valid");else{this.S(h).attr(this.invalid_attr,""),h.setAttribute("aria-invalid","true");var r=f.find("small."+this.settings.error_class,"span."+this.settings.error_class),s=r.length>0?r[0].id:"";s.length>0&&h.setAttribute("aria-describedby",s),f.addClass(this.settings.error_class),o.length>0&&this.settings.error_labels&&o.addClass(this.settings.error_class).attr("role","alert"),a(h).triggerHandler("invalid")}d.push(q[0])}return d=[d.every(function(a){return a})]},valid_checkbox:function(a,b){var a=this.S(a),c=a.is(":checked")||!b||a.get(0).getAttribute("disabled");return c?a.removeAttr(this.invalid_attr).parent().removeClass(this.settings.error_class):a.attr(this.invalid_attr,"").parent().addClass(this.settings.error_class),c},valid_radio:function(a,b){for(var c=a.getAttribute("name"),d=this.S(a).closest("[data-"+this.attr_name(!0)+"]").find("[name='"+c+"']"),e=d.length,f=!1,g=!1,h=0;e>h;h++)d[h].getAttribute("disabled")?(g=!0,f=!0):d[h].checked?f=!0:g&&(f=!1);for(var h=0;e>h;h++)f?this.S(d[h]).removeAttr(this.invalid_attr).parent().removeClass(this.settings.error_class):this.S(d[h]).attr(this.invalid_attr,"").parent().addClass(this.settings.error_class);return f},valid_equal:function(a,b,d){var e=c.getElementById(a.getAttribute(this.add_namespace("data-equalto"))).value,f=a.value,g=e===f;return g?(this.S(a).removeAttr(this.invalid_attr),d.removeClass(this.settings.error_class),label.length>0&&settings.error_labels&&label.removeClass(this.settings.error_class)):(this.S(a).attr(this.invalid_attr,""),d.addClass(this.settings.error_class),label.length>0&&settings.error_labels&&label.addClass(this.settings.error_class)),g},valid_oneof:function(a,b,c,d){var a=this.S(a),e=this.S("["+this.add_namespace("data-oneof")+"]"),f=e.filter(":checked").length>0;if(f?a.removeAttr(this.invalid_attr).parent().removeClass(this.settings.error_class):a.attr(this.invalid_attr,"").parent().addClass(this.settings.error_class),!d){var g=this;e.each(function(){g.valid_oneof.call(g,this,null,null,!0)})}return f}}}(jQuery,window,window.document),function(a,b,c,d){"use strict";Foundation.libs.alert={name:"alert",version:"5.1.1",settings:{animation:"fadeOut",speed:300,callback:function(){}},init:function(a,b,c){this.bindings(b,c)},events:function(){var b=this,c=this.S;a(this.scope).off(".alert").on("click.fndtn.alert","["+this.attr_name()+"] a.close",function(a){var d=c(this).closest("["+b.attr_name()+"]"),e=d.data(b.attr_name(!0)+"-init")||b.settings;a.preventDefault(),d[e.animation](e.speed,function(){c(this).trigger("closed").remove(),e.callback()})})},reflow:function(){}}}(jQuery,this,this.document),function(a,b,c,d){"use strict";Foundation.libs.tab={name:"tab",version:"5.1.1",settings:{active_class:"active",callback:function(){}},init:function(a,b,c){this.bindings(b,c)},events:function(){var a=this,b=this.S;b(this.scope).off(".tab").on("click.fndtn.tab","["+this.attr_name()+"] > dd > a",function(c){c.preventDefault(),c.stopPropagation();var d=b(this).parent(),e=d.closest("["+a.attr_name()+"]"),f=b("#"+this.href.split("#")[1]),g=d.siblings(),h=e.data(a.attr_name(!0)+"-init");
b(this).data(a.data_attr("tab-content"))&&(f=b("#"+b(this).data(a.data_attr("tab-content")).split("#")[1])),d.addClass(h.active_class).triggerHandler("opened"),g.removeClass(h.active_class),f.siblings().removeClass(h.active_class).end().addClass(h.active_class),h.callback(d),e.triggerHandler("toggled",[d])})},data_attr:function(a){return this.namespace.length>0?this.namespace+"-"+a:a},off:function(){},reflow:function(){}}}(jQuery,this,this.document),function(a,b,c,d){"use strict";Foundation.libs.joyride={name:"joyride",version:"{{VERSION}}",defaults:{expose:!1,modal:!0,keyboard:!0,tip_location:"bottom",nub_position:"auto",scroll_speed:1500,scroll_animation:"linear",timer:0,start_timer_on_click:!0,start_offset:0,next_button:!0,prev_button:!0,tip_animation:"fade",pause_after:[],exposed:[],tip_animation_fade_speed:300,cookie_monster:!1,cookie_name:"joyride",cookie_domain:!1,cookie_expires:365,tip_container:"body",abort_on_close:!0,tip_location_patterns:{top:["bottom"],bottom:[],left:["right","top","bottom"],right:["left","top","bottom"]},post_ride_callback:function(){},post_step_callback:function(){},pre_step_callback:function(){},pre_ride_callback:function(){},post_expose_callback:function(){},template:{link:'<a href="#close" class="joyride-close-tip">&times;</a>',timer:'<div class="joyride-timer-indicator-wrap"><span class="joyride-timer-indicator"></span></div>',tip:'<div class="joyride-tip-guide"><span class="joyride-nub"></span></div>',wrapper:'<div class="joyride-content-wrapper"></div>',button:'<a href="#" class="small button joyride-next-tip"></a>',prev_button:'<a href="#" class="small button joyride-prev-tip"></a>',modal:'<div class="joyride-modal-bg"></div>',expose:'<div class="joyride-expose-wrapper"></div>',expose_cover:'<div class="joyride-expose-cover"></div>'},expose_add_class:""},init:function(b,c,d){Foundation.inherit(this,"throttle random_str"),this.settings=this.settings||a.extend({},this.defaults,d||c),this.bindings(c,d)},go_next:function(){this.settings.$li.next().length<1?this.end():this.settings.timer>0?(clearTimeout(this.settings.automate),this.hide(),this.show(),this.startTimer()):(this.hide(),this.show())},go_prev:function(){this.settings.$li.prev().length<1||(this.settings.timer>0?(clearTimeout(this.settings.automate),this.hide(),this.show(null,!0),this.startTimer()):(this.hide(),this.show(null,!0)))},events:function(){var c=this;a(this.scope).off(".joyride").on("click.fndtn.joyride",".joyride-next-tip, .joyride-modal-bg",function(a){a.preventDefault(),this.go_next()}.bind(this)).on("click.fndtn.joyride",".joyride-prev-tip",function(a){a.preventDefault(),this.go_prev()}.bind(this)).on("click.fndtn.joyride",".joyride-close-tip",function(a){a.preventDefault(),this.end(this.settings.abort_on_close)}.bind(this)).on("keyup.fndtn.joyride",function(a){if(this.settings.keyboard&&this.settings.riding)switch(a.which){case 39:a.preventDefault(),this.go_next();break;case 37:a.preventDefault(),this.go_prev();break;case 27:a.preventDefault(),this.end(this.settings.abort_on_close)}}.bind(this)),a(b).off(".joyride").on("resize.fndtn.joyride",c.throttle(function(){if(a("["+c.attr_name()+"]").length>0&&c.settings.$next_tip&&c.settings.riding){if(c.settings.exposed.length>0){var b=a(c.settings.exposed);b.each(function(){var b=a(this);c.un_expose(b),c.expose(b)})}c.is_phone()?c.pos_phone():c.pos_default(!1)}},100))},start:function(){var b=this,c=a("["+this.attr_name()+"]",this.scope),d=["timer","scrollSpeed","startOffset","tipAnimationFadeSpeed","cookieExpires"],e=d.length;!c.length>0||(this.settings.init||this.events(),this.settings=c.data(this.attr_name(!0)+"-init"),this.settings.$content_el=c,this.settings.$body=a(this.settings.tip_container),this.settings.body_offset=a(this.settings.tip_container).position(),this.settings.$tip_content=this.settings.$content_el.find("> li"),this.settings.paused=!1,this.settings.attempts=0,this.settings.riding=!0,"function"!=typeof a.cookie&&(this.settings.cookie_monster=!1),(!this.settings.cookie_monster||this.settings.cookie_monster&&!a.cookie(this.settings.cookie_name))&&(this.settings.$tip_content.each(function(c){var f=a(this);this.settings=a.extend({},b.defaults,b.data_options(f));for(var g=e;g--;)b.settings[d[g]]=parseInt(b.settings[d[g]],10);b.create({$li:f,index:c})}),!this.settings.start_timer_on_click&&this.settings.timer>0?(this.show("init"),this.startTimer()):this.show("init")))},resume:function(){this.set_li(),this.show()},tip_template:function(b){var c,d;return b.tip_class=b.tip_class||"",c=a(this.settings.template.tip).addClass(b.tip_class),d=a.trim(a(b.li).html())+this.prev_button_text(b.prev_button_text,b.index)+this.button_text(b.button_text)+this.settings.template.link+this.timer_instance(b.index),c.append(a(this.settings.template.wrapper)),c.first().attr(this.add_namespace("data-index"),b.index),a(".joyride-content-wrapper",c).append(d),c[0]},timer_instance:function(b){var c;return c=0===b&&this.settings.start_timer_on_click&&this.settings.timer>0||0===this.settings.timer?"":a(this.settings.template.timer)[0].outerHTML},button_text:function(b){return this.settings.tip_settings.next_button?(b=a.trim(b)||"Next",b=a(this.settings.template.button).append(b)[0].outerHTML):b="",b},prev_button_text:function(b,c){return this.settings.tip_settings.prev_button?(b=a.trim(b)||"Previous",b=0==c?a(this.settings.template.prev_button).append(b).addClass("disabled")[0].outerHTML:a(this.settings.template.prev_button).append(b)[0].outerHTML):b="",b},create:function(b){this.settings.tip_settings=a.extend({},this.settings,this.data_options(b.$li));var c=b.$li.attr(this.add_namespace("data-button"))||b.$li.attr(this.add_namespace("data-text")),d=b.$li.attr(this.add_namespace("data-button-prev"))||b.$li.attr(this.add_namespace("data-prev-text")),e=b.$li.attr("class"),f=a(this.tip_template({tip_class:e,index:b.index,button_text:c,prev_button_text:d,li:b.$li}));a(this.settings.tip_container).append(f)},show:function(b,c){var e=null;if(this.settings.$li===d||-1===a.inArray(this.settings.$li.index(),this.settings.pause_after))if(this.settings.paused?this.settings.paused=!1:this.set_li(b,c),this.settings.attempts=0,this.settings.$li.length&&this.settings.$target.length>0){if(b&&(this.settings.pre_ride_callback(this.settings.$li.index(),this.settings.$next_tip),this.settings.modal&&this.show_modal()),this.settings.pre_step_callback(this.settings.$li.index(),this.settings.$next_tip),this.settings.modal&&this.settings.expose&&this.expose(),this.settings.tip_settings=a.extend({},this.settings,this.data_options(this.settings.$li)),this.settings.timer=parseInt(this.settings.timer,10),this.settings.tip_settings.tip_location_pattern=this.settings.tip_location_patterns[this.settings.tip_settings.tip_location],!/body/i.test(this.settings.$target.selector)){var f=a(".joyride-modal-bg");/pop/i.test(this.settings.tipAnimation)?f.hide():f.fadeOut(this.settings.tipAnimationFadeSpeed),this.scroll_to()}this.is_phone()?this.pos_phone(!0):this.pos_default(!0),e=this.settings.$next_tip.find(".joyride-timer-indicator"),/pop/i.test(this.settings.tip_animation)?(e.width(0),this.settings.timer>0?(this.settings.$next_tip.show(),setTimeout(function(){e.animate({width:e.parent().width()},this.settings.timer,"linear")}.bind(this),this.settings.tip_animation_fade_speed)):this.settings.$next_tip.show()):/fade/i.test(this.settings.tip_animation)&&(e.width(0),this.settings.timer>0?(this.settings.$next_tip.fadeIn(this.settings.tip_animation_fade_speed).show(),setTimeout(function(){e.animate({width:e.parent().width()},this.settings.timer,"linear")}.bind(this),this.settings.tip_animation_fade_speed)):this.settings.$next_tip.fadeIn(this.settings.tip_animation_fade_speed)),this.settings.$current_tip=this.settings.$next_tip}else this.settings.$li&&this.settings.$target.length<1?this.show(b,c):this.end();else this.settings.paused=!0},is_phone:function(){return matchMedia(Foundation.media_queries.small).matches&&!matchMedia(Foundation.media_queries.medium).matches},hide:function(){this.settings.modal&&this.settings.expose&&this.un_expose(),this.settings.modal||a(".joyride-modal-bg").hide(),this.settings.$current_tip.css("visibility","hidden"),setTimeout(a.proxy(function(){this.hide(),this.css("visibility","visible")},this.settings.$current_tip),0),this.settings.post_step_callback(this.settings.$li.index(),this.settings.$current_tip)},set_li:function(a,b){a?(this.settings.$li=this.settings.$tip_content.eq(this.settings.start_offset),this.set_next_tip(),this.settings.$current_tip=this.settings.$next_tip):(b?this.settings.$li=this.settings.$li.prev():this.settings.$li=this.settings.$li.next(),this.set_next_tip()),this.set_target()},set_next_tip:function(){this.settings.$next_tip=a(".joyride-tip-guide").eq(this.settings.$li.index()),this.settings.$next_tip.data("closed","")},set_target:function(){var b=this.settings.$li.attr(this.add_namespace("data-class")),d=this.settings.$li.attr(this.add_namespace("data-id")),e=function(){return d?a(c.getElementById(d)):b?a("."+b).first():a("body")};this.settings.$target=e()},scroll_to:function(){var c,d;c=a(b).height()/2,d=Math.ceil(this.settings.$target.offset().top-c+this.settings.$next_tip.outerHeight()),0!=d&&a("html, body").stop().animate({scrollTop:d},this.settings.scroll_speed,"swing")},paused:function(){return-1===a.inArray(this.settings.$li.index()+1,this.settings.pause_after)},restart:function(){this.hide(),this.settings.$li=d,this.show("init")},pos_default:function(a){var b=this.settings.$next_tip.find(".joyride-nub"),c=Math.ceil(b.outerWidth()/2),d=Math.ceil(b.outerHeight()/2),e=a||!1;if(e&&(this.settings.$next_tip.css("visibility","hidden"),this.settings.$next_tip.show()),/body/i.test(this.settings.$target.selector))this.settings.$li.length&&this.pos_modal(b);else{var f=this.settings.tip_settings.tipAdjustmentY?parseInt(this.settings.tip_settings.tipAdjustmentY):0,g=this.settings.tip_settings.tipAdjustmentX?parseInt(this.settings.tip_settings.tipAdjustmentX):0;this.bottom()?(this.rtl?this.settings.$next_tip.css({top:this.settings.$target.offset().top+d+this.settings.$target.outerHeight()+f,left:this.settings.$target.offset().left+this.settings.$target.outerWidth()-this.settings.$next_tip.outerWidth()+g}):this.settings.$next_tip.css({top:this.settings.$target.offset().top+d+this.settings.$target.outerHeight()+f,left:this.settings.$target.offset().left+g}),this.nub_position(b,this.settings.tip_settings.nub_position,"top")):this.top()?(this.rtl?this.settings.$next_tip.css({top:this.settings.$target.offset().top-this.settings.$next_tip.outerHeight()-d+f,left:this.settings.$target.offset().left+this.settings.$target.outerWidth()-this.settings.$next_tip.outerWidth()}):this.settings.$next_tip.css({top:this.settings.$target.offset().top-this.settings.$next_tip.outerHeight()-d+f,left:this.settings.$target.offset().left+g}),this.nub_position(b,this.settings.tip_settings.nub_position,"bottom")):this.right()?(this.settings.$next_tip.css({top:this.settings.$target.offset().top+f,left:this.settings.$target.outerWidth()+this.settings.$target.offset().left+c+g}),this.nub_position(b,this.settings.tip_settings.nub_position,"left")):this.left()&&(this.settings.$next_tip.css({top:this.settings.$target.offset().top+f,left:this.settings.$target.offset().left-this.settings.$next_tip.outerWidth()-c+g}),this.nub_position(b,this.settings.tip_settings.nub_position,"right")),!this.visible(this.corners(this.settings.$next_tip))&&this.settings.attempts<this.settings.tip_settings.tip_location_pattern.length&&(b.removeClass("bottom").removeClass("top").removeClass("right").removeClass("left"),this.settings.tip_settings.tip_location=this.settings.tip_settings.tip_location_pattern[this.settings.attempts],this.settings.attempts++,this.pos_default())}e&&(this.settings.$next_tip.hide(),this.settings.$next_tip.css("visibility","visible"))},pos_phone:function(b){var c=this.settings.$next_tip.outerHeight(),d=(this.settings.$next_tip.offset(),this.settings.$target.outerHeight()),e=a(".joyride-nub",this.settings.$next_tip),f=Math.ceil(e.outerHeight()/2),g=b||!1;e.removeClass("bottom").removeClass("top").removeClass("right").removeClass("left"),g&&(this.settings.$next_tip.css("visibility","hidden"),this.settings.$next_tip.show()),/body/i.test(this.settings.$target.selector)?this.settings.$li.length&&this.pos_modal(e):this.top()?(this.settings.$next_tip.offset({top:this.settings.$target.offset().top-c-f}),e.addClass("bottom")):(this.settings.$next_tip.offset({top:this.settings.$target.offset().top+d+f}),e.addClass("top")),g&&(this.settings.$next_tip.hide(),this.settings.$next_tip.css("visibility","visible"))},pos_modal:function(a){this.center(),a.hide(),this.show_modal()},show_modal:function(){if(!this.settings.$next_tip.data("closed")){var b=a(".joyride-modal-bg");if(b.length<1){var b=a(this.settings.template.modal);b.appendTo("body")}/pop/i.test(this.settings.tip_animation)?b.show():b.fadeIn(this.settings.tip_animation_fade_speed)}},expose:function(){var c,d,e,f,g,h="expose-"+this.random_str(6);if(arguments.length>0&&arguments[0]instanceof a)e=arguments[0];else{if(!this.settings.$target||/body/i.test(this.settings.$target.selector))return!1;e=this.settings.$target}return e.length<1?(b.console&&console.error("element not valid",e),!1):(c=a(this.settings.template.expose),this.settings.$body.append(c),c.css({top:e.offset().top,left:e.offset().left,width:e.outerWidth(!0),height:e.outerHeight(!0)}),d=a(this.settings.template.expose_cover),f={zIndex:e.css("z-index"),position:e.css("position")},g=null==e.attr("class")?"":e.attr("class"),e.css("z-index",parseInt(c.css("z-index"))+1),"static"==f.position&&e.css("position","relative"),e.data("expose-css",f),e.data("orig-class",g),e.attr("class",g+" "+this.settings.expose_add_class),d.css({top:e.offset().top,left:e.offset().left,width:e.outerWidth(!0),height:e.outerHeight(!0)}),this.settings.modal&&this.show_modal(),this.settings.$body.append(d),c.addClass(h),d.addClass(h),e.data("expose",h),this.settings.post_expose_callback(this.settings.$li.index(),this.settings.$next_tip,e),void this.add_exposed(e))},un_expose:function(){var c,d,e,f,g,h=!1;if(arguments.length>0&&arguments[0]instanceof a)d=arguments[0];else{if(!this.settings.$target||/body/i.test(this.settings.$target.selector))return!1;d=this.settings.$target}return d.length<1?(b.console&&console.error("element not valid",d),!1):(c=d.data("expose"),e=a("."+c),arguments.length>1&&(h=arguments[1]),h===!0?a(".joyride-expose-wrapper,.joyride-expose-cover").remove():e.remove(),f=d.data("expose-css"),"auto"==f.zIndex?d.css("z-index",""):d.css("z-index",f.zIndex),f.position!=d.css("position")&&("static"==f.position?d.css("position",""):d.css("position",f.position)),g=d.data("orig-class"),d.attr("class",g),d.removeData("orig-classes"),d.removeData("expose"),d.removeData("expose-z-index"),void this.remove_exposed(d))},add_exposed:function(b){this.settings.exposed=this.settings.exposed||[],b instanceof a||"object"==typeof b?this.settings.exposed.push(b[0]):"string"==typeof b&&this.settings.exposed.push(b)},remove_exposed:function(b){var c,d;for(b instanceof a?c=b[0]:"string"==typeof b&&(c=b),this.settings.exposed=this.settings.exposed||[],d=this.settings.exposed.length;d--;)if(this.settings.exposed[d]==c)return void this.settings.exposed.splice(d,1)},center:function(){var c=a(b);return this.settings.$next_tip.css({top:(c.height()-this.settings.$next_tip.outerHeight())/2+c.scrollTop(),left:(c.width()-this.settings.$next_tip.outerWidth())/2+c.scrollLeft()}),!0},bottom:function(){return/bottom/i.test(this.settings.tip_settings.tip_location)},top:function(){return/top/i.test(this.settings.tip_settings.tip_location)},right:function(){return/right/i.test(this.settings.tip_settings.tip_location)},left:function(){return/left/i.test(this.settings.tip_settings.tip_location)},corners:function(c){var d=a(b),e=d.height()/2,f=Math.ceil(this.settings.$target.offset().top-e+this.settings.$next_tip.outerHeight()),g=d.width()+d.scrollLeft(),h=d.height()+f,i=d.height()+d.scrollTop(),j=d.scrollTop();return j>f&&(j=0>f?0:f),h>i&&(i=h),[c.offset().top<j,g<c.offset().left+c.outerWidth(),i<c.offset().top+c.outerHeight(),d.scrollLeft()>c.offset().left]},visible:function(a){for(var b=a.length;b--;)if(a[b])return!1;return!0},nub_position:function(a,b,c){"auto"===b?a.addClass(c):a.addClass(b)},startTimer:function(){this.settings.$li.length?this.settings.automate=setTimeout(function(){this.hide(),this.show(),this.startTimer()}.bind(this),this.settings.timer):clearTimeout(this.settings.automate)},end:function(b){this.settings.cookie_monster&&a.cookie(this.settings.cookie_name,"ridden",{expires:this.settings.cookie_expires,domain:this.settings.cookie_domain}),this.settings.timer>0&&clearTimeout(this.settings.automate),this.settings.modal&&this.settings.expose&&this.un_expose(),a(this.scope).off("keyup.joyride"),this.settings.$next_tip.data("closed",!0),this.settings.riding=!1,a(".joyride-modal-bg").hide(),this.settings.$current_tip.hide(),("undefined"==typeof b||b===!1)&&(this.settings.post_step_callback(this.settings.$li.index(),this.settings.$current_tip),this.settings.post_ride_callback(this.settings.$li.index(),this.settings.$current_tip)),a(".joyride-tip-guide").remove()},off:function(){a(this.scope).off(".joyride"),a(b).off(".joyride"),a(".joyride-close-tip, .joyride-next-tip, .joyride-modal-bg").off(".joyride"),a(".joyride-tip-guide, .joyride-modal-bg").remove(),clearTimeout(this.settings.automate),this.settings={}},reflow:function(){}}}(jQuery,window,window.document),function(a,b,c,d){"use strict";Foundation.libs.tooltip={name:"tooltip",version:"{{VERSION}}",settings:{additional_inheritable_classes:[],tooltip_class:".tooltip",append_to:"body",touch_close_text:"Tap To Close",disable_for_touch:!1,hover_delay:200,show_on:"all",tip_template:function(a,b){return'<span data-selector="'+a+'" id="'+a+'" class="'+Foundation.libs.tooltip.settings.tooltip_class.substring(1)+'" role="tooltip">'+b+'<span class="nub"></span></span>'}},cache:{},init:function(a,b,c){Foundation.inherit(this,"random_str"),this.bindings(b,c)},should_show:function(b,c){var d=a.extend({},this.settings,this.data_options(b));return"all"===d.show_on?!0:this.small()&&"small"===d.show_on?!0:this.medium()&&"medium"===d.show_on?!0:this.large()&&"large"===d.show_on?!0:!1},medium:function(){return matchMedia(Foundation.media_queries.medium).matches},large:function(){return matchMedia(Foundation.media_queries.large).matches},events:function(b){var c=this,d=c.S;c.create(this.S(b)),a(this.scope).off(".tooltip").on("mouseenter.fndtn.tooltip mouseleave.fndtn.tooltip touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip","["+this.attr_name()+"]",function(b){var e=d(this),f=a.extend({},c.settings,c.data_options(e)),g=!1;if(Modernizr.touch&&/touchstart|MSPointerDown/i.test(b.type)&&d(b.target).is("a"))return!1;if(/mouse/i.test(b.type)&&c.ie_touch(b))return!1;if(e.hasClass("open"))Modernizr.touch&&/touchstart|MSPointerDown/i.test(b.type)&&b.preventDefault(),c.hide(e);else{if(f.disable_for_touch&&Modernizr.touch&&/touchstart|MSPointerDown/i.test(b.type))return;!f.disable_for_touch&&Modernizr.touch&&/touchstart|MSPointerDown/i.test(b.type)&&(b.preventDefault(),d(f.tooltip_class+".open").hide(),g=!0),/enter|over/i.test(b.type)?this.timer=setTimeout(function(){c.showTip(e)}.bind(this),c.settings.hover_delay):"mouseout"===b.type||"mouseleave"===b.type?(clearTimeout(this.timer),c.hide(e)):c.showTip(e)}}).on("mouseleave.fndtn.tooltip touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip","["+this.attr_name()+"].open",function(b){return/mouse/i.test(b.type)&&c.ie_touch(b)?!1:void(("touch"!=a(this).data("tooltip-open-event-type")||"mouseleave"!=b.type)&&("mouse"==a(this).data("tooltip-open-event-type")&&/MSPointerDown|touchstart/i.test(b.type)?c.convert_to_touch(a(this)):c.hide(a(this))))}).on("DOMNodeRemoved DOMAttrModified","["+this.attr_name()+"]:not(a)",function(a){c.hide(d(this))})},ie_touch:function(a){return!1},showTip:function(a){var b=this.getTip(a);return this.should_show(a,b)?this.show(a):void 0},getTip:function(b){var c=this.selector(b),d=a.extend({},this.settings,this.data_options(b)),e=null;return c&&(e=this.S('span[data-selector="'+c+'"]'+d.tooltip_class)),"object"==typeof e?e:!1},selector:function(a){var b=a.attr("id"),c=a.attr(this.attr_name())||a.attr("data-selector");return(b&&b.length<1||!b)&&"string"!=typeof c&&(c=this.random_str(6),a.attr("data-selector",c).attr("aria-describedby",c)),b&&b.length>0?b:c},create:function(c){var d=this,e=a.extend({},this.settings,this.data_options(c)),f=this.settings.tip_template;"string"==typeof e.tip_template&&b.hasOwnProperty(e.tip_template)&&(f=b[e.tip_template]);var g=a(f(this.selector(c),a("<div></div>").html(c.attr("title")).html())),h=this.inheritable_classes(c);g.addClass(h).appendTo(e.append_to),Modernizr.touch&&(g.append('<span class="tap-to-close">'+e.touch_close_text+"</span>"),g.on("touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip",function(a){d.hide(c)})),c.removeAttr("title").attr("title","")},reposition:function(b,c,d){var e,f,g,h,i;if(c.css("visibility","hidden").show(),e=b.data("width"),f=c.children(".nub"),g=f.outerHeight(),h=f.outerHeight(),this.small()?c.css({width:"100%"}):c.css({width:e?e:"auto"}),i=function(a,b,c,d,e,f){return a.css({top:b?b:"auto",bottom:d?d:"auto",left:e?e:"auto",right:c?c:"auto"}).end()},i(c,b.offset().top+b.outerHeight()+10,"auto","auto",b.offset().left),this.small())i(c,b.offset().top+b.outerHeight()+10,"auto","auto",12.5,a(this.scope).width()),c.addClass("tip-override"),i(f,-g,"auto","auto",b.offset().left);else{var j=b.offset().left;Foundation.rtl&&(f.addClass("rtl"),j=b.offset().left+b.outerWidth()-c.outerWidth()),i(c,b.offset().top+b.outerHeight()+10,"auto","auto",j),c.removeClass("tip-override"),d&&d.indexOf("tip-top")>-1?(Foundation.rtl&&f.addClass("rtl"),i(c,b.offset().top-c.outerHeight(),"auto","auto",j).removeClass("tip-override")):d&&d.indexOf("tip-left")>-1?(i(c,b.offset().top+b.outerHeight()/2-c.outerHeight()/2,"auto","auto",b.offset().left-c.outerWidth()-g).removeClass("tip-override"),f.removeClass("rtl")):d&&d.indexOf("tip-right")>-1&&(i(c,b.offset().top+b.outerHeight()/2-c.outerHeight()/2,"auto","auto",b.offset().left+b.outerWidth()+g).removeClass("tip-override"),f.removeClass("rtl"))}c.css("visibility","visible").hide()},small:function(){return matchMedia(Foundation.media_queries.small).matches&&!matchMedia(Foundation.media_queries.medium).matches},inheritable_classes:function(b){var c=a.extend({},this.settings,this.data_options(b)),d=["tip-top","tip-left","tip-bottom","tip-right","radius","round"].concat(c.additional_inheritable_classes),e=b.attr("class"),f=e?a.map(e.split(" "),function(b,c){return-1!==a.inArray(b,d)?b:void 0}).join(" "):"";return a.trim(f)},convert_to_touch:function(b){var c=this,d=c.getTip(b),e=a.extend({},c.settings,c.data_options(b));0===d.find(".tap-to-close").length&&(d.append('<span class="tap-to-close">'+e.touch_close_text+"</span>"),d.on("click.fndtn.tooltip.tapclose touchstart.fndtn.tooltip.tapclose MSPointerDown.fndtn.tooltip.tapclose",function(a){c.hide(b)})),b.data("tooltip-open-event-type","touch")},show:function(a){var b=this.getTip(a);"touch"==a.data("tooltip-open-event-type")&&this.convert_to_touch(a),this.reposition(a,b,a.attr("class")),a.addClass("open"),b.fadeIn(150)},hide:function(a){var b=this.getTip(a);b.fadeOut(150,function(){b.find(".tap-to-close").remove(),b.off("click.fndtn.tooltip.tapclose MSPointerDown.fndtn.tapclose"),a.removeClass("open")})},off:function(){var b=this;this.S(this.scope).off(".fndtn.tooltip"),this.S(this.settings.tooltip_class).each(function(c){a("["+b.attr_name()+"]").eq(c).attr("title",a(this).text())}).remove()},reflow:function(){}}}(jQuery,window,window.document),function(a,b,c,d){"use strict";Foundation.libs.accordion={name:"accordion",version:"{{VERSION}}",settings:{content_class:"content",active_class:"active",multi_expand:!1,toggleable:!0,callback:function(){}},init:function(a,b,c){this.bindings(b,c)},events:function(){var b=this,c=this.S;c(this.scope).off(".fndtn.accordion").on("click.fndtn.accordion","["+this.attr_name()+"] > .accordion-navigation > a",function(d){var e=c(this).closest("["+b.attr_name()+"]"),f=b.attr_name()+"="+e.attr(b.attr_name()),g=e.data(b.attr_name(!0)+"-init")||b.settings,h=c("#"+this.href.split("#")[1]),i=a("> .accordion-navigation",e),j=i.children("."+g.content_class),k=j.filter("."+g.active_class);return d.preventDefault(),e.attr(b.attr_name())&&(j=j.add("["+f+"] dd > ."+g.content_class),i=i.add("["+f+"] .accordion-navigation")),g.toggleable&&h.is(k)?(h.parent(".accordion-navigation").toggleClass(g.active_class,!1),h.toggleClass(g.active_class,!1),g.callback(h),h.triggerHandler("toggled",[e]),void e.triggerHandler("toggled",[h])):(g.multi_expand||(j.removeClass(g.active_class),i.removeClass(g.active_class)),h.addClass(g.active_class).parent().addClass(g.active_class),g.callback(h),h.triggerHandler("toggled",[e]),void e.triggerHandler("toggled",[h]))})},off:function(){},reflow:function(){}}}(jQuery,window,window.document),function(a){var b=function(a){this.name="WafException",this.message=a||"An error has occurred."};b.prototype=Object.create(Error.prototype),b.prototype.constructor=b,window.app={config:{tabletViewportSize:1024,$singleMenu:a(".single-menu > a"),$loggedInMenu:a(".loggedin-menu"),$tabSearch:a(".tab-search > a"),$searchForm:a("li.search-form"),$disableMenuSet:a(".single-menu > a, .loggedin-menu, .tab-search > a"),$jumbotronContainer:a(".jumbotron-container"),$introMessage:a(".intro-message"),$searchBox:a(".search-box"),$menuExpanded:a(".menu-expanded"),$menuCollapsed:a(".menu-collapsed"),typeCursorOrientation:"vertical",$bannerOverlay:a(".banner-overlay"),$allSearch:a(".jsearchterm, .searchterm, .jsearchlocation, .searchlocation"),$jSearchTerm:a(".jsearchterm"),$searchTerm:a(".searchterm"),$jSearchLocation:a(".jsearchlocation"),$searchLocation:a(".searchlocation"),$jSearchTermInput:a(".jsearchterm.tt-input"),$searchTermInput:a(".searchterm.tt-input"),$jSearchLocationInput:a(".jsearchlocation.tt-input"),$searchLocationInput:a(".searchlocation.tt-input"),$copyTextButton:a(".copybutton"),$copyText:a(".copytext"),zClipSwfPath:"/js/vendor/ZeroClipboard.swf",$imageThumbnail:a(".th"),termsURL:"../HomeWEB/KeywordAutoComplete?term=%QUERY",locationsURL:"../HomeWEB/LocationAutoComplete?term=%QUERY",$addPhotoModal:a("#addPhotoModal"),isJoyrideCookie:!0,cookieName:"newDealsQSearch",cookieDomain:!1,picker:a.noop(),$locationBox:a(".location-box"),$uploadAvatar:a("#upload-avatar"),$leadFormsContainer:a(".lead-form-content .forms-container"),$leadFormSections:a(".lead-form-content .form-section"),$leadFormNavigationList:a(".lead-form-content .navigation-list"),$userProfileContainer:a(".userprofile-content"),dataNamespace:"data-vc",alertContainerClass:"alerts",alertTimeOut:7e3,roleEl:{},arrRoles:["show","next","prev","skip","loading","review","follow","like","save"],scriptURLs:{cookie:"/js/vendor/jquery.cookie.js",textchanger:"/js/desktop/components/textchanger.js",pikaday:"/js/vendor/min/pikaday.min.js",skrollr:"/js/vendor/skrollr.min.js",dropzone:"/js/vendor/dropzone.min.js",swipebox:"/js/vendor/jquery.swipebox.min.js",unveil:"/js/vendor/jquery.unveil.min.js",selectize:"/js/vendor/selectize.min.js",owlcarousel:"/js/vendor/owl.carousel.min.js",test:"/js/test.js",zclip:"/js/vendor/jquery.zclip.js",gmap:"https://maps.googleapis.com/maps/api/js?v=3&sensor=false",doT:"/js/vendor/doT.js",typeahead:"/js/vendor/new/typeahead.bundle.min.js",ntypeahead:"/js/vendor/typeahead/typeahead.bundle.min.js"}},channels:{},scope:this,comps:{},utils:{notifyMe:function(b){var c,d=this.config,e=this,f='<div data-vc-role="alert" class="vc-alert alert-box"><p class="alert-content"></p><a href="#" class="close">&times;</a></div>',g=b.message||b,h=b.type||"success";a("body").find("."+d.alertContainerClass).length>0?c=a("."+d.alertContainerClass):(a("body").append(a("<div>").addClass(d.alertContainerClass)),c=a("."+d.alertContainerClass));var i={alertBox:{},alertTimer:{}};return i.alertBox=a(f).hide().addClass(h),c.append(i.alertBox),i.alertBox.find(".alert-content").html(g),i.alertBox.fadeIn(),i.alertTimer=setTimeout(function(){i.alertBox.fadeOut(function(){a(this).remove()})},d.alertTimeOut),c.off(".alert").on("click.vc.alert","["+e.attr_name("role")+'="alert"] a.close',function(b){b.preventDefault(),a(this).closest("["+e.attr_name("role")+'="alert"]').fadeOut(function(){a(this).remove()})}),this},attr_name:function(a){var b=this.config;return b.dataNamespace+"-"+a},require:function(a,b,c){var d=this.config,e=d.scriptURLs,f=!0,g=function(a,b,c){return jQuery.ajax({url:a,type:"GET",dataType:"script",success:b,cache:c||!0})};return"undefined"==typeof c&&("undefined"==typeof b?(c=function(){},b=!0):(c=b,b=!0),f=!1),b()&&f?(c(),!0):(g(e[a],function(){return b()?(c(),!0):void 0}),this)},render:function(a,b){return a.replace(/\{([\w\.]*)\}/g,function(a,c){for(var d=c.split("."),e=b[d.shift()],f=0,g=d.length;g>f;f++)e=e[d[f]];return"undefined"!=typeof e&&null!==e?e:""})},throttle:function(a,b){var c=null;return function(){var d=this,e=arguments;clearTimeout(c),c=setTimeout(function(){a.apply(d,e)},b)}},debounce:function(a,b,c){var d,e;return function(){var f=this,g=arguments,h=function(){d=null,c||(e=a.apply(f,g))},i=c&&!d;return clearTimeout(d),d=setTimeout(h,b),i&&(e=a.apply(f,g)),e}},publish:function(b,c){if(this.channels.hasOwnProperty(b)){c=c||{};var d={_channel:b};d=a.extend({},d,c);for(var e=this.channels[b].length,f=0;e>f;f++)this.channels[b][f]&&this.channels[b][f](d,c);return this}},subscribe:function(a,b){var c=this;this.channels.hasOwnProperty(a)||(this.channels[a]=[]);var d=this.channels[a].push(b)-1;return{remove:function(){c.channels[a].splice(d,1)}}},unsubscribe:function(a){delete this.channels[a]},request:function(a,b,c){c||(c=b,b={}),this.subscribe("reply:"+a,c),this.publish("request:"+a,b)},reply:function(a,b){var c=this;return this.subscribe("request:"+a,function(d,e){"function"==typeof b&&(b=b(e)),c.publish("reply:"+a,b)}),this},log:function(){if("development"==this.config.env){var a=[].slice.call(arguments,0),b=Error().lineNumber?"line: "+Error().lineNumber:"::stack: ";console.log.apply(console,a.concat([b]))}}},debug:{noOfComps:0,noOfCompErrors:0},init:function(b,c){var d=this,e=this.config;if("object"==typeof b&&(c=b,b=void 0),a.extend(!0,this.config,c||{}),!this.initialized){a.extend(this,this.utils),app.initRoles(),this.subscribe("vc:notify",function(a,b){d.notifyMe(b)}),jQuery().foundation&&(Foundation.libs.abide&&(Foundation.libs.abide.settings.patterns.password=/(?=^.{0,}$)[a-zA-Z0-9-\W+]+$/,Foundation.libs.abide.settings.patterns.oldpassword=/(?=^.{0,}$)[a-zA-Z0-9-\W+]+$/,Foundation.libs.abide.settings.patterns.email=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Foundation.libs.abide.settings.patterns.nigerianphone=/^0?(([1-6]\d{6,7})|([7-9]([0-1]\d{8}|[2-9]\d{6,7})))$/),Foundation.libs.reveal&&(Foundation.libs.reveal.settings.animation="fade"),a(document).foundation({joyride:{modal:!0,prevButton:!0,cookie_monster:e.isJoyrideCookie,cookie_name:e.cookieName,cookie_domain:e.cookieDomain,template:{link:'<a href="#close" class="joyride-close-tip">&times;</a>',timer:'<div class="joyride-timer-indicator-wrap"><span class="joyride-timer-indicator"></span></div>',tip:'<div class="joyride-tip-guide"><span class="joyride-nub"></span></div>',wrapper:'<div class="joyride-content-wrapper"></div>',button:'<a href="#" class="tiny btn invert joyride-next-tip"></a>',prev_button:'<a href="#" class="tiny btn invert joyride-prev-tip"></a>',modal:'<div class="joyride-modal-bg"></div>',expose:'<div class="joyride-expose-wrapper"></div>',expose_cover:'<div class="joyride-expose-cover"></div>'}}}),a(document).foundation("joyride","start"));for(b in this.comps)this.comps.hasOwnProperty(b)&&(this.debug.noOfComps++,
this.init_comp(b),this.log("waf: "+b+" initialized."));if("development"==this.config.env){var f="Total number of components: "+this.debug.noOfComps+", Number of Errors: "+this.debug.noOfCompErrors+", Number of initialized components: "+(this.debug.noOfComps-this.debug.noOfCompErrors),g=this.debug.noOfCompErrors?"error":"info";this.notifyMe({message:f,type:g})}}return b&&this.init_comp(b),this.initialized=!0,this},init_comp:function(a){this.patch(this.comps[a],a);try{return this.comps[a].init.apply(this.comps[a],[])}catch(b){var c='"'+a+'" component has a bug. Error: '+b.message;console.error(c),this.debug.noOfCompErrors++,"development"==this.config.env&&this.notifyMe({message:c,type:"error"})}},patch:function(b,c){var d={};d[c]={},b.config=a.extend(!0,d,b.config,this.config),a.extend(this.utils,b.utils),a.extend(this,b.utils),a.extend(b,this.utils),b.channels=this.channels},initRoles:function(){var b=this.config,c=this;b.roleEl=a.extend({},b.roleEl);var d=function(b){return a("["+c.attr_name("role")+'="'+b+'"]')};a.each(b.arrRoles,function(a,c){b.roleEl[c]=d(c)});var e=b.roleEl.show,f=e.filter('input[type="checkbox"],input[type="radio"]');f.on("change",function(){a(this).is(":checked")?a(this).next("input").fadeIn():a(this).next("input").fadeOut()}).next("input").hide(),b.roleEl.next.on("click",function(a){a.preventDefault()}),b.roleEl.prev.on("click",function(a){a.preventDefault()})},addUtility:function(a,c){if(this.utils.hasOwnProperty(a))throw new b("utility name:"+a+" is already is use.");this.utils[a]=c,this[a]=c}}}(jQuery),function(a){window.app.comps.font={init:function(){window.WebFontConfig={google:{families:["Open+Sans:300italic,400italic,600italic,400,300,600:latin"]}},function(){var a=document.createElement("script");a.src=("https:"==document.location.protocol?"https":"http")+"://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js",a.type="text/javascript",a.async="true";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)}()}}}(jQuery),function(a){window.app.comps.loader={config:{$loader:a(".loading"),loaderClass:"loading",$loaderParent:a(".loading-container")},utils:{loading:function(a,b,c){var d=this.config;this.log(d.loaderClass),"start"==b?a.children(".loading").fadeIn():a.children(".loading").hide()}},init:function(){a.fn.vcLoader=function(a,b){return this.initLoader(this,a,b)}},initLoader:function(b,c,d){var e=this.config;"undefined"!=typeof b&&(e.$loaderParent=a(b),e.$loaderParent.append('<div class="loading"></div>'),"undefined"!=typeof d&&d&&e.$loaderParent.addClass("loading-container"),e.$loader=a(b).find("div.loading"),"string"==typeof c&&this.runLoader(c))},runLoader:function(a){var b=this.config;"show"===a?b.$loader.fadeIn():"hide"===a&&b.$loader.fadeOut()}}}(jQuery),function(a,b,c,d){b.app.comps.datepicker={config:{pickers:[]},init:function(){var b=this.config,c=this;a("["+c.attr_name("datepicker")+"], .datepicker").length&&this.require("pikaday",function(){return"undefined"!=typeof Pikaday},function(){a("["+c.attr_name("datepicker")+"], .datepicker").each(function(d,e){var f=a(e).attr(c.attr_name("mindate"));f=f?"today"==f?new Date:new Date(f):new Date("1890-01-01");var g=a(e).attr(c.attr_name("maxdate"));g=g?"today"==g?new Date:new Date(g):new Date("2050-12-31");var h=a(e).attr(c.attr_name("yearrange"))?JSON.parse(a(e).attr(c.attr_name("yearrange"))):[1890,2050];b.pickers.push({element:e,picker:new Pikaday({field:a(e)[0],format:"YYYY-MM-DD",firstDay:1,minDate:f,maxDate:g,yearRange:h})})})}),this.events()},events:function(){}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.copy={name:"copy",description:"Responsible for the copy-to-clipboard logic",init:function(){var a=this.config,b=this;a.$copyTextButton.length&&this.require("zclip",function(){return jQuery().zclip},function(){a.$copyTextButton.zclip({path:a.zClipSwfPath,copy:a.$copyText.val(),afterCopy:function(){b.notifyMe("The link has been copied to your clipboard.")}})}),this.events()},events:function(){}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.lazyload={name:"lazyload",description:"",config:{lazyload:{blankURL:"/img/blank.gif",lazyClass:"lazy",threshold:100}},init:function(){var b=this,c=b.config,d=c.lazyload;d.$container=a("["+b.attr_name("lazy")+"]").attr("src",d.blankURL).addClass(d.lazyClass),d.$unloadedSet=d.$container,this.events(),this.loadVisible()},events:function(){var c=this,d=c.config;d.lazyload;a(b).off("scroll.vc.lazyload resize.vc.lazyload").on("scroll.vc.lazyload resize.vc.lazyload",c.throttle(a.proxy(c.loadVisible,c),100))},loadVisible:function(){var c=this,d=c.config,e=d.lazyload,f=(a(b),e.$unloadedSet.filter(function(){var c=a(this);if(c.is(":hidden"))return!1;var d=a(b).height(),e=a(b).width(),f=c[0].getBoundingClientRect();return f.bottom>=0&&f.top<d&&f.left<e&&f.right>=0}));c.loadImages(f)},loadImages:function(b){var c=this,d=c.config,e=d.lazyload;b.each(function(b,d){var f=a(d).attr(c.attr_name("lazy"));if(f){var g=a(new Image).attr("src",f);g.one("load",function(){a(d).hide().attr("src",f).removeClass(e.lazyClass).fadeIn(),c.log("Image lazy loaded: ",f)}),g[0].complete&&g.load(),c.log("Starting lazy loading: ",f)}}),e.$unloadedSet=e.$unloadedSet.not(b)}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.gallery={config:{galleryImgLists:{},defaultRel:"gallery",bigGalleryClass:"big-image-gallery",galleryContainerClass:"gallery-container",galleryHeaderClass:"gallery-header",galleryDescriptionHeaderClass:"gallery-description-header",galleryImageContainerClass:"gallery-image-container",galleryDescriptionContainerClass:"gallery-description-container",galleryCloseLinkClass:"gallery-close",galleryPreviousLinkClass:"gallery-previous",galleryNextLinkClass:"gallery-next",galleryDisabledLinkClass:"disabled",galleryImageCountClass:"image-count",galleryLoadingClass:"gallery-loading",galleryTitleClass:"gallery-title",galleryUploadDetailsClass:"gallery-upload-details",galleryUploadDateClass:"upload-date",galleryUploaderNameClass:"uploader-name",galleryUploaderThumbnailClass:"uploader-thumbnail",galleryBusinessNameClass:"business-name",galleryBusinessThumbnailClass:"business-thumbnail",galleryBusinessDetailsClass:"business-details",galleryDescriptionClass:"gallery-description",galleryImageClass:"gallery-image",galleryActionsContainerClass:"gallery-actions-container",showDescriptionButtonClass:"show-description",$bigGallery:{},gallerySet:{},$galleryContainer:{},$galleryHeader:{},$galleryDescriptionHeader:{},$galleryImageContainer:{},$galleryDescriptionContainer:{},$galleryCloseLink:{},$galleryPreviousLink:{},$galleryNextLink:{},$galleryImageCount:{},$galleryLoading:{},$galleryTitle:{},$galleryUploadDetails:{},$galleryUploadDate:{},$galleryUploaderName:{},$galleryUploaderThumbnail:{},$galleryBusinessName:{},$galleryBusinessThumbnail:{},$galleryBusinessDetails:{},$galleryDescription:{},$galleryActionsContainer:{},$showDescriptionButton:{},$imgSet:a(),isOpen:!1,isBuilt:!1,hasDescription:!1,container:a(".th, [data-vc-gallery-thumb]"),galleryImageArrayEls:{},imgsList:{},curIndex:0,preloadCount:2,galleryTemplate:'<div class="big-image-gallery"> <div class="gallery-container"> <div class="gallery-header"> <a href="#" class="gallery-close">&times;</a> <div class="gallery-upload-details"> <img class="uploader-thumbnail" src="img/lab-profile300.jpg" alt="uploader thumbnail"> <div class="upload-date">24 June, 2014</div> <div class="uploader-name">Jonathan Douglas</div> </div> <h4 class="gallery-title">Triple Tripulley</h4> </div> <div class="gallery-image-container"> <div class="gallery-loading"></div></div> <div class="gallery-description-container"> <div class="gallery-description-header"> <div class="business-details"> <img class="business-thumbnail" src="img/lab-logo.jpg" alt="business logo"> <div class="business-name">Eko Hotels and Suites</div> </div> <span class="image-count">2/10</span> <div class="actions-container"> <!--<a href="#" class="like">Like</a>--> <a href="#" class="show-description"><i class="icon-menu"></i></a> </div> </div> <div class="gallery-description"> Lorem ipsum dolor sit amet, consectetur adipisicing elit. Enim id consequuntur iure molestiae debitis, soluta distinctio tempore maxime rerum, in ipsa vero! Quas eos, officiis consectetur hic voluptate nulla vero! </div> </div> </div> <div class="gallery-navigation-container"> <a href="#" class="gallery-previous disabled"><i class="icon-angle-left"></i></a> <a href="#" class="gallery-next"><i class="icon-angle-right"></i></a> </div> </div>'},init:function(){var b=this,c=b.config;if(c.container=a(c.container.selector),c.galleryImageArrayEls=a("["+this.attr_name("gallery")+"]["+this.attr_name("value")+"]"),this.subscribe("vc:gallery/refresh",function(){b.init()}),c.container.length<=0&&c.galleryImageArrayEls.length<=0)return!1;c.galleryImgLists={},c.container.each(function(b){var d=a(this).attr("rel")||c.defaultRel;c.galleryImgLists[d]=c.galleryImgLists[d]||[],c.galleryImgLists[d].push({imageUrl:a(this).attr("href"),imageTitle:a(this).attr("title"),imageDescription:a(this).next(".description").html(),imageThumbUrl:a(this).find("img").attr("src"),imageUploadDate:a(this).data("upload-date"),imageUploaderName:a(this).data("uploader-name"),imageUploaderThumbnail:a(this).data("uploader-thumbnail"),imageBusinessThumbnail:a(this).data("business-thumbnail"),imageBusinessName:a(this).data("business-name")}),a(this).attr("data-index",c.galleryImgLists[d].length-1)}),b.log(c.galleryImgLists),c.galleryImageArrayEls.each(function(d){var e=JSON.parse(a(this).attr(b.attr_name("value"))),f=a(this).attr("rel")||c.defaultRel;c.galleryImgLists[f]=c.galleryImgLists[f].concat(e),b.log(c.galleryImgLists)});for(var d in c.galleryImgLists)c.galleryImgLists.hasOwnProperty(d)&&b.buildGallery(d);this.events()},events:function(){var d,e,f,g=this,h=g.config;b.navigator.msPointerEnabled?(d="MSPointerDown",e="MSPointerMove",f="MSPointerUp"):(d="touchstart",e="touchmove",f="touchend"),h.container.off("click.vc.gallery").on("click.vc.gallery",function(b){b.preventDefault();var c=a(this).attr("rel")||h.defaultRel;h.gallerySet[c].curIndex=+a(this).attr("data-index"),g.log(h.galleryImgLists[c][h.gallerySet[c].curIndex]),g.log(c),h.gallerySet[c].isOpen||g.openGallery(c)}),a(c).off("keyup.vc.gallery").on("keyup.vc.gallery",function(a){for(var b in h.gallerySet)if(h.gallerySet.hasOwnProperty(b))switch(a.keyCode){case 37:g.previousImage(b);break;case 39:g.nextImage(b);break;case 27:g.closeGallery(b);break;case 38:g.showDescription(b);break;case 40:g.hideDescription(b)}g.log(a.keyCode)}),a(b).off("resize.vc.gallery").on("resize.vc.gallery",function(a){g.adjustSize()});for(var i in h.gallerySet)h.gallerySet.hasOwnProperty(i)&&g.galleryEvents(i)},galleryEvents:function(a){var c,d,e,f=this,g=f.config,h=10,i=!1,j={};b.navigator.msPointerEnabled?(c="MSPointerDown",d="MSPointerMove",e="MSPointerUp"):(c="touchstart",d="touchmove",e="touchend"),g.gallerySet[a].$galleryCloseLink.off("click.vc.gallery").on("click.vc.gallery",function(b){b.preventDefault(),f.closeGallery(a)}),g.gallerySet[a].$galleryPreviousLink.off("click.vc.gallery").on("click.vc.gallery",function(b){b.preventDefault(),f.previousImage(a)}),g.gallerySet[a].$galleryNextLink.off("click.vc.gallery").on("click.vc.gallery",function(b){b.preventDefault(),f.nextImage(a)}),g.gallerySet[a].$showDescriptionButton.off("click.vc.gallery").on("click.vc.gallery",function(b){b.preventDefault(),f.toggleDescription(a)}),g.gallerySet[a].$galleryImageContainer.off(c).on(c,function(a){a.touches||(a=a.originalEvent),f.log("Touch started."),j={startPageX:b.navigator.msPointerEnabled?a.pageX:a.touches[0].clientX,startPageY:b.navigator.msPointerEnabled?a.pageY:a.touches[0].clientY,startTime:+new Date,deltaX:0,deltaY:0,endPageX:0,endPageY:0},a.stopPropagation()}).off(d).on(d,function(a){f.log("Touch moving."),a.preventDefault()}).off(e).on(e,function(c){c.touches||(c=c.originalEvent),c.touches.length>1||c.scale&&1!==c.scale||(f.log(c),j.endPageX=b.navigator.msPointerEnabled?c.pageX:c.changedTouches[0].clientX,j.endPageY=b.navigator.msPointerEnabled?c.pageY:c.changedTouches[0].clientY,j.deltaX=j.endPageX-j.startPageX,j.deltaY=j.endPageY-j.startPageY,i=Math.abs(j.deltaX)<Math.abs(j.deltaY),f.log("Touch stopped"),i?(j.deltaY>=h&&f.hideDescription(a),j.deltaY<=-h&&f.showDescription(a)):(j.deltaX>=h&&f.previousImage(a),j.deltaX<=-h&&f.nextImage(a)),j={},c.stopPropagation())}),g.gallerySet[a].$bigGallery.off("click.vc.gallery").on("click.vc.gallery",function(b){b.target==b.currentTarget&&f.closeGallery(a)})},preloadImages:function(a,b){var c=this,d=c.config;b=b||d.gallerySet[a].curIndex;var e=(d.galleryImgLists[a][b],b-d.preloadCount>0?b:0),f=e+2*d.preloadCount;f=f>d.galleryImgLists[a].length?d.galleryImgLists[a].length-1:f;for(var g=e;f>g;g++)(new Image).src=d.galleryImgLists[a][g].imageUrl;c.log("In preloadImages function.")},buildGallery:function(b){var c=this,d=c.config;d.gallerySet[b]=d.gallerySet[b]||{},d.gallerySet[b].$bigGallery=a(d.galleryTemplate),d.gallerySet[b].$galleryImageContainer=d.gallerySet[b].$bigGallery.find("."+d.galleryImageContainerClass),d.gallerySet[b].$galleryContainer=d.gallerySet[b].$bigGallery.find("."+d.galleryContainerClass),d.gallerySet[b].$galleryDescriptionContainer=d.gallerySet[b].$bigGallery.find("."+d.galleryDescriptionContainerClass),d.gallerySet[b].$galleryHeader=d.gallerySet[b].$bigGallery.find("."+d.galleryHeaderClass),d.gallerySet[b].$galleryDescriptionHeader=d.gallerySet[b].$bigGallery.find("."+d.galleryDescriptionHeaderClass),d.gallerySet[b].$galleryDescription=d.gallerySet[b].$bigGallery.find("."+d.galleryDescriptionClass),d.gallerySet[b].$galleryCloseLink=d.gallerySet[b].$bigGallery.find("."+d.galleryCloseLinkClass),d.gallerySet[b].$galleryPreviousLink=d.gallerySet[b].$bigGallery.find("."+d.galleryPreviousLinkClass),d.gallerySet[b].$galleryNextLink=d.gallerySet[b].$bigGallery.find("."+d.galleryNextLinkClass),d.gallerySet[b].$galleryImageCount=d.gallerySet[b].$bigGallery.find("."+d.galleryImageCountClass),d.gallerySet[b].$galleryLoading=d.gallerySet[b].$bigGallery.find("."+d.galleryLoadingClass),d.gallerySet[b].$galleryTitle=d.gallerySet[b].$bigGallery.find("."+d.galleryTitleClass),d.gallerySet[b].$galleryUploadDetails=d.gallerySet[b].$bigGallery.find("."+d.galleryUploadDetailsClass),d.gallerySet[b].$galleryUploadDate=d.gallerySet[b].$bigGallery.find("."+d.galleryUploadDateClass),d.gallerySet[b].$galleryUploaderName=d.gallerySet[b].$bigGallery.find("."+d.galleryUploaderNameClass),d.gallerySet[b].$galleryUploaderThumbnail=d.gallerySet[b].$bigGallery.find("."+d.galleryUploaderThumbnailClass),d.gallerySet[b].$galleryBusinessName=d.gallerySet[b].$bigGallery.find("."+d.galleryBusinessNameClass),d.gallerySet[b].$galleryBusinessThumbnail=d.gallerySet[b].$bigGallery.find("."+d.galleryBusinessThumbnailClass),d.gallerySet[b].$galleryBusinessDetails=d.gallerySet[b].$bigGallery.find("."+d.galleryBusinessDetailsClass),d.gallerySet[b].$galleryActionsContainer=d.gallerySet[b].$bigGallery.find("."+d.galleryActionsContainerClass),d.gallerySet[b].$showDescriptionButton=d.gallerySet[b].$bigGallery.find("."+d.showDescriptionButtonClass),a("body").append(d.gallerySet[b].$bigGallery),c.log(d.gallerySet[b].$bigGallery),a.each(d.galleryImgLists[b],function(e,f){var g=a("<div>").addClass(d.galleryImageClass),h=a("<img>").load(function(){a(this).hide(),a(this).fadeIn()}).error(function(){c.log("Error loading image: "+f.imageUrl)}).attr("data-src",f.imageUrl).attr("data-index",e);c.log(h),g.append(h).appendTo(d.gallerySet[b].$galleryImageContainer)}),c.log("In buildGallery function."),d.gallerySet[b].isBuilt=!0},openGallery:function(a){var b=this,c=b.config;a=a||c.defaultRel,c.gallerySet[a].isBuilt||b.buildGallery(a),b.loadContent(a),c.gallerySet[a].$bigGallery.fadeIn(),b.adjustSize(a),b.log("In openGallery function."),c.gallerySet[a].isOpen=!0},closeGallery:function(a){var b=this,c=b.config;c.gallerySet[a].$bigGallery.fadeOut(),b.emptyGallery(a),b.log("In closeGallery function."),c.gallerySet[a].isOpen=!1},loadContent:function(a,b){var c=this,d=c.config;"undefined"==typeof b&&(b=function(){});var e=d.galleryImgLists[a][d.gallerySet[a].curIndex];c.preloadImages(a,d.gallerySet[a].curIndex),c.emptyGallery(a),c.log(e),e.imageDescription?(d.gallerySet[a].hasDescription=!0,d.gallerySet[a].$showDescriptionButton.removeClass("hidden")):(d.gallerySet[a].hasDescription=!1,c.hideDescription(a),d.gallerySet[a].$showDescriptionButton.addClass("hidden")),d.gallerySet[a].$galleryDescription.html(e.imageDescription);var f=d.gallerySet[a].$galleryImageContainer.find("."+d.galleryImageClass).filter(":eq("+d.gallerySet[a].curIndex+")").css("margin-left",0);f.find("img").attr("src",e.imageUrl),d.gallerySet[a].$galleryImageCount.html(d.gallerySet[a].curIndex+1+" of "+d.galleryImgLists[a].length),d.gallerySet[a].$galleryTitle.html(e.imageTitle||""),d.gallerySet[a].$galleryUploadDate.html(e.imageUploadDate||""),d.gallerySet[a].$galleryUploaderName.html(e.imageUploaderName||""),d.gallerySet[a].$galleryUploaderThumbnail.attr("src",e.imageUploaderThumbnail||""),e.imageUploadDate?d.gallerySet[a].$galleryUploadDate.show():d.gallerySet[a].$galleryUploadDate.hide(),e.imageUploaderName?d.gallerySet[a].$galleryUploaderName.show():d.gallerySet[a].$galleryUploaderName.hide(),e.imageUploaderThumbnail?d.gallerySet[a].$galleryUploaderThumbnail.show():d.gallerySet[a].$galleryUploaderThumbnail.hide(),d.gallerySet[a].$galleryUploadDetails.show(),d.gallerySet[a].$galleryBusinessName.html(e.imageBusinessName||""),d.gallerySet[a].$galleryBusinessThumbnail.attr("src",e.imageBusinessThumbnail||""),e.imageBusinessThumbnail?d.gallerySet[a].$galleryBusinessThumbnail.show():d.gallerySet[a].$galleryBusinessThumbnail.hide(),d.gallerySet[a].$galleryBusinessDetails.show(),c.isFirst(a)?d.gallerySet[a].$galleryPreviousLink.addClass("disabled"):d.gallerySet[a].$galleryPreviousLink.removeClass("disabled"),c.isLast(a)?d.gallerySet[a].$galleryNextLink.addClass("disabled"):d.gallerySet[a].$galleryNextLink.removeClass("disabled"),c.log("In loadContent function."),b()},previousImage:function(a){var b=this,c=b.config;b.isFirst(a)||(c.gallerySet[a].curIndex--,b.loadContent(a)),b.log("In previousImage function.")},nextImage:function(a){var b=this,c=b.config;b.isLast(a)||(c.gallerySet[a].curIndex++,b.loadContent(a)),b.log("In nextImage function.")},isFirst:function(a){var b=this,c=b.config;return!c.gallerySet[a].curIndex},isLast:function(a){var b=this,c=b.config;return c.gallerySet[a].curIndex>=c.galleryImgLists[a].length-1},emptyGallery:function(a){var b=this,c=b.config;c.gallerySet[a].$galleryImageContainer.find("."+c.galleryImageClass).css("margin-left","100%"),c.gallerySet[a].$galleryImageCount.empty(),c.gallerySet[a].$galleryTitle.empty(),c.gallerySet[a].$galleryDescription.empty(),c.gallerySet[a].$galleryUploadDetails.hide(),c.gallerySet[a].$galleryUploaderName.empty(),c.gallerySet[a].$galleryUploadDate.empty(),c.gallerySet[a].$galleryUploaderThumbnail.attr("src",""),c.gallerySet[a].$galleryBusinessDetails.hide(),c.gallerySet[a].$galleryBusinessName.empty(),c.gallerySet[a].$galleryBusinessThumbnail.attr("src",""),b.log("In emptyGallery function.")},adjustSize:function(a){var b=this,c=b.config,d=0;a=a||c.defaultRel,b.log("Adjusting the size."),d=c.gallerySet[a].$galleryContainer.height()-c.gallerySet[a].$galleryHeader.height()-c.gallerySet[a].$galleryDescriptionHeader.height(),c.gallerySet[a].$galleryContainer.find("."+c.galleryImageClass).height(d),c.gallerySet[a].$galleryContainer.find("."+c.galleryLoadingClass).height(d),b.log("Adjusted image height: "+d)},showDescription:function(a){var b=this,c=b.config;c.gallerySet[a].isOpen&&c.gallerySet[a].hasDescription&&(c.gallerySet[a].$galleryDescription.addClass("show"),c.gallerySet[a].$showDescriptionButton.addClass("active")),b.log("In showDescription function.")},hideDescription:function(a){var b=this,c=b.config;c.gallerySet[a].isOpen&&(c.gallerySet[a].$galleryDescription.removeClass("show"),c.gallerySet[a].$showDescriptionButton.removeClass("active")),b.log("In hideDescription function.")},toggleDescription:function(a){var b=this,c=b.config;c.gallerySet[a].isOpen&&(c.gallerySet[a].$galleryDescription.hasClass("show")?b.hideDescription(a):b.showDescription(a)),b.log("In toggleDescription function.")}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.cookies={utils:{getCookie:function(a){return decodeURIComponent(c.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},createCookie:function(a,b,d,e,f,g){if(!a||/^(?:expires|max\-age|path|domain|secure)$/i.test(a))return!1;var h="";if(d)switch(d.constructor){case Number:if(d===1/0)h="; expires=Fri, 31 Dec 9999 23:59:59 GMT";else{var i=new Date;i.setTime(i.getTime()+24*d*60*60*1e3),h="; expires="+i.toGMTString()}break;case String:h="; expires="+d;break;case Date:h="; expires="+d.toUTCString()}return c.cookie=encodeURIComponent(a)+"="+encodeURIComponent(b)+h+(f?"; domain="+f:"")+(e?"; path="+e:"")+(g?"; secure":""),!0},removeCookie:function(a,b,d){return a&&this.hasCookie(a)?(c.cookie=encodeURIComponent(a)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(d?"; domain="+d:"")+(b?"; path="+b:""),!0):!1},hasCookie:function(a){return new RegExp("(?:^|;\\s*)"+encodeURIComponent(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(c.cookie)}},init:function(){this.events()},events:function(){}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.corporatelead={config:{$cLeadPopup:a({}),$cLeadButton:a({}),cLeadMax:3},init:function(){var b=this,c=this.config;if(c.$cLeadPopup=a("["+this.attr_name("clead-popup")+"]"),c.$cLeadButton=a("["+this.attr_name("clead-btn")+"]"),!c.$cLeadPopup.length)return!1;var d=c.$cLeadPopup.attr(this.attr_name("clead-name"));if(d){var e=+b.getCookie(d);if(e>=c.cLeadMax)return!0;b.createCookie(d,++e)}c.$cLeadPopup.foundation("reveal","open"),this.events()},events:function(){var a=this.config;a.$cLeadButton.on("click",function(b){b.preventDefault(),a.$cLeadPopup.foundation("reveal","open")})}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.buttons={init:function(){this.events()},events:function(){var a=this,b=this.config;b.roleEl.follow.on("click",function(b){b.preventDefault(),a.sendFollowRequest(this)}),b.roleEl.like.on("click",function(b){b.preventDefault(),a.sendRequest(this,"like")})},sendFollowRequest:function(b){var c=this,d=this.config;a(b).addClass("disabled loading-btn").prop("disabled",!0);var e=a(b).attr("href"),f={userID:a(b).attr(c.attr_name("uid")),value:+!a(b).attr(c.attr_name("value"))};a.get(e,f,function(a){var b=d.roleEl.follow.filter("["+c.attr_name("uid")+"="+f.userID+"]");b.removeClass("disabled loading-btn").prop("disabled",!1).attr(c.attr_name("value"),a.value),a.value?(c.log("Followed."),b.addClass("follow-btn").removeClass("unfollow-btn").html('<i class="icon-user-add"></i> Follow')):(c.log("Unfollowed."),b.addClass("unfollow-btn").removeClass("follow-btn").html('<i class="icon-ok"></i> Following'))})},sendRequest:function(b,c){var d=this,e=this.config;a(b).addClass("disabled").prop("disabled",!0).html('<img class="loader" src="img/vcloader-dots-white.gif">');var f=a(b).attr("href"),g={userID:a(b).attr(d.attr_name("uid")),value:+!a(b).attr(d.attr_name("value"))};a.get(f,g,function(a){var b=e.roleEl.follow.filter("["+d.attr_name("uid")+"="+g.userID+"]");switch(b.removeClass("disabled").prop("disabled",!1).attr(d.attr_name("value"),a.value),c){case"follow":a.value?(d.log("Followed."),b.addClass("follow-btn").removeClass("unfollow-btn").html('<i class="icon-user-add"></i> Follow')):(d.log("Unfollowed."),b.addClass("unfollow-btn").removeClass("follow-btn").html('<i class="icon-ok"></i> Following'));break;case"like":a.value?(d.log("Liked."),b.addClass("active").html('<i class="icon-heart"></i> Liked')):(d.log("Unliked."),b.removeClass("active").html('<i class="icon-heart"></i> Like'))}})}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.select={config:{select:{queryHolder:"{QUERY}",options:{openingHours:["12:00AM","12:30AM","1:00AM","1:30AM","2:00AM","2:30AM","3:00AM","3:30AM","4:00AM","4:30AM","5:00AM","5:30AM","6:00AM","6:30AM","7:00AM","7:30AM","8:00AM","8:30AM","9:00AM","9:30AM","10:00AM","10:30AM","11:00AM","11:30AM","12:00PM","12:30PM","1:00PM","1:30PM","2:00PM","2:30PM","3:00PM","3:30PM","4:00PM","4:30PM","5:00PM","5:30PM","6:00PM","6:30PM","7:00PM","7:30PM","8:00PM","8:30PM","9:00PM","9:30PM","10:00PM","10:30PM","11:00PM","11:30PM","Closed"]}}},init:function(){var b=this,c=this.config;a("["+b.attr_name("select")+"]").length&&this.require("selectize",function(){return jQuery().selectize},function(){var d=a("["+b.attr_name("select")+"]");d.each(function(d,e){var f=a(e),g=null,h=null,i=null,j=null,k={plugins:["remove_button"],delimiter:",",persist:!1,create:!1};g=(h=f.attr(b.attr_name("remote"))||null)?function(b,d){a.ajax({url:h.replace(c.select.queryHolder,encodeURIComponent(b)),type:"GET",error:function(){d()},success:function(a){d(a)}})}:null,g&&(k.load=g);var l=f.attr(b.attr_name("items"));l&&(j=l.split(",")),j&&(k.items=j);var m=f.attr(b.attr_name("options"));m&&(i=c.select.options[m]?c.select.options[m].map(function(a){return{text:a,value:a}}):m.split(",").map(function(a){return{text:a,value:a}})),i&&(k.options=i),f.attr(b.attr_name("preload"))&&(k.preload=f.attr(b.attr_name("preload"))),f.selectize(k)})}),this.events()},events:function(){}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.productlist={config:{$productsList:a(".products-list"),$viewProducts:a(".view-products"),majorLength:20},init:function(){var b=this.config,c=b.$productsList.filter(function(c,d){return a(d).children("li").length>b.majorLength});a('<a href="#">Show all</a>').addClass("view-products hover-underline").appendTo(c),b.$viewProducts=a(b.$viewProducts.selector),c.addClass("show-few").each(function(c,d){a(d).children("li").slice(0,b.majorLength).addClass("major")}),this.events()},events:function(){var b=this.config;b.$viewProducts.on("click",function(c){c.preventDefault();var d=a(this).closest(b.$productsList);d.toggleClass("show-few"),d.hasClass("show-few")?d.find(b.$viewProducts).html("Show all"):d.find(b.$viewProducts).html("Show less")}),b.$productsList.find("a").on("click",function(a){a.preventDefault()})}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.nslider={config:{},init:function(){var b=this,c=this.config;c.$els=a("["+b.attr_name("nslider")+"]"),c.$els.length&&this.require("owlcarousel",function(){return jQuery().owlCarousel},function(){c.$els.each(function(c,d){var e=a(d),f={loop:!0,autoplay:!1,autoplaySpeed:!1,autoplayTimeout:5e3,stagePadding:0,autoplayHoverPause:!0,nav:!0,autoWidth:!0,items:1,dots:!1};"undefined"!=typeof e.attr(b.attr_name("arrows"))&&("false"==e.attr(b.attr_name("arrows"))?f.nav=!1:f.nav=!0),"undefined"!=typeof e.attr(b.attr_name("infinite"))&&("false"==e.attr(b.attr_name("infinite"))?f.loop=!1:f.loop=!0),"undefined"!=typeof e.attr(b.attr_name("autoplay"))&&("false"==e.attr(b.attr_name("autoplay"))?f.autoplay=!1:f.autoplay=!0),"undefined"!=typeof e.attr(b.attr_name("dots"))&&("false"==e.attr(b.attr_name("dots"))?f.dots=!1:f.dots=!0),"undefined"!=typeof e.attr(b.attr_name("variable"))&&("false"==e.attr(b.attr_name("variable"))?f.autoWidth=!1:f.autoWidth=!0),"undefined"!=typeof e.attr(b.attr_name("autospeed"))&&("false"==e.attr(b.attr_name("autoplayspeed"))?f.autoplaySpeed=!1:f.autoplaySpeed=!0),"undefined"!=typeof e.attr(b.attr_name("autoplaypause"))&&("false"==e.attr(b.attr_name("autoplaypause"))?f.autoplayHoverPause=!1:f.autoplayHoverPause=!0),e.attr(b.attr_name("stage"))&&(f.stagePadding=+e.attr(b.attr_name("stage"))),e.attr(b.attr_name("showno"))&&(f.items=+e.attr(b.attr_name("showno"))),e.attr(b.attr_name("autoplayspeed"))&&(f.autoplayTimeout=+e.attr(b.attr_name("autoplayspeed"))),e.owlCarousel(f)})}),this.events()},events:function(){}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.tabs={name:"tabs",description:"description",config:{hashPrefix:"tabs_"},init:function(){var c=this.config;a("[data-tab]").each(function(d){a(this).children("li").each(function(d){var e=a(this);return e.hasClass("no-js-tab")?!0:(e.hasClass("active")||a(e.children("a").attr("href")).addClass("hide"),void e.click(function(d){if(d.preventDefault(),!a(this).hasClass("active")){var e=this,f=a(e).parent("[data-tab]").children("li.active"),g=a(e).children("a").attr("href").replace("#","");a(f).removeClass("active"),a(a(f).children("a").attr("href")).addClass("hide"),a("[data-header="+a(a(f).children("a").attr("href")).attr("data-footer")+"]")&&a("[data-header="+a(a(f).children("a").attr("href")).attr("data-footer")+"]").addClass("hide"),a(e).addClass("active"),a(a(e).children("a").attr("href")).removeClass("hide"),a("[data-header="+a(a(e).children("a").attr("href")).attr("data-footer")+"]")&&a("[data-header="+a(a(e).children("a").attr("href")).attr("data-footer")+"]").removeClass("hide"),history.pushState?history.pushState(null,null,"#"+c.hashPrefix+g):location.hash="#"+c.hashPrefix+g,a(b).trigger("hashchange")}}))})}),this.events()},events:function(){var b=this,c=this.config;b.subscribe("vc:hashChange",function(d,e){b.log(e);var f=e.hash.replace(c.hashPrefix,""),g=a("[data-tab] li a[href=#"+f+"]"),h=a("[data-tab] li.active a[href=#"+f+"]");if(g.length&&!h.length){var i=g.closest("[data-tab]").children("li.active"),j=g.parent("li");a(i).removeClass("active"),b.log(g),b.log(i),a(a(i).children("a").attr("href")).addClass("hide"),a("[data-header="+a(a(i).children("a").attr("href")).attr("data-footer")+"]")&&a("[data-header="+a(a(i).children("a").attr("href")).attr("data-footer")+"]").addClass("hide"),a(j).addClass("active"),a(a(j).children("a").attr("href")).removeClass("hide"),a("[data-header="+a(a(j).children("a").attr("href")).attr("data-footer")+"]")&&a("[data-header="+a(a(j).children("a").attr("href")).attr("data-footer")+"]").removeClass("hide")}})}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.ctv={name:"ctv",description:"Responsible for the click-to-view logic",init:function(){a("[data-ctv]").children(".masked").addClass("hide"),this.events()},events:function(){a("[data-ctv]").on("click",function(b){b.preventDefault(),a(this).hasClass("open")||(a(this).children(".mask").addClass("hide"),a(this).children(".masked").removeClass("hide").addClass("show"),a(this).addClass("open"))})}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.helpful={config:{helpful:{phoneHelpfulURL:"/detail/wasthishelpful"}},init:function(){var b=this.config,c=b.helpful;c.$phoneHelpfulContainer=a(".js-phone-helpful"),c.$helpfulYesLink=c.$phoneHelpfulContainer.find(".js-helpful-yes"),c.$helpfulNoLink=c.$phoneHelpfulContainer.find(".js-helpful-no"),this.events()},events:function(){var b=this,c=this.config,d=c.helpful;d.$helpfulYesLink.off("click.vc.helpful").on("click.vc.helpful",function(c){c.preventDefault();var d=a(this);b.log("Yessed the number! :)"),b.sendHelpfulPhone(d,"YES")}),d.$helpfulNoLink.off("click.vc.helpful").on("click.vc.helpful",function(c){c.preventDefault();var d=a(this);b.log("Noed the number! :("),b.sendHelpfulPhone(d,"NO")})},sendHelpfulPhone:function(b,c){var d=this,e=this.config,f=e.helpful,g=b,h=g.closest(f.$phoneHelpfulContainer).attr(d.attr_name("phone")),i=g.closest("["+d.attr_name("bizid")+"]").attr(d.attr_name("bizid")),j={whichnumber:h,status:c,bizid:i};d.log("Helpful data: ",c,h,i),d.loading(g.closest(f.$phoneHelpfulContainer),"start"),a.ajax({url:f.phoneHelpfulURL,type:"POST",dataType:"json",data:j,success:function(a){1==a.status?d.notifyMe("Thanks for the feedback. You rock! :)"):d.notifyMe({message:"Oops! Something went wrong. You can try again later.",type:"error"})},error:function(a){d.notifyMe({message:"Oops! Something went wrong. You can try again later.",type:"error"})},complete:function(){d.loading(g.closest(f.$phoneHelpfulContainer),"stop")}})}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.modal={config:{modalTrigger:{},modalClose:{}},init:function(){
var b=this.config;b.modalTrigger=a("["+this.attr_name("modal")+"]"),b.modalClose=a("[data-reveal] .close"),this.events()},events:function(){var b=this,c=b.config;c.modalTrigger.on("click",function(c){c.preventDefault();var d=a(this).attr(b.attr_name("modal"));a("#"+d).foundation("reveal","open")}),c.modalClose.on("click",function(b){b.preventDefault(),a(this).closest("[data-reveal]").foundation("reveal","close")})}}}(jQuery,window,document),function(a){window.app.comps.leadform={name:"leadform",description:"Script for lead forms related interactivity",init:function(){var b=this.config,c=1,d=0;if(b.$leadFormSections.length<=0)return!1;var e=function(){b.$leadFormNavigationList.find("[data-section-id]").filter('[data-section-id="'+c+'"]').parent("li").addClass("active current").nextAll("li").removeClass("active current").end().prevAll("li").addClass("active").removeClass("current"),b.$leadFormSections.hide(),b.$leadFormSections.filter('[data-section-id="'+c+'"]').fadeIn()};d=b.$leadFormSections.length,b.$leadFormsContainer.find(b.roleEl.loading).hide(),e(),b.$leadFormSections.find(b.roleEl.prev).on("click",function(a){a.preventDefault(),c>1&&(c--,e())}),b.$leadFormSections.find(b.roleEl.next).on("click",function(a){a.preventDefault(),d>c&&(c++,e())}),b.$leadFormNavigationList.find("[data-section-id]").on("click",function(b){b.preventDefault(),c!=a(this).data("section-id")&&(c=a(this).data("section-id"),e())})}}}(jQuery),function(a,b,c,d){b.app.comps.siteheader={config:{siteheader:{makeRoomClass:"make-room"}},init:function(){var c=this,d=this.config,e=d.siteheader;return e.$container=a("["+c.attr_name("siteheader")+"]"),e.$container.length?(e.$dropdownMenus=e.$container.find(".js-has-dropdown-menu"),e.$dropdownMenuTrigger=e.$dropdownMenus.find("> li > a").filter(function(){return!a(this).is(":only-child")}),Modernizr.touch?e.$dropdownMenus.addClass("show-on-click"):e.$dropdownMenus.addClass("show-on-hover"),e.lastScroll=a(b).scrollTop(),c.log("In site header.."),void c.events()):!1},events:function(){var d=this,e=this.config,f=e.siteheader;d.log(f.$dropdownMenuTrigger),f.$dropdownMenuTrigger.off("click.vc.siteheader").on("click.vc.siteheader",function(b){Modernizr.touch&&(b.preventDefault(),b.stopPropagation()),d.log(this),a(this).parent().toggleClass("open").siblings().removeClass("open")}),a(c).off("click.vc.siteheader").on("click.vc.siteheader",function(a){f.$dropdownMenuTrigger.parent().removeClass("open")}),a(b).off("scroll.vc.siteheader").on("scroll.vc.siteheader",function(c){var e=a(b).scrollTop();d.log(f.lastScroll,e),e>=f.lastScroll?(f.$container.addClass(f.makeRoomClass),d.log("make room!")):f.$container.removeClass(f.makeRoomClass),f.lastScroll=e})}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.searchterm={config:{nTermsURL:"../HomeWEB/KeywordAutoComplete?term=%QUERY",nTermsCategoryURL:"/terms-cat.json?%QUERY",destChoiceURL:"/SearchListWEB/DecideSearchPage?sq=%SEARCH_TERM%",scriptURLs:{ntypeahead:"/js/vendor/typeahead/typeahead.bundle.min.js"},searchterm:{qsearchPattern:"qsearch?sq=%SEARCH_TERM%&sl=%SEARCH_LOCATION%",isearchPattern:"isearch?sq=%SEARCH_TERM%",popularSearchesList:[],recentSearchesLocalStorageKey:"vc:searchterm:recent",recentSearchesMax:5,defaultSearchTimeout:2e3,searchLocation:"lagos",limits:{recentSearches:5,popularSearches:5,myMain:1/0,relatedProducts:1/0}}},init:function(){var b=this,c=this.config,d=c.searchterm;return d.$container=a("["+b.attr_name("searchterm")+"]"),d.$searchBtn=a("["+b.attr_name("searchterm-btn")+"]"),d.$container.length?void this.require("ntypeahead",function(){return jQuery().typeahead},function(){d.recentSearches=function(a,c){""===a&&c(b.getRecentSearches())},d.popularSearches=function(a,b){""===a&&b(d.popularSearchesList)},d._myMain=function(a,b,c){""!==a&&d.myMain.search(a,b,c)},d.myMain=new Bloodhound({datumTokenizer:function(a){return Bloodhound.tokenizers.whitespace(a.label)},queryTokenizer:Bloodhound.tokenizers.whitespace,remote:{url:c.nTermsURL,wildcard:"%QUERY",transform:function(a){return a.main||[]}}}),d._relatedProducts=function(a,b,c){""!==a&&d.relatedProducts.search(a,b,c)},d.relatedProducts=new Bloodhound({datumTokenizer:function(a){return Bloodhound.tokenizers.whitespace(a.label)},queryTokenizer:Bloodhound.tokenizers.whitespace,remote:{url:c.nTermsURL,wildcard:"%QUERY",transform:function(a){return a.related||[]}}}),d._suggestionSet=function(a,b,c){""!==a&&d.suggestionSet.search(a,b,c)},d.suggestionSet=new Bloodhound({datumTokenizer:function(a){return Bloodhound.tokenizers.whitespace(a.label)},queryTokenizer:Bloodhound.tokenizers.whitespace,remote:{url:c.nTermsURL,wildcard:"%QUERY",transform:function(a){return a.suggestions||[]}}}),d.searchLocation=d.$container.attr(b.attr_name("location"))||d.searchLocation,d.deviceType=d.$container.attr(b.attr_name("device")),"mobile"==d.deviceType&&(d.limits.recentSearches=4,d.limits.popularSearches=3),d.$container.typeahead({minLength:0,highlight:!0},{name:"popularSearches",source:d.popularSearches,limit:d.limits.popularSearches,templates:{header:'<div class="clearfix"><span class="autocomplete-subtle-header right">Popular Searches</span></div>'}},{name:"recentSearches",source:d.recentSearches,display:"content",limit:d.limits.recentSearches,templates:{header:'<div class="clearfix"><span class="autocomplete-subtle-header right">Recent Searches</span></div>'}},{name:"myMain",source:d._myMain,display:"content",limit:d.limits.myMain,templates:{suggestion:function(a){return"<div><div>"+a.content+'</div><div class="autocomplete-subtle-type">'+a.contenttypetext+"</div></div>"}}},{name:"relatedProducts",source:d._relatedProducts,display:"content",limit:d.limits.relatedProducts,templates:{header:function(a){return'<div class="clearfix"><span class="autocomplete-subtle-header right">Related Products</span></div>'},suggestion:function(a){return'<div class="clearfix"><div class="autocomplete-item-image"><img src="'+a.image+'"></div><div class="autocomplete-item-name">'+a.content+'</div><div class="autocomplete-item-price">&#8358;'+a.price+"</div></div>"}}},{name:"suggestionSet",source:d._suggestionSet,limit:d.limits.myMain,templates:{header:function(a){return'<div class="autocomplete-dym-header">Did you mean:</div>'}}}),b.events()}):!1},events:function(){var a=this,b=this.config,c=b.searchterm;c.$container.closest("form").on("submit",function(b){return a.startSearch(),!1}),c.$container.off("keyup.vc.searchterm").on("keyup.vc.searchterm",function(b){13==(b.keyCode?b.keyCode:b.which)&&a.startSearch()}),c.$searchBtn.off("click.vc.searchterm").on("click.vc.searchterm",function(b){a.startSearch()}),c.$container.on("typeahead:select",function(b,d){a.log(b,d),d.url?(c.destURL=d.url,a.goToPage()):a.startSearch()})},getRecentSearches:function(){var a=this.config,b=a.searchterm,c=localStorage.getItem(b.recentSearchesLocalStorageKey),d=[];return c&&(d=JSON.parse(c)),d},addToRecent:function(a){var b,c=this,d=this.config,e=d.searchterm,f=c.getRecentSearches();for(b=f.length-1;b>=0;b--)if(f[b].url==a.url){f.splice(b,1);break}f.length>=e.recentSearchesMax&&f.shift(),f.push(a),localStorage.setItem(e.recentSearchesLocalStorageKey,JSON.stringify(f))},startSearch:function(){var b=this,c=this.config,d=c.searchterm;return d.destURL=d.qsearchPattern.replace("%SEARCH_TERM%",d.$container.val().replace(/\s/g,"-")).replace("%SEARCH_LOCATION%",d.searchLocation),d.$container.val().replace(/\s/g,"")?(a.getJSON(c.destChoiceURL.replace("%SEARCH_TERM%",d.$container.val()),function(a){clearTimeout(d.defaultSearchTimeout),a.isearch&&(d.destURL=d.isearchPattern.replace("%SEARCH_TERM%",d.$container.val())),b.goToPage()}),void b.log("submitted")):!1},goToPage:function(){var a=this,c=this.config,d=c.searchterm;return d.isLoading?!1:(a.log(d.destURL),a.addToRecent({content:d.$container.val(),url:d.destURL}),d.isLoading=!0,b.location="/"+d.destURL,void a.log(location.href))}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.scrolltotop={config:{},init:function(){var b=this,c=this.config,d=c.scrolltotop;d.offset=300,d.offsetOpacity=1200,d.scrollTopDuration=700,c.$scrolltotop=a("["+b.attr_name("scrolltotop")+"]"),this.events()},events:function(){var c=this.config,d=c.scrolltotop;a(b).scroll(function(){a(this).scrollTop()>d.offset?c.$scrolltotop.addClass("sc-vc-is-visible"):c.$scrolltotop.removeClass("sc-vc-is-visible sc-vc-fade-out"),a(this).scrollTop()>d.offsetOpacity&&c.$scrolltotop.addClass("sc-vc-fade-out")}),c.$scrolltotop.off("click.vc").on("click.vc",function(b){b.preventDefault(),a("body,html").animate({scrollTop:0},d.scrollTopDuration)})}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.ntabs={config:{ntabs:{activeTabClass:"active",tabsContainerClass:"tabs-content",tabsClass:"content"}},init:function(){var b=this,c=(this.config,this.config.ntabs);c.tabTriggers=a("["+b.attr_name("tab")+"]"),c.tabContents=a("."+c.tabsContainerClass).find("."+c.tabsClass),this.events()},events:function(){var a=this,b=(this.config,this.config.ntabs);b.tabTriggers.off("click.vc.tabs").on("click.vc.tabs",function(b){b.preventDefault(),a.showTab(this)})},showTab:function(b){var c=this,d=(this.config,this.config.ntabs),e=a(b).attr("href");d.tabContents.removeClass(d.activeTabClass),d.tabContents.filter(e).addClass(d.activeTabClass),a(b).closest("["+c.attr_name("tabs")+"]").children("li").removeClass(d.activeTabClass),a(b).closest("["+c.attr_name("tabs")+"] li").addClass(d.activeTabClass)}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.searchlocation={init:function(){var b=this,c=this.config,d=c.searchlocation;return d.$container=a(".search-location-box"),d.$container.length?(d.$searchLocationCurrent=d.$container.find(".js-current-location"),d.$searchLocationInput=d.$container.find("["+b.attr_name("searchlocation-input")+"]"),d.$searchLocationEditShow=d.$container.find(".js-show-edit"),d.$searchLocationEditSection=d.$container.find(".js-search-location-edit-section"),d.$searchLocationEditCancel=d.$container.find(".js-cancel-edit"),void this.require("ntypeahead",function(){return jQuery().typeahead},function(){b.log("searchlocation.."),d.searchLocation=new Bloodhound({datumTokenizer:function(a){return Bloodhound.tokenizers.whitespace(a.label)},queryTokenizer:Bloodhound.tokenizers.whitespace,remote:{url:c.locationsURL,wildcard:"%QUERY"}}),d.$searchLocationInput.typeahead({minLength:2,highlight:!0},{name:"searchlocation",source:d.searchLocation,display:"label"}),b.events()})):!1},events:function(){var a=this,b=this.config,c=b.searchlocation;a.log("searchlocation.."),c.$searchLocationEditShow.off("click.vc.nlisting").on("click.vc.nlisting",function(a){a.preventDefault(),c.$searchLocationCurrent.hide(),c.$searchLocationEditSection.fadeIn()}),c.$searchLocationEditCancel.off("click.vc.nlisting").on("click.vc.nlisting",function(a){a.preventDefault(),c.$searchLocationEditSection.hide(),c.$searchLocationCurrent.fadeIn()})}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.recentitems={init:function(){var b,c,d,e=this,f=e.config,g="vc:itemdata:recent",h=a("["+e.attr_name("item-data")+"]"),i=a("["+e.attr_name("recentitems")+"]"),j=5,k=a("#recentItemsTemplate").html();e.log("In recently viewed items component."),e.require("doT",function(){return"undefined"!=typeof doT},function(){if(i.length&&(c=localStorage.getItem(g))){b=JSON.parse(c),e.log(b);var l={};l.docs=b,l.user=f.user;var m=a("<ul>").addClass("grid-view"),n=doT.template(k)(l);m.append(n),i.append(m)}if(h.length){var o=h.attr(e.attr_name("item-data")),p=JSON.parse(o);if(e.log(p),c=localStorage.getItem(g),e.log(c),b=[],c){for(b=JSON.parse(c),d=b.length-1;d>=0;d--)if(b[d].skuId==p.skuId){b.splice(d,1);break}b.length>=j&&b.shift()}b.push(p),localStorage.setItem(g,JSON.stringify(b))}e.events()})},events:function(){}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.cartCalculator={config:{$cartCalc:a("[data-vc-cart-calculator]"),$cartItem:a(".js-cat-item"),$subTotal:a(".js-cat-subtotal"),$delvTotal:a(".js-cat-dilivery-total"),$discount:a(".js-cat-discount"),$total:a(".js-cat-total"),$qty:a(".js-cat-item-qty"),moneyFormat:wNumb({mark:".",thousand:","})},calculateItem:function(b){var c=b.data.self,d=c.config,e=a(this),f=+e.val(),g=e.closest(".js-cat-item"),h=g.find(".js-item-price"),i=g.find(".js-you-save"),j=h.data("vc-cat-item-price"),k=f*+j;h.data("item-total-price",k).text(d.moneyFormat.to(k)),i.length&&i.text(d.moneyFormat.to(+i.data("you-save")*f)),c.calculateSubtotal()},calculateSubtotal:function(){var b=this,c=b.config,d=0,e=0;a.each(c.$cartItem,function(b){var c=a(this);d+=c.find(".js-item-price").data("item-total-price"),e+=c.find(".js-deliv-price").data("vc-item-delivery-price")}),c.$subTotal.data("vc-cat-subtotal",d).text(c.moneyFormat.to(d)),c.$delvTotal.data("vc-cat-delivery-total",e).text(c.moneyFormat.to(e)),b.calculateTotal()},calculateTotal:function(){var a=this.config,b=a.$subTotal.data("vc-cat-subtotal")+a.$delvTotal.data("vc-cat-delivery-total")-a.$discount.data("vc-cat-discount");a.$total.text(a.moneyFormat.to(b))},init:function(){var a=this;a.config.$cartCalc.length&&a.events()},events:function(){var a=this,b=a.config;b.$qty.on("change",{self:a},a.calculateItem)}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.popover={config:{popover:{margin:5,position:"bottom"}},init:function(){var b=this,c=this.config,d=c.popover;d.$container=a("["+b.attr_name("popover")+"]"),d.$popoverContents=a("["+b.attr_name("popover-content")+"]"),this.events()},events:function(){var b=this,d=this.config,e=d.popover;e.$container.off("mouseenter.vc.popover").on("mouseenter.vc.popover",function(c){var d=a(this);c.preventDefault(),d[0].hasAttribute(b.attr_name("hover"))&&b.openPopover(d)}),e.$container.off("mouseleave.vc.popover").on("mouseleave.vc.popover",function(c){var d=a(this);c.preventDefault(),d[0].hasAttribute(b.attr_name("hover"))&&b.closePopover(d)}),e.$container.off("click.vc.popover").on("click.vc.popover",function(c){var d=a(this);c.preventDefault(),c.stopPropagation(),b.openPopover(d)}),a(c).off("click.vc.popover").on("click.vc.popover",function(a){e.$popoverContents.removeClass("is-open")}),e.$popoverContents.off("click.vc.popover").on("click.vc.popover",function(a){a.preventDefault(),a.stopPropagation()})},openPopover:function(c,d){var e=this,f=this.config,g=f.popover,h=c.attr(e.attr_name("popover")),i=a("["+e.attr_name("popover-content")+'="'+h+'"]').toggleClass("is-open");g.$popoverContents.not(i).removeClass("is-open"),d&&(i.addClass("is-open"),e.log("forced"));var j=c.offset(),k=i.offsetParent(),l=k.offset(),m=d||c.attr(e.attr_name("position"))||g.position;e.log(i.outerHeight());var n={top:0,left:0};switch(m){case"left":n={top:0,left:-i.outerWidth()-g.margin};break;case"right":n={top:0,left:c.outerWidth()+g.margin};break;case"top":n={top:-i.outerHeight()-g.margin,left:0},j.left>a(b).width()-j.left+c.outerWidth()&&(n.left=-i.outerWidth()+c.outerWidth());break;case"bottom":n={top:c.outerHeight()+g.margin,left:0},j.left>a(b).width()-j.left+c.outerWidth()&&(n.left=-i.outerWidth()+c.outerWidth())}i.css({top:j.top-l.top+n.top,left:j.left-l.left+n.left}),"top"==m&&i.offset().top<0?e.openPopover(c,"bottom"):"bottom"==m&&i.offset().top+i.height()>a(b).height()?e.openPopover(c,"top"):"left"==m&&i.offset().left<0?e.openPopover(c,"bottom"):"right"==m&&i.offset().left+i.width()>a(b).width()&&e.openPopover(c,"bottom")},closePopover:function(b){var c=this,d=this.config,e=(d.popover,b.attr(c.attr_name("popover"))),f=a("["+c.attr_name("popover-content")+'="'+e+'"]');f.removeClass("is-open")}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.hashChange={init:function(){this.events()},events:function(){var a=this,c=(this.config,{changeEnabled:!1});"onhashchange"in b&&(b.onhashchange=function(){c.changeEnabled=!0,c.hash=b.location.hash.replace("#",""),a.publish("vc:hashChange",c)}),c.hash=b.location.hash.replace("#",""),a.publish("vc:hashChange",c),a.reply("vc:currentHash",function(){return c})}}}(jQuery,window,document);