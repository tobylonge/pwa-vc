!function(){for(var a,b=function(){},c=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],d=c.length,e=window.console=window.console||{};d--;)a=c[d],e[a]||(e[a]=b)}(),function(){var a=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1},b=[].slice;!function(a,b){return"function"==typeof define&&define.amd?define("waypoints",["jquery"],function(c){return b(c,a)}):b(a.jQuery,a)}(this,function(c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;return e=c(d),l=a.call(d,"ontouchstart")>=0,h={horizontal:{},vertical:{}},i=1,k={},j="waypoints-context-id",o="resize.waypoints",p="scroll.waypoints",q=1,r="waypoints-waypoint-ids",s="waypoint",t="waypoints",f=function(){function a(a){var b=this;this.$element=a,this.element=a[0],this.didResize=!1,this.didScroll=!1,this.id="context"+i++,this.oldScroll={x:a.scrollLeft(),y:a.scrollTop()},this.waypoints={horizontal:{},vertical:{}},a.data(j,this.id),k[this.id]=this,a.bind(p,function(){var a;return b.didScroll||l?void 0:(b.didScroll=!0,a=function(){return b.doScroll(),b.didScroll=!1},d.setTimeout(a,c[t].settings.scrollThrottle))}),a.bind(o,function(){var a;return b.didResize?void 0:(b.didResize=!0,a=function(){return c[t]("refresh"),b.didResize=!1},d.setTimeout(a,c[t].settings.resizeThrottle))})}return a.prototype.doScroll=function(){var a,b=this;return a={horizontal:{newScroll:this.$element.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.$element.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}},!l||a.vertical.oldScroll&&a.vertical.newScroll||c[t]("refresh"),c.each(a,function(a,d){var e,f,g;return g=[],f=d.newScroll>d.oldScroll,e=f?d.forward:d.backward,c.each(b.waypoints[a],function(a,b){var c,e;return d.oldScroll<(c=b.offset)&&c<=d.newScroll?g.push(b):d.newScroll<(e=b.offset)&&e<=d.oldScroll?g.push(b):void 0}),g.sort(function(a,b){return a.offset-b.offset}),f||g.reverse(),c.each(g,function(a,b){return b.options.continuous||a===g.length-1?b.trigger([e]):void 0})}),this.oldScroll={x:a.horizontal.newScroll,y:a.vertical.newScroll}},a.prototype.refresh=function(){var a,b,d,e=this;return d=c.isWindow(this.element),b=this.$element.offset(),this.doScroll(),a={horizontal:{contextOffset:d?0:b.left,contextScroll:d?0:this.oldScroll.x,contextDimension:this.$element.width(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:d?0:b.top,contextScroll:d?0:this.oldScroll.y,contextDimension:d?c[t]("viewportHeight"):this.$element.height(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}},c.each(a,function(a,b){return c.each(e.waypoints[a],function(a,d){var e,f,g,h,i;return e=d.options.offset,g=d.offset,f=c.isWindow(d.element)?0:d.$element.offset()[b.offsetProp],c.isFunction(e)?e=e.apply(d.element):"string"==typeof e&&(e=parseFloat(e),d.options.offset.indexOf("%")>-1&&(e=Math.ceil(b.contextDimension*e/100))),d.offset=f-b.contextOffset+b.contextScroll-e,d.options.onlyOnScroll&&null!=g||!d.enabled?void 0:null!==g&&g<(h=b.oldScroll)&&h<=d.offset?d.trigger([b.backward]):null!==g&&g>(i=b.oldScroll)&&i>=d.offset?d.trigger([b.forward]):null===g&&b.oldScroll>=d.offset?d.trigger([b.forward]):void 0})})},a.prototype.checkEmpty=function(){return c.isEmptyObject(this.waypoints.horizontal)&&c.isEmptyObject(this.waypoints.vertical)?(this.$element.unbind([o,p].join(" ")),delete k[this.id]):void 0},a}(),g=function(){function a(a,b,d){var e,f;d=c.extend({},c.fn[s].defaults,d),"bottom-in-view"===d.offset&&(d.offset=function(){var a;return a=c[t]("viewportHeight"),c.isWindow(b.element)||(a=b.$element.height()),a-c(this).outerHeight()}),this.$element=a,this.element=a[0],this.axis=d.horizontal?"horizontal":"vertical",this.callback=d.handler,this.context=b,this.enabled=d.enabled,this.id="waypoints"+q++,this.offset=null,this.options=d,b.waypoints[this.axis][this.id]=this,h[this.axis][this.id]=this,e=null!=(f=a.data(r))?f:[],e.push(this.id),a.data(r,e)}return a.prototype.trigger=function(a){return this.enabled?(null!=this.callback&&this.callback.apply(this.element,a),this.options.triggerOnce?this.destroy():void 0):void 0},a.prototype.disable=function(){return this.enabled=!1},a.prototype.enable=function(){return this.context.refresh(),this.enabled=!0},a.prototype.destroy=function(){return delete h[this.axis][this.id],delete this.context.waypoints[this.axis][this.id],this.context.checkEmpty()},a.getWaypointsByElement=function(a){var b,d;return(d=c(a).data(r))?(b=c.extend({},h.horizontal,h.vertical),c.map(d,function(a){return b[a]})):[]},a}(),n={init:function(a,b){var d;return null==b&&(b={}),null==(d=b.handler)&&(b.handler=a),this.each(function(){var a,d,e,h;return a=c(this),e=null!=(h=b.context)?h:c.fn[s].defaults.context,c.isWindow(e)||(e=a.closest(e)),e=c(e),d=k[e.data(j)],d||(d=new f(e)),new g(a,d,b)}),c[t]("refresh"),this},disable:function(){return n._invoke(this,"disable")},enable:function(){return n._invoke(this,"enable")},destroy:function(){return n._invoke(this,"destroy")},prev:function(a,b){return n._traverse.call(this,a,b,function(a,b,c){return b>0?a.push(c[b-1]):void 0})},next:function(a,b){return n._traverse.call(this,a,b,function(a,b,c){return b<c.length-1?a.push(c[b+1]):void 0})},_traverse:function(a,b,e){var f,g;return null==a&&(a="vertical"),null==b&&(b=d),g=m.aggregate(b),f=[],this.each(function(){var b;return b=c.inArray(this,g[a]),e(f,b,g[a])}),this.pushStack(f)},_invoke:function(a,b){return a.each(function(){var a;return a=g.getWaypointsByElement(this),c.each(a,function(a,c){return c[b](),!0})}),this}},c.fn[s]=function(){var a,d;return d=arguments[0],a=2<=arguments.length?b.call(arguments,1):[],n[d]?n[d].apply(this,a):c.isFunction(d)?n.init.apply(this,arguments):c.isPlainObject(d)?n.init.apply(this,[null,d]):d?c.error("The "+d+" method does not exist in jQuery Waypoints."):c.error("jQuery Waypoints needs a callback function or handler option.")},c.fn[s].defaults={context:d,continuous:!0,enabled:!0,horizontal:!1,offset:0,triggerOnce:!1},m={refresh:function(){return c.each(k,function(a,b){return b.refresh()})},viewportHeight:function(){var a;return null!=(a=d.innerHeight)?a:e.height()},aggregate:function(a){var b,d,e;return b=h,a&&(b=null!=(e=k[c(a).data(j)])?e.waypoints:void 0),b?(d={horizontal:[],vertical:[]},c.each(d,function(a,e){return c.each(b[a],function(a,b){return e.push(b)}),e.sort(function(a,b){return a.offset-b.offset}),d[a]=c.map(e,function(a){return a.element}),d[a]=c.unique(d[a])}),d):[]},above:function(a){return null==a&&(a=d),m._filter(a,"vertical",function(a,b){return b.offset<=a.oldScroll.y})},below:function(a){return null==a&&(a=d),m._filter(a,"vertical",function(a,b){return b.offset>a.oldScroll.y})},left:function(a){return null==a&&(a=d),m._filter(a,"horizontal",function(a,b){return b.offset<=a.oldScroll.x})},right:function(a){return null==a&&(a=d),m._filter(a,"horizontal",function(a,b){return b.offset>a.oldScroll.x})},enable:function(){return m._invoke("enable")},disable:function(){return m._invoke("disable")},destroy:function(){return m._invoke("destroy")},extendFn:function(a,b){return n[a]=b},_invoke:function(a){var b;return b=c.extend({},h.vertical,h.horizontal),c.each(b,function(b,c){return c[a](),!0})},_filter:function(a,b,d){var e,f;return(e=k[c(a).data(j)])?(f=[],c.each(e.waypoints[b],function(a,b){return d(e,b)?f.push(b):void 0}),f.sort(function(a,b){return a.offset-b.offset}),c.map(f,function(a){return a.element})):[]}},c[t]=function(){var a,c;return c=arguments[0],a=2<=arguments.length?b.call(arguments,1):[],m[c]?m[c].apply(null,a):m.aggregate.call(null,c)},c[t].settings={resizeThrottle:100,scrollThrottle:30},e.load(function(){return c[t]("refresh")})})}.call(this),function(){!function(a,b){return"function"==typeof define&&define.amd?define(["jquery","waypoints"],b):b(a.jQuery)}(this,function(a){var b,c;return b={wrapper:'<div class="sticky-wrapper" />',stuckClass:"stuck"},c=function(a,b){return a.wrap(b.wrapper),a.parent()},a.waypoints("extendFn","sticky",function(d){var e,f,g;return f=a.extend({},a.fn.waypoint.defaults,b,d),e=c(this,f),g=f.handler,f.handler=function(b){var c,d;return c=a(this).children(":first"),d="down"===b||"right"===b,c.toggleClass(f.stuckClass,d),e.height(d?c.outerHeight():""),null!=g?g.call(this,b):void 0},e.waypoint(f),this.data("stuckClass",f.stuckClass)}),a.waypoints("extendFn","unsticky",function(){return this.parent().waypoint("destroy"),this.unwrap(),this.removeClass(this.data("stuckClass"))})})}.call(this),function(a){a.fn.unveil=function(b,c){function d(){var b=j.filter(function(){var b=a(this),c=f.scrollTop(),d=c+f.height(),e=b.offset().top,h=e+b.height();return h>=c-g&&d+g>=e});e=b.trigger("unveil"),j=j.not(e)}var e,f=a(window),g=b||0,h=window.devicePixelRatio>1,i=h?"data-src-retina":"data-src",j=this;return this.one("unveil",function(){var a=this.getAttribute(i);a=a||this.getAttribute("data-src"),a&&(this.setAttribute("src",a),"function"==typeof c&&c.call(this))}),f.scroll(d),f.resize(d),d(),this}}(window.jQuery||window.Zepto),function(a,b,c,d){if(!a("#contact-map").length)return!1;if("undefined"!=typeof google){var e=function(){var a=new google.maps.LatLng(6.4831,3.357714),b=new google.maps.LatLng(9.0666667,7.4833333),d=new google.maps.LatLng(7.396389,3.916667),e=new google.maps.LatLngBounds(a,b,d),f={zoom:14,center:a,scrollwheel:!1,styles:[{featureType:"water",stylers:[{saturation:43},{lightness:-11},{hue:"#0088ff"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{hue:"#ff0000"},{saturation:-100},{lightness:99}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#808080"},{lightness:54}]},{featureType:"landscape.man_made",elementType:"geometry.fill",stylers:[{color:"#ece2d9"}]},{featureType:"poi.park",elementType:"geometry.fill",stylers:[{color:"#ccdca1"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#767676"}]},{featureType:"road",elementType:"labels.text.stroke",stylers:[{color:"#ffffff"}]},{featureType:"poi",stylers:[{visibility:"off"}]},{featureType:"landscape.natural",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#b8cb93"}]},{featureType:"poi.park",stylers:[{visibility:"on"}]},{featureType:"poi.sports_complex",stylers:[{visibility:"on"}]},{featureType:"poi.medical",stylers:[{visibility:"on"}]},{featureType:"poi.business",stylers:[{visibility:"simplified"}]}]},g=new google.maps.Map(c.getElementById("contact-map"),f);g.fitBounds(e);var h='<div id="content"><div id="siteNotice"></div><h3 id="firstHeading" class="firstHeading">Lagos Office</h3><div id="bodyContent"><p><b>VConnect Global Services Ltd</b>, 44, Eric Moore Road, Surulere, <br>Lagos 101283, Nigeria. Contact Number: 07080700700</p></div></div>',i='<div id="content"><div id="siteNotice"></div><h3 id="firstHeading" class="firstHeading">Abuja Office</h3><div id="bodyContent"><p><b>VConnect Global Services Ltd</b>, 2 ,Leventis Close, Central Business District, <br>Abuja, Nigeria. Contact Number: 07080700700</p></div></div>',j='<div id="content"><div id="siteNotice"></div><h3 id="firstHeading" class="firstHeading">Ibadan Office</h3><div id="bodyContent"><p><b>VConnect Global Services Ltd</b>, 5 ,Comrade Ola Oyebola Street, Ibadan South-West, <br>Oyo, Nigeria. Contact Number: 07080700700</p></div></div>',k={lagInfo:new google.maps.InfoWindow({content:h}),abjInfo:new google.maps.InfoWindow({content:i}),ibaInfo:new google.maps.InfoWindow({content:j})},l="/img/vconnect-map.png",m=new google.maps.Marker({position:a,map:g,animation:google.maps.Animation.DROP,title:"VConnect Head Office",icon:l}),n=new google.maps.Marker({position:b,map:g,animation:google.maps.Animation.DROP,title:"VConnect Abuja Office",icon:l}),o=new google.maps.Marker({position:d,map:g,animation:google.maps.Animation.DROP,title:"VConnect Ibadan Office",icon:l});k.lagInfo.open(g,m),google.maps.event.addListener(m,"click",function(){k.lagInfo.open(g,m)}),google.maps.event.addListener(n,"click",function(){k.abjInfo.open(g,n)}),google.maps.event.addListener(o,"click",function(){k.ibaInfo.open(g,o)})};google.maps.event.addDomListener(b,"load",e)}}(jQuery,window,document),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a("object"==typeof exports?require("jquery"):jQuery)}(function(a){function b(a){return h.raw?a:encodeURIComponent(a)}function c(a){return h.raw?a:decodeURIComponent(a)}function d(a){return b(h.json?JSON.stringify(a):String(a))}function e(a){0===a.indexOf('"')&&(a=a.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return a=decodeURIComponent(a.replace(g," ")),h.json?JSON.parse(a):a}catch(b){}}function f(b,c){var d=h.raw?b:e(b);return a.isFunction(c)?c(d):d}var g=/\+/g,h=a.cookie=function(e,g,i){if(void 0!==g&&!a.isFunction(g)){if(i=a.extend({},h.defaults,i),"number"==typeof i.expires){var j=i.expires,k=i.expires=new Date;k.setTime(+k+864e5*j)}return document.cookie=[b(e),"=",d(g),i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("")}for(var l=e?void 0:{},m=document.cookie?document.cookie.split("; "):[],n=0,o=m.length;o>n;n++){var p=m[n].split("="),q=c(p.shift()),r=p.join("=");if(e&&e===q){l=f(r,g);break}e||void 0===(r=f(r))||(l[q]=r)}return l};h.defaults={},a.removeCookie=function(b,c){return void 0===a.cookie(b)?!1:(a.cookie(b,"",a.extend({},c,{expires:-1})),!a.cookie(b))}}),function(a){var b={},c={mode:"horizontal",slideSelector:"",infiniteLoop:!0,hideControlOnEnd:!1,speed:500,easing:null,slideMargin:0,startSlide:0,randomStart:!1,captions:!1,ticker:!1,tickerHover:!1,adaptiveHeight:!1,adaptiveHeightSpeed:500,video:!1,useCSS:!0,preloadImages:"visible",responsive:!0,slideZIndex:50,wrapperClass:"bx-wrapper",touchEnabled:!0,swipeThreshold:50,oneToOneTouch:!0,preventDefaultSwipeX:!0,preventDefaultSwipeY:!1,pager:!0,pagerType:"full",pagerShortSeparator:" / ",pagerSelector:null,buildPager:null,pagerCustom:null,controls:!0,nextText:"Next",prevText:"Prev",nextSelector:null,prevSelector:null,autoControls:!1,startText:"Start",stopText:"Stop",autoControlsCombine:!1,autoControlsSelector:null,auto:!1,pause:4e3,autoStart:!0,autoDirection:"next",autoHover:!1,autoDelay:0,autoSlideForOnePage:!1,minSlides:1,maxSlides:1,moveSlides:0,slideWidth:0,onSliderLoad:function(){},onSlideBefore:function(){},onSlideAfter:function(){},onSlideNext:function(){},onSlidePrev:function(){},onSliderResize:function(){}};a.fn.bxSlider=function(d){if(0==this.length)return this;if(this.length>1)return this.each(function(){a(this).bxSlider(d)}),this;var e={},f=this;b.el=this;var g=a(window).width(),h=a(window).height(),j=function(){e.settings=a.extend({},c,d),e.settings.slideWidth=parseInt(e.settings.slideWidth),e.children=f.children(e.settings.slideSelector),e.children.length<e.settings.minSlides&&(e.settings.minSlides=e.children.length),e.children.length<e.settings.maxSlides&&(e.settings.maxSlides=e.children.length),e.settings.randomStart&&(e.settings.startSlide=Math.floor(Math.random()*e.children.length)),e.active={index:e.settings.startSlide},e.carousel=e.settings.minSlides>1||e.settings.maxSlides>1,e.carousel&&(e.settings.preloadImages="all"),e.minThreshold=e.settings.minSlides*e.settings.slideWidth+(e.settings.minSlides-1)*e.settings.slideMargin,e.maxThreshold=e.settings.maxSlides*e.settings.slideWidth+(e.settings.maxSlides-1)*e.settings.slideMargin,e.working=!1,e.controls={},e.interval=null,e.animProp="vertical"==e.settings.mode?"top":"left",e.usingCSS=e.settings.useCSS&&"fade"!=e.settings.mode&&function(){var a=document.createElement("div"),b=["WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var c in b)if(void 0!==a.style[b[c]])return e.cssPrefix=b[c].replace("Perspective","").toLowerCase(),e.animProp="-"+e.cssPrefix+"-transform",!0;return!1}(),"vertical"==e.settings.mode&&(e.settings.maxSlides=e.settings.minSlides),f.data("origStyle",f.attr("style")),f.children(e.settings.slideSelector).each(function(){a(this).data("origStyle",a(this).attr("style"))}),k()},k=function(){f.wrap('<div class="'+e.settings.wrapperClass+'"><div class="bx-viewport"></div></div>'),e.viewport=f.parent(),e.loader=a('<div class="bx-loading" />'),e.viewport.prepend(e.loader),f.css({width:"horizontal"==e.settings.mode?100*e.children.length+215+"%":"auto",position:"relative"}),e.usingCSS&&e.settings.easing?f.css("-"+e.cssPrefix+"-transition-timing-function",e.settings.easing):e.settings.easing||(e.settings.easing="swing");q();e.viewport.css({width:"100%",overflow:"hidden",position:"relative"}),e.viewport.parent().css({maxWidth:o()}),e.settings.pager||e.viewport.parent().css({margin:"0 auto 0px"}),e.children.css({"float":"horizontal"==e.settings.mode?"left":"none",listStyle:"none",position:"relative"}),e.children.css("width",p()),"horizontal"==e.settings.mode&&e.settings.slideMargin>0&&e.children.css("marginRight",e.settings.slideMargin),"vertical"==e.settings.mode&&e.settings.slideMargin>0&&e.children.css("marginBottom",e.settings.slideMargin),"fade"==e.settings.mode&&(e.children.css({position:"absolute",zIndex:0,display:"none"}),e.children.eq(e.settings.startSlide).css({zIndex:e.settings.slideZIndex,display:"block"})),e.controls.el=a('<div class="bx-controls" />'),e.settings.captions&&z(),e.active.last=e.settings.startSlide==r()-1,e.settings.video&&f.fitVids();var b=e.children.eq(e.settings.startSlide);"all"==e.settings.preloadImages&&(b=e.children),e.settings.ticker?e.settings.pager=!1:(e.settings.pager&&w(),e.settings.controls&&x(),e.settings.auto&&e.settings.autoControls&&y(),(e.settings.controls||e.settings.autoControls||e.settings.pager)&&e.viewport.after(e.controls.el)),l(b,m)},l=function(b,c){var d=b.find("img, iframe").length;if(0==d)return void c();var e=0;b.find("img, iframe").each(function(){a(this).one("load",function(){++e==d&&c()}).each(function(){this.complete&&a(this).load()})})},m=function(){if(e.settings.infiniteLoop&&"fade"!=e.settings.mode&&!e.settings.ticker){var b="vertical"==e.settings.mode?e.settings.minSlides:e.settings.maxSlides,c=e.children.slice(0,b).clone().addClass("bx-clone"),d=e.children.slice(-b).clone().addClass("bx-clone");f.append(c).prepend(d)}e.loader.remove(),t(),"vertical"==e.settings.mode&&(e.settings.adaptiveHeight=!0),e.viewport.height(n()),f.redrawSlider(),e.settings.onSliderLoad(e.active.index),e.initialized=!0,e.settings.responsive&&a(window).bind("resize",Q),e.settings.auto&&e.settings.autoStart&&(r()>1||e.settings.autoSlideForOnePage)&&J(),e.settings.ticker&&K(),e.settings.pager&&F(e.settings.startSlide),e.settings.controls&&I(),e.settings.touchEnabled&&!e.settings.ticker&&M()},n=function(){var b=0,c=a();if("vertical"==e.settings.mode||e.settings.adaptiveHeight)if(e.carousel){var d=1==e.settings.moveSlides?e.active.index:e.active.index*s();for(c=e.children.eq(d),i=1;i<=e.settings.maxSlides-1;i++)c=d+i>=e.children.length?c.add(e.children.eq(i-1)):c.add(e.children.eq(d+i))}else c=e.children.eq(e.active.index);else c=e.children;return"vertical"==e.settings.mode?(c.each(function(c){b+=a(this).outerHeight()}),e.settings.slideMargin>0&&(b+=e.settings.slideMargin*(e.settings.minSlides-1))):b=Math.max.apply(Math,c.map(function(){return a(this).outerHeight(!1)}).get()),"border-box"==e.viewport.css("box-sizing")?b+=parseFloat(e.viewport.css("padding-top"))+parseFloat(e.viewport.css("padding-bottom"))+parseFloat(e.viewport.css("border-top-width"))+parseFloat(e.viewport.css("border-bottom-width")):"padding-box"==e.viewport.css("box-sizing")&&(b+=parseFloat(e.viewport.css("padding-top"))+parseFloat(e.viewport.css("padding-bottom"))),b},o=function(){var a="100%";return e.settings.slideWidth>0&&(a="horizontal"==e.settings.mode?e.settings.maxSlides*e.settings.slideWidth+(e.settings.maxSlides-1)*e.settings.slideMargin:e.settings.slideWidth),a},p=function(){var a=e.settings.slideWidth,b=e.viewport.width();return 0==e.settings.slideWidth||e.settings.slideWidth>b&&!e.carousel||"vertical"==e.settings.mode?a=b:e.settings.maxSlides>1&&"horizontal"==e.settings.mode&&(b>e.maxThreshold||b<e.minThreshold&&(a=(b-e.settings.slideMargin*(e.settings.minSlides-1))/e.settings.minSlides)),a},q=function(){var a=1;if("horizontal"==e.settings.mode&&e.settings.slideWidth>0)if(e.viewport.width()<e.minThreshold)a=e.settings.minSlides;else if(e.viewport.width()>e.maxThreshold)a=e.settings.maxSlides;else{var b=e.children.first().width()+e.settings.slideMargin;a=Math.floor((e.viewport.width()+e.settings.slideMargin)/b)}else"vertical"==e.settings.mode&&(a=e.settings.minSlides);return a},r=function(){var a=0;if(e.settings.moveSlides>0)if(e.settings.infiniteLoop)a=Math.ceil(e.children.length/s());else for(var b=0,c=0;b<e.children.length;)++a,b=c+q(),c+=e.settings.moveSlides<=q()?e.settings.moveSlides:q();else a=Math.ceil(e.children.length/q());return a},s=function(){return e.settings.moveSlides>0&&e.settings.moveSlides<=q()?e.settings.moveSlides:q()},t=function(){if(e.children.length>e.settings.maxSlides&&e.active.last&&!e.settings.infiniteLoop){if("horizontal"==e.settings.mode){var a=e.children.last(),b=a.position();u(-(b.left-(e.viewport.width()-a.outerWidth())),"reset",0)}else if("vertical"==e.settings.mode){var c=e.children.length-e.settings.minSlides,b=e.children.eq(c).position();u(-b.top,"reset",0)}}else{var b=e.children.eq(e.active.index*s()).position();e.active.index==r()-1&&(e.active.last=!0),void 0!=b&&("horizontal"==e.settings.mode?u(-b.left,"reset",0):"vertical"==e.settings.mode&&u(-b.top,"reset",0))}},u=function(a,b,c,d){if(e.usingCSS){var g="vertical"==e.settings.mode?"translate3d(0, "+a+"px, 0)":"translate3d("+a+"px, 0, 0)";f.css("-"+e.cssPrefix+"-transition-duration",c/1e3+"s"),"slide"==b?(f.css(e.animProp,g),f.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){f.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),G()})):"reset"==b?f.css(e.animProp,g):"ticker"==b&&(f.css("-"+e.cssPrefix+"-transition-timing-function","linear"),f.css(e.animProp,g),f.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){f.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),u(d.resetValue,"reset",0),L()}))}else{var h={};h[e.animProp]=a,"slide"==b?f.animate(h,c,e.settings.easing,function(){G()}):"reset"==b?f.css(e.animProp,a):"ticker"==b&&f.animate(h,speed,"linear",function(){u(d.resetValue,"reset",0),L()})}},v=function(){for(var b="",c=r(),d=0;c>d;d++){var f="";e.settings.buildPager&&a.isFunction(e.settings.buildPager)?(f=e.settings.buildPager(d),e.pagerEl.addClass("bx-custom-pager")):(f=d+1,e.pagerEl.addClass("bx-default-pager")),b+='<div class="bx-pager-item"><a href="" data-slide-index="'+d+'" class="bx-pager-link">'+f+"</a></div>"}e.pagerEl.html(b)},w=function(){e.settings.pagerCustom?e.pagerEl=a(e.settings.pagerCustom):(e.pagerEl=a('<div class="bx-pager" />'),e.settings.pagerSelector?a(e.settings.pagerSelector).html(e.pagerEl):e.controls.el.addClass("bx-has-pager").append(e.pagerEl),v()),e.pagerEl.on("click","a",E)},x=function(){e.controls.next=a('<a class="bx-next" href="">'+e.settings.nextText+"</a>"),e.controls.prev=a('<a class="bx-prev" href="">'+e.settings.prevText+"</a>"),e.controls.next.bind("click",A),e.controls.prev.bind("click",B),e.settings.nextSelector&&a(e.settings.nextSelector).append(e.controls.next),e.settings.prevSelector&&a(e.settings.prevSelector).append(e.controls.prev),e.settings.nextSelector||e.settings.prevSelector||(e.controls.directionEl=a('<div class="bx-controls-direction" />'),e.controls.directionEl.append(e.controls.prev).append(e.controls.next),e.controls.el.addClass("bx-has-controls-direction").append(e.controls.directionEl))},y=function(){e.controls.start=a('<div class="bx-controls-auto-item"><a class="bx-start" href="">'+e.settings.startText+"</a></div>"),e.controls.stop=a('<div class="bx-controls-auto-item"><a class="bx-stop" href="">'+e.settings.stopText+"</a></div>"),e.controls.autoEl=a('<div class="bx-controls-auto" />'),e.controls.autoEl.on("click",".bx-start",C),e.controls.autoEl.on("click",".bx-stop",D),e.settings.autoControlsCombine?e.controls.autoEl.append(e.controls.start):e.controls.autoEl.append(e.controls.start).append(e.controls.stop),e.settings.autoControlsSelector?a(e.settings.autoControlsSelector).html(e.controls.autoEl):e.controls.el.addClass("bx-has-controls-auto").append(e.controls.autoEl),H(e.settings.autoStart?"stop":"start")},z=function(){e.children.each(function(b){var c=a(this).find("img:first").attr("title");void 0!=c&&(""+c).length&&a(this).append('<div class="bx-caption"><span>'+c+"</span></div>")})},A=function(a){e.settings.auto&&f.stopAuto(),f.goToNextSlide(),a.preventDefault()},B=function(a){e.settings.auto&&f.stopAuto(),f.goToPrevSlide(),a.preventDefault()},C=function(a){f.startAuto(),a.preventDefault()},D=function(a){f.stopAuto(),a.preventDefault()},E=function(b){e.settings.auto&&f.stopAuto();var c=a(b.currentTarget);if(void 0!==c.attr("data-slide-index")){var d=parseInt(c.attr("data-slide-index"));d!=e.active.index&&f.goToSlide(d),b.preventDefault()}},F=function(b){var c=e.children.length;return"short"==e.settings.pagerType?(e.settings.maxSlides>1&&(c=Math.ceil(e.children.length/e.settings.maxSlides)),void e.pagerEl.html(b+1+e.settings.pagerShortSeparator+c)):(e.pagerEl.find("a").removeClass("active"),void e.pagerEl.each(function(c,d){a(d).find("a").eq(b).addClass("active")}))},G=function(){if(e.settings.infiniteLoop){var a="";0==e.active.index?a=e.children.eq(0).position():e.active.index==r()-1&&e.carousel?a=e.children.eq((r()-1)*s()).position():e.active.index==e.children.length-1&&(a=e.children.eq(e.children.length-1).position()),a&&("horizontal"==e.settings.mode?u(-a.left,"reset",0):"vertical"==e.settings.mode&&u(-a.top,"reset",0))}e.working=!1,e.settings.onSlideAfter(e.children.eq(e.active.index),e.oldIndex,e.active.index)},H=function(a){e.settings.autoControlsCombine?e.controls.autoEl.html(e.controls[a]):(e.controls.autoEl.find("a").removeClass("active"),e.controls.autoEl.find("a:not(.bx-"+a+")").addClass("active"))},I=function(){1==r()?(e.controls.prev.addClass("disabled"),e.controls.next.addClass("disabled")):!e.settings.infiniteLoop&&e.settings.hideControlOnEnd&&(0==e.active.index?(e.controls.prev.addClass("disabled"),e.controls.next.removeClass("disabled")):e.active.index==r()-1?(e.controls.next.addClass("disabled"),e.controls.prev.removeClass("disabled")):(e.controls.prev.removeClass("disabled"),e.controls.next.removeClass("disabled")))},J=function(){if(e.settings.autoDelay>0){setTimeout(f.startAuto,e.settings.autoDelay)}else f.startAuto();e.settings.autoHover&&f.hover(function(){e.interval&&(f.stopAuto(!0),e.autoPaused=!0)},function(){e.autoPaused&&(f.startAuto(!0),e.autoPaused=null)})},K=function(){var b=0;if("next"==e.settings.autoDirection)f.append(e.children.clone().addClass("bx-clone"));else{f.prepend(e.children.clone().addClass("bx-clone"));var c=e.children.first().position();b="horizontal"==e.settings.mode?-c.left:-c.top}u(b,"reset",0),e.settings.pager=!1,e.settings.controls=!1,e.settings.autoControls=!1,e.settings.tickerHover&&!e.usingCSS&&e.viewport.hover(function(){f.stop()},function(){var b=0;e.children.each(function(c){b+="horizontal"==e.settings.mode?a(this).outerWidth(!0):a(this).outerHeight(!0)});var c=e.settings.speed/b,d="horizontal"==e.settings.mode?"left":"top",g=c*(b-Math.abs(parseInt(f.css(d))));L(g)}),L()},L=function(a){speed=a?a:e.settings.speed;var b={left:0,top:0},c={left:0,top:0};"next"==e.settings.autoDirection?b=f.find(".bx-clone").first().position():c=e.children.first().position();var d="horizontal"==e.settings.mode?-b.left:-b.top,g="horizontal"==e.settings.mode?-c.left:-c.top,h={resetValue:g};u(d,"ticker",speed,h)},M=function(){e.touch={start:{x:0,y:0},end:{x:0,y:0}},e.viewport.bind("touchstart",N)},N=function(a){if(e.working)a.preventDefault();else{e.touch.originalPos=f.position();var b=a.originalEvent;e.touch.start.x=b.changedTouches[0].pageX,e.touch.start.y=b.changedTouches[0].pageY,e.viewport.bind("touchmove",O),e.viewport.bind("touchend",P)}},O=function(a){var b=a.originalEvent,c=Math.abs(b.changedTouches[0].pageX-e.touch.start.x),d=Math.abs(b.changedTouches[0].pageY-e.touch.start.y);if(3*c>d&&e.settings.preventDefaultSwipeX?a.preventDefault():3*d>c&&e.settings.preventDefaultSwipeY&&a.preventDefault(),"fade"!=e.settings.mode&&e.settings.oneToOneTouch){var f=0;if("horizontal"==e.settings.mode){var g=b.changedTouches[0].pageX-e.touch.start.x;f=e.touch.originalPos.left+g}else{var g=b.changedTouches[0].pageY-e.touch.start.y;f=e.touch.originalPos.top+g}u(f,"reset",0)}},P=function(a){e.viewport.unbind("touchmove",O);var b=a.originalEvent,c=0;if(e.touch.end.x=b.changedTouches[0].pageX,e.touch.end.y=b.changedTouches[0].pageY,"fade"==e.settings.mode){var d=Math.abs(e.touch.start.x-e.touch.end.x);d>=e.settings.swipeThreshold&&(e.touch.start.x>e.touch.end.x?f.goToNextSlide():f.goToPrevSlide(),f.stopAuto())}else{var d=0;"horizontal"==e.settings.mode?(d=e.touch.end.x-e.touch.start.x,c=e.touch.originalPos.left):(d=e.touch.end.y-e.touch.start.y,c=e.touch.originalPos.top),!e.settings.infiniteLoop&&(0==e.active.index&&d>0||e.active.last&&0>d)?u(c,"reset",200):Math.abs(d)>=e.settings.swipeThreshold?(0>d?f.goToNextSlide():f.goToPrevSlide(),f.stopAuto()):u(c,"reset",200)}e.viewport.unbind("touchend",P)},Q=function(b){if(e.initialized){var c=a(window).width(),d=a(window).height();(g!=c||h!=d)&&(g=c,h=d,f.redrawSlider(),e.settings.onSliderResize.call(f,e.active.index))}};return f.goToSlide=function(b,c){if(!e.working&&e.active.index!=b)if(e.working=!0,e.oldIndex=e.active.index,0>b?e.active.index=r()-1:b>=r()?e.active.index=0:e.active.index=b,e.settings.onSlideBefore(e.children.eq(e.active.index),e.oldIndex,e.active.index),"next"==c?e.settings.onSlideNext(e.children.eq(e.active.index),e.oldIndex,e.active.index):"prev"==c&&e.settings.onSlidePrev(e.children.eq(e.active.index),e.oldIndex,e.active.index),e.active.last=e.active.index>=r()-1,e.settings.pager&&F(e.active.index),e.settings.controls&&I(),"fade"==e.settings.mode)e.settings.adaptiveHeight&&e.viewport.height()!=n()&&e.viewport.animate({height:n()},e.settings.adaptiveHeightSpeed),e.children.filter(":visible").fadeOut(e.settings.speed).css({zIndex:0}),e.children.eq(e.active.index).css("zIndex",e.settings.slideZIndex+1).fadeIn(e.settings.speed,function(){a(this).css("zIndex",e.settings.slideZIndex),G()});else{e.settings.adaptiveHeight&&e.viewport.height()!=n()&&e.viewport.animate({height:n()},e.settings.adaptiveHeightSpeed);var d=0,g={left:0,top:0};if(!e.settings.infiniteLoop&&e.carousel&&e.active.last)if("horizontal"==e.settings.mode){var h=e.children.eq(e.children.length-1);g=h.position(),d=e.viewport.width()-h.outerWidth()}else{var i=e.children.length-e.settings.minSlides;g=e.children.eq(i).position()}else if(e.carousel&&e.active.last&&"prev"==c){var j=1==e.settings.moveSlides?e.settings.maxSlides-s():(r()-1)*s()-(e.children.length-e.settings.maxSlides),h=f.children(".bx-clone").eq(j);g=h.position()}else if("next"==c&&0==e.active.index)g=f.find("> .bx-clone").eq(e.settings.maxSlides).position(),e.active.last=!1;else if(b>=0){var k=b*s();g=e.children.eq(k).position()}if("undefined"!=typeof g){var l="horizontal"==e.settings.mode?-(g.left-d):-g.top;u(l,"slide",e.settings.speed)}}},f.goToNextSlide=function(){if(e.settings.infiniteLoop||!e.active.last){var a=parseInt(e.active.index)+1;f.goToSlide(a,"next")}},f.goToPrevSlide=function(){if(e.settings.infiniteLoop||0!=e.active.index){var a=parseInt(e.active.index)-1;f.goToSlide(a,"prev")}},f.startAuto=function(a){e.interval||(e.interval=setInterval(function(){"next"==e.settings.autoDirection?f.goToNextSlide():f.goToPrevSlide()},e.settings.pause),e.settings.autoControls&&1!=a&&H("stop"))},f.stopAuto=function(a){e.interval&&(clearInterval(e.interval),e.interval=null,e.settings.autoControls&&1!=a&&H("start"));
},f.getCurrentSlide=function(){return e.active.index},f.getCurrentSlideElement=function(){return e.children.eq(e.active.index)},f.getSlideCount=function(){return e.children.length},f.redrawSlider=function(){e.children.add(f.find(".bx-clone")).width(p()),e.viewport.css("height",n()),e.settings.ticker||t(),e.active.last&&(e.active.index=r()-1),e.active.index>=r()&&(e.active.last=!0),e.settings.pager&&!e.settings.pagerCustom&&(v(),F(e.active.index))},f.destroySlider=function(){e.initialized&&(e.initialized=!1,a(".bx-clone",this).remove(),e.children.each(function(){void 0!=a(this).data("origStyle")?a(this).attr("style",a(this).data("origStyle")):a(this).removeAttr("style")}),void 0!=a(this).data("origStyle")?this.attr("style",a(this).data("origStyle")):a(this).removeAttr("style"),a(this).unwrap().unwrap(),e.controls.el&&e.controls.el.remove(),e.controls.next&&e.controls.next.remove(),e.controls.prev&&e.controls.prev.remove(),e.pagerEl&&e.settings.controls&&e.pagerEl.remove(),a(".bx-caption",this).remove(),e.controls.autoEl&&e.controls.autoEl.remove(),clearInterval(e.interval),e.settings.responsive&&a(window).unbind("resize",Q))},f.reloadSlider=function(a){void 0!=a&&(d=a),f.destroySlider(),j()},j(),this}}(jQuery),function(){"use strict";function a(a){return a.split("").reverse().join("")}function b(a,b){return a.substring(0,b.length)===b}function c(a,b){return a.slice(-1*b.length)===b}function d(a,b,c){if((a[b]||a[c])&&a[b]===a[c])throw new Error(b)}function e(a){return"number"==typeof a&&isFinite(a)}function f(a,b){var c=Math.pow(10,b);return(Math.round(a*c)/c).toFixed(b)}function g(b,c,d,g,h,i,j,k,l,m,n,o){var p,q,r,s=o,t="",u="";return i&&(o=i(o)),e(o)?(b!==!1&&0===parseFloat(o.toFixed(b))&&(o=0),0>o&&(p=!0,o=Math.abs(o)),b!==!1&&(o=f(o,b)),o=o.toString(),-1!==o.indexOf(".")?(q=o.split("."),r=q[0],d&&(t=d+q[1])):r=o,c&&(r=a(r).match(/.{1,3}/g),r=a(r.join(a(c)))),p&&k&&(u+=k),g&&(u+=g),p&&l&&(u+=l),u+=r,u+=t,h&&(u+=h),m&&(u=m(u,s)),u):!1}function h(a,d,f,g,h,i,j,k,l,m,n,o){var p,q="";return n&&(o=n(o)),o&&"string"==typeof o?(k&&b(o,k)&&(o=o.replace(k,""),p=!0),g&&b(o,g)&&(o=o.replace(g,"")),l&&b(o,l)&&(o=o.replace(l,""),p=!0),h&&c(o,h)&&(o=o.slice(0,-1*h.length)),d&&(o=o.split(d).join("")),f&&(o=o.replace(f,".")),p&&(q+="-"),q+=o,q=q.replace(/[^0-9\.\-.]/g,""),""===q?!1:(q=Number(q),j&&(q=j(q)),e(q)?q:!1)):!1}function i(a){var b,c,e,f={};for(b=0;b<l.length;b+=1)if(c=l[b],e=a[c],void 0===e)"negative"!==c||f.negativeBefore?"mark"===c&&"."!==f.thousand?f[c]=".":f[c]=!1:f[c]="-";else if("decimals"===c){if(!(e>=0&&8>e))throw new Error(c);f[c]=e}else if("encoder"===c||"decoder"===c||"edit"===c||"undo"===c){if("function"!=typeof e)throw new Error(c);f[c]=e}else{if("string"!=typeof e)throw new Error(c);f[c]=e}return d(f,"mark","thousand"),d(f,"prefix","negative"),d(f,"prefix","negativeBefore"),f}function j(a,b,c){var d,e=[];for(d=0;d<l.length;d+=1)e.push(a[l[d]]);return e.push(c),b.apply("",e)}function k(a){return this instanceof k?void("object"==typeof a&&(a=i(a),this.to=function(b){return j(a,g,b)},this.from=function(b){return j(a,h,b)})):new k(a)}var l=["decimals","thousand","mark","prefix","postfix","encoder","decoder","negativeBefore","negative","edit","undo"];window.wNumb=k}(),function(a){"use strict";function b(b){return b instanceof a||a.zepto&&a.zepto.isZ(b)}function c(b,c){return"string"==typeof b&&0===b.indexOf("-inline-")?(this.method=c||"html",this.target=this.el=a(b.replace("-inline-","")||"<div/>"),!0):void 0}function d(b){if("string"==typeof b&&0!==b.indexOf("-")){this.method="val";var c=document.createElement("input");return c.name=b,c.type="hidden",this.target=this.el=a(c),!0}}function e(a){return"function"==typeof a?(this.target=!1,this.method=a,!0):void 0}function f(a,c){return b(a)&&!c?(a.is("input, select, textarea")?(this.method="val",this.target=a.on("change.liblink",this.changeHandler)):(this.target=a,this.method="html"),!0):void 0}function g(a,c){return b(a)&&("function"==typeof c||"string"==typeof c&&a[c])?(this.method=c,this.target=a,!0):void 0}function h(b,c,d){var e=this,f=!1;if(this.changeHandler=function(b){var c=e.formatInstance.from(a(this).val());return c===!1||isNaN(c)?(a(this).val(e.lastSetValue),!1):void e.changeHandlerMethod.call("",b,c)},this.el=!1,this.formatInstance=d,a.each(k,function(a,d){return f=d.call(e,b,c),!f}),!f)throw new RangeError("(Link) Invalid Link.")}function i(a){this.items=[],this.elements=[],this.origin=a}function j(b,c,d,e){0===b&&(b=this.LinkDefaultFlag),this.linkAPI||(this.linkAPI={}),this.linkAPI[b]||(this.linkAPI[b]=new i(this));var f=new h(c,d,e||this.LinkDefaultFormatter);f.target||(f.target=a(this)),f.changeHandlerMethod=this.LinkConfirm(b,f.el),this.linkAPI[b].push(f,f.el),this.LinkUpdate(b)}var k=[c,d,e,f,g];h.prototype.set=function(a){var b=Array.prototype.slice.call(arguments),c=b.slice(1);this.lastSetValue=this.formatInstance.to(a),c.unshift(this.lastSetValue),("function"==typeof this.method?this.method:this.target[this.method]).apply(this.target,c)},i.prototype.push=function(a,b){this.items.push(a),b&&this.elements.push(b)},i.prototype.reconfirm=function(a){var b;for(b=0;b<this.elements.length;b+=1)this.origin.LinkConfirm(a,this.elements[b])},i.prototype.remove=function(a){var b;for(b=0;b<this.items.length;b+=1)this.items[b].target.off(".liblink");for(b=0;b<this.elements.length;b+=1)this.elements[b].remove()},i.prototype.change=function(a){if(this.origin.LinkIsEmitting)return!1;this.origin.LinkIsEmitting=!0;var b,c=Array.prototype.slice.call(arguments,1);for(c.unshift(a),b=0;b<this.items.length;b+=1)this.items[b].set.apply(this.items[b],c);this.origin.LinkIsEmitting=!1},a.fn.Link=function(b){var c=this;if(b===!1)return c.each(function(){this.linkAPI&&(a.map(this.linkAPI,function(a){a.remove()}),delete this.linkAPI)});if(void 0===b)b=0;else if("string"!=typeof b)throw new Error("Flag must be string.");return{to:function(a,d,e){return c.each(function(){j.call(this,b,a,d,e)})}}}}(window.jQuery||window.Zepto),function(a){"use strict";function b(b){return a.grep(b,function(c,d){return d===a.inArray(c,b)})}function c(a,b){return Math.round(a/b)*b}function d(a){return"number"==typeof a&&!isNaN(a)&&isFinite(a)}function e(a){var b=Math.pow(10,7);return Number((Math.round(a*b)/b).toFixed(7))}function f(a,b,c){a.addClass(b),setTimeout(function(){a.removeClass(b)},c)}function g(a){return Math.max(Math.min(a,100),0)}function h(b){return a.isArray(b)?b:[b]}function i(a){var b=a.split(".");return b.length>1?b[1].length:0}function j(a,b){return 100/(b-a)}function k(a,b){return 100*b/(a[1]-a[0])}function l(a,b){return k(a,a[0]<0?b+Math.abs(a[0]):b-a[0])}function m(a,b){return b*(a[1]-a[0])/100+a[0]}function n(a,b){for(var c=1;a>=b[c];)c+=1;return c}function o(a,b,c){if(c>=a.slice(-1)[0])return 100;var d,e,f,g,h=n(c,a);return d=a[h-1],e=a[h],f=b[h-1],g=b[h],f+l([d,e],c)/j(f,g)}function p(a,b,c){if(c>=100)return a.slice(-1)[0];var d,e,f,g,h=n(c,b);return d=a[h-1],e=a[h],f=b[h-1],g=b[h],m([d,e],(c-f)*j(f,g))}function q(a,b,d,e){if(100===e)return e;var f,g,h=n(e,a);return d?(f=a[h-1],g=a[h],e-f>(g-f)/2?g:f):b[h-1]?a[h-1]+c(e-a[h-1],b[h-1]):e}function r(a,b,c){var e;if("number"==typeof b&&(b=[b]),"[object Array]"!==Object.prototype.toString.call(b))throw new Error("noUiSlider: 'range' contains invalid value.");if(e="min"===a?0:"max"===a?100:parseFloat(a),!d(e)||!d(b[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");c.xPct.push(e),c.xVal.push(b[0]),e?c.xSteps.push(isNaN(b[1])?!1:b[1]):isNaN(b[1])||(c.xSteps[0]=b[1])}function s(a,b,c){return b?void(c.xSteps[a]=k([c.xVal[a],c.xVal[a+1]],b)/j(c.xPct[a],c.xPct[a+1])):!0}function t(a,b,c,d){this.xPct=[],this.xVal=[],this.xSteps=[d||!1],this.xNumSteps=[!1],this.snap=b,this.direction=c;var e,f=[];for(e in a)a.hasOwnProperty(e)&&f.push([a[e],e]);for(f.sort(function(a,b){return a[0]-b[0]}),e=0;e<f.length;e++)r(f[e][1],f[e][0],this);for(this.xNumSteps=this.xSteps.slice(0),e=0;e<this.xNumSteps.length;e++)s(e,this.xNumSteps[e],this)}function u(a,b){if(!d(b))throw new Error("noUiSlider: 'step' is not numeric.");a.singleStep=b}function v(b,c){if("object"!=typeof c||a.isArray(c))throw new Error("noUiSlider: 'range' is not an object.");if(void 0===c.min||void 0===c.max)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");b.spectrum=new t(c,b.snap,b.dir,b.singleStep)}function w(b,c){if(c=h(c),!a.isArray(c)||!c.length||c.length>2)throw new Error("noUiSlider: 'start' option is incorrect.");b.handles=c.length,b.start=c}function x(a,b){if(a.snap=b,"boolean"!=typeof b)throw new Error("noUiSlider: 'snap' option must be a boolean.")}function y(a,b){if(a.animate=b,"boolean"!=typeof b)throw new Error("noUiSlider: 'animate' option must be a boolean.")}function z(a,b){if("lower"===b&&1===a.handles)a.connect=1;else if("upper"===b&&1===a.handles)a.connect=2;else if(b===!0&&2===a.handles)a.connect=3;else{if(b!==!1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");a.connect=0}}function A(a,b){switch(b){case"horizontal":a.ort=0;break;case"vertical":a.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function B(a,b){if(!d(b))throw new Error("noUiSlider: 'margin' option must be numeric.");if(a.margin=a.spectrum.getMargin(b),!a.margin)throw new Error("noUiSlider: 'margin' option is only supported on linear sliders.")}function C(a,b){if(!d(b))throw new Error("noUiSlider: 'limit' option must be numeric.");if(a.limit=a.spectrum.getMargin(b),!a.limit)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders.")}function D(a,b){switch(b){case"ltr":a.dir=0;break;case"rtl":a.dir=1,a.connect=[0,2,1,3][a.connect];break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function E(a,b){if("string"!=typeof b)throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var c=b.indexOf("tap")>=0,d=b.indexOf("drag")>=0,e=b.indexOf("fixed")>=0,f=b.indexOf("snap")>=0;a.events={tap:c||f,drag:d,fixed:e,snap:f}}function F(a,b){if(a.format=b,"function"==typeof b.to&&"function"==typeof b.from)return!0;throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.")}function G(b){var c,d={margin:0,limit:0,animate:!0,format:Z};return c={step:{r:!1,t:u},start:{r:!0,t:w},connect:{r:!0,t:z},direction:{r:!0,t:D},snap:{r:!1,t:x},animate:{r:!1,t:y},range:{r:!0,t:v},orientation:{r:!1,t:A},margin:{r:!1,t:B},limit:{r:!1,t:C},behaviour:{r:!0,t:E},format:{r:!1,t:F}},b=a.extend({connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal"},b),a.each(c,function(a,c){if(void 0===b[a]){if(c.r)throw new Error("noUiSlider: '"+a+"' is required.");return!0}c.t(d,b[a])}),d.style=d.ort?"top":"left",d}function H(a,b,c){var d=a+b[0],e=a+b[1];return c?(0>d&&(e+=Math.abs(d)),e>100&&(d-=e-100),[g(d),g(e)]):[d,e]}function I(a){a.preventDefault();var b,c,d=0===a.type.indexOf("touch"),e=0===a.type.indexOf("mouse"),f=0===a.type.indexOf("pointer"),g=a;return 0===a.type.indexOf("MSPointer")&&(f=!0),a.originalEvent&&(a=a.originalEvent),d&&(b=a.changedTouches[0].pageX,c=a.changedTouches[0].pageY),(e||f)&&(f||void 0!==window.pageXOffset||(window.pageXOffset=document.documentElement.scrollLeft,window.pageYOffset=document.documentElement.scrollTop),b=a.clientX+window.pageXOffset,c=a.clientY+window.pageYOffset),g.points=[b,c],g.cursor=e,g}function J(b,c){var d=a("<div><div/></div>").addClass(Y[2]),e=["-lower","-upper"];return b&&e.reverse(),d.children().addClass(Y[3]+" "+Y[3]+e[c]),d}function K(a,b,c){switch(a){case 1:b.addClass(Y[7]),c[0].addClass(Y[6]);break;case 3:c[1].addClass(Y[6]);case 2:c[0].addClass(Y[7]);case 0:b.addClass(Y[6])}}function L(a,b,c){var d,e=[];for(d=0;a>d;d+=1)e.push(J(b,d).appendTo(c));return e}function M(b,c,d){return d.addClass([Y[0],Y[8+b],Y[4+c]].join(" ")),a("<div/>").appendTo(d).addClass(Y[1])}function N(b,c,d){function e(){return C[["width","height"][c.ort]]()}function j(a){var b,c=[E.val()];for(b=0;b<a.length;b+=1)E.trigger(a[b],c)}function k(a){return 1===a.length?a[0]:c.dir?a.reverse():a}function l(a){return function(b,c){E.val([a?null:c,a?c:null],!0)}}function m(b){var c=a.inArray(b,N);E[0].linkAPI&&E[0].linkAPI[b]&&E[0].linkAPI[b].change(J[c],D[c].children(),E)}function n(b,d){var e=a.inArray(b,N);return d&&d.appendTo(D[e].children()),c.dir&&c.handles>1&&(e=1===e?0:1),l(e)}function o(){var a,b;for(a=0;a<N.length;a+=1)this.linkAPI&&this.linkAPI[b=N[a]]&&this.linkAPI[b].reconfirm(b)}function p(a,b,d,e){return a=a.replace(/\s/g,W+" ")+W,b.on(a,function(a){return E.attr("disabled")?!1:E.hasClass(Y[14])?!1:(a=I(a),a.calcPoint=a.points[c.ort],void d(a,e))})}function q(a,b){var c,d=b.handles||D,f=!1,g=100*(a.calcPoint-b.start)/e(),h=d[0][0]!==D[0][0]?1:0;c=H(g,b.positions,d.length>1),f=v(d[0],c[h],1===d.length),d.length>1&&(f=v(d[1],c[h?0:1],!1)||f),f&&j(["slide"])}function r(b){a("."+Y[15]).removeClass(Y[15]),b.cursor&&a("body").css("cursor","").off(W),U.off(W),E.removeClass(Y[12]),j(["set","change"])}function s(b,c){1===c.handles.length&&c.handles[0].children().addClass(Y[15]),b.stopPropagation(),p(X.move,U,q,{start:b.calcPoint,handles:c.handles,positions:[F[0],F[D.length-1]]}),p(X.end,U,r,null),b.cursor&&(a("body").css("cursor",a(b.target).css("cursor")),D.length>1&&E.addClass(Y[12]),a("body").on("selectstart"+W,!1))}function t(b){var d,g=b.calcPoint,h=0;b.stopPropagation(),a.each(D,function(){h+=this.offset()[c.style]}),h=h/2>g||1===D.length?0:1,g-=C.offset()[c.style],d=100*g/e(),c.events.snap||f(E,Y[14],300),v(D[h],d),j(["slide","set","change"]),c.events.snap&&s(b,{handles:[D[h]]})}function u(a){var b,c;if(!a.fixed)for(b=0;b<D.length;b+=1)p(X.start,D[b].children(),s,{handles:[D[b]]});a.tap&&p(X.start,C,t,{handles:D}),a.drag&&(c=C.find("."+Y[7]).addClass(Y[10]),a.fixed&&(c=c.add(C.children().not(c).children())),p(X.start,c,s,{handles:D}))}function v(a,b,d){var e=a[0]!==D[0][0]?1:0,f=F[0]+c.margin,h=F[1]-c.margin,i=F[0]+c.limit,j=F[1]-c.limit;return D.length>1&&(b=e?Math.max(b,f):Math.min(b,h)),d!==!1&&c.limit&&D.length>1&&(b=e?Math.min(b,i):Math.max(b,j)),b=G.getStep(b),b=g(parseFloat(b.toFixed(7))),b===F[e]?!1:(a.css(c.style,b+"%"),a.is(":first-child")&&a.toggleClass(Y[17],b>50),F[e]=b,J[e]=G.fromStepping(b),m(N[e]),!0)}function w(a,b){var d,e,f;for(c.limit&&(a+=1),d=0;a>d;d+=1)e=d%2,f=b[e],null!==f&&f!==!1&&("number"==typeof f&&(f=String(f)),f=c.format.from(f),(f===!1||isNaN(f)||v(D[e],G.toStepping(f),d===3-c.dir)===!1)&&m(N[e]))}function x(a){if(E[0].LinkIsEmitting)return this;var b,d=h(a);return c.dir&&c.handles>1&&d.reverse(),c.animate&&-1!==F[0]&&f(E,Y[14],300),b=D.length>1?3:1,1===d.length&&(b=1),w(b,d),j(["set"]),this}function y(){var a,b=[];for(a=0;a<c.handles;a+=1)b[a]=c.format.to(J[a]);return k(b)}function z(){return a(this).off(W).removeClass(Y.join(" ")).empty(),delete this.LinkUpdate,delete this.LinkConfirm,delete this.LinkDefaultFormatter,delete this.LinkDefaultFlag,delete this.reappend,delete this.vGet,delete this.vSet,delete this.getCurrentStep,delete this.getInfo,delete this.destroy,d}function A(){var b=a.map(F,function(a,b){var c=G.getApplicableStep(a),d=i(String(c[2])),e=J[b],f=100===a?null:c[2],g=Number((e-c[2]).toFixed(d)),h=0===a?null:g>=c[1]?c[2]:c[0]||!1;return[[h,f]]});return k(b)}function B(){return d}var C,D,E=a(b),F=[-1,-1],G=c.spectrum,J=[],N=["lower","upper"].slice(0,c.handles);if(c.dir&&N.reverse(),b.LinkUpdate=m,b.LinkConfirm=n,b.LinkDefaultFormatter=c.format,b.LinkDefaultFlag="lower",b.reappend=o,E.hasClass(Y[0]))throw new Error("Slider was already initialized.");C=M(c.dir,c.ort,E),D=L(c.handles,c.dir,C),K(c.connect,E,D),u(c.events),b.vSet=x,b.vGet=y,b.destroy=z,b.getCurrentStep=A,b.getOriginalOptions=B,b.getInfo=function(){return[G,c.style,c.ort]},E.val(c.start)}function O(a){var b=G(a,this);return this.each(function(){N(this,b,a)})}function P(b){return this.each(function(){if(!this.destroy)return void a(this).noUiSlider(b);var c=a(this).val(),d=this.destroy(),e=a.extend({},d,b);a(this).noUiSlider(e),this.reappend(),d.start===e.start&&a(this).val(c)})}function Q(){return this[0][arguments.length?"vSet":"vGet"].apply(this[0],arguments)}function R(b,c,d,e){if("range"===c||"steps"===c)return b.xVal;if("count"===c){var f,g=100/(d-1),h=0;for(d=[];(f=h++*g)<=100;)d.push(f);c="positions"}return"positions"===c?a.map(d,function(a){return b.fromStepping(e?b.getStep(a):a)}):"values"===c?e?a.map(d,function(a){return b.fromStepping(b.getStep(b.toStepping(a)))}):d:void 0}function S(c,d,e,f){var g=c.direction,h={},i=c.xVal[0],j=c.xVal[c.xVal.length-1],k=!1,l=!1,m=0;return c.direction=0,f=b(f.slice().sort(function(a,b){return a-b})),f[0]!==i&&(f.unshift(i),k=!0),f[f.length-1]!==j&&(f.push(j),l=!0),a.each(f,function(b){var g,i,j,n,o,p,q,r,s,t,u=f[b],v=f[b+1];if("steps"===e&&(g=c.xNumSteps[b]),g||(g=v-u),u!==!1&&void 0!==v)for(i=u;v>=i;i+=g){for(n=c.toStepping(i),o=n-m,r=o/d,s=Math.round(r),t=o/s,j=1;s>=j;j+=1)p=m+j*t,h[p.toFixed(5)]=["x",0];q=a.inArray(i,f)>-1?1:"steps"===e?2:0,!b&&k&&(q=0),i===v&&l||(h[n.toFixed(5)]=[i,q]),m=n}}),c.direction=g,h}function T(b,c,d,e,f,g){function h(a,b){return["-normal","-large","-sub"][a]}function i(a,c,d){return'class="'+c+" "+c+"-"+k+" "+c+h(d[1],d[0])+'" style="'+b+": "+a+'%"'}function j(a,b){d&&(a=100-a),b[1]=b[1]&&f?f(b[0],b[1]):b[1],l.append("<div "+i(a,"noUi-marker",b)+"></div>"),b[1]&&l.append("<div "+i(a,"noUi-value",b)+">"+g.to(b[0])+"</div>")}var k=["horizontal","vertical"][c],l=a("<div/>");return l.addClass("noUi-pips noUi-pips-"+k),a.each(e,j),l}var U=a(document),V=a.fn.val,W=".nui",X=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},Y=["noUi-target","noUi-base","noUi-origin","noUi-handle","noUi-horizontal","noUi-vertical","noUi-background","noUi-connect","noUi-ltr","noUi-rtl","noUi-dragable","","noUi-state-drag","","noUi-state-tap","noUi-active","","noUi-stacking"];t.prototype.getMargin=function(a){return 2===this.xPct.length?k(this.xVal,a):!1},t.prototype.toStepping=function(a){return a=o(this.xVal,this.xPct,a),this.direction&&(a=100-a),a},t.prototype.fromStepping=function(a){return this.direction&&(a=100-a),e(p(this.xVal,this.xPct,a))},t.prototype.getStep=function(a){return this.direction&&(a=100-a),a=q(this.xPct,this.xSteps,this.snap,a),this.direction&&(a=100-a),a},t.prototype.getApplicableStep=function(a){var b=n(a,this.xPct),c=100===a?2:1;return[this.xNumSteps[b-2],this.xVal[b-c],this.xNumSteps[b-c]]},t.prototype.convert=function(a){return this.getStep(this.toStepping(a))};var Z={to:function(a){return a.toFixed(2)},from:Number};a.fn.val=function(b){function c(a){return a.hasClass(Y[0])?Q:V}if(!arguments.length){var d=a(this[0]);return c(d).call(d)}var e=a.isFunction(b);return this.each(function(d){var f=b,g=a(this);e&&(f=b.call(this,d,g.val())),c(g).call(g,f)})},a.fn.noUiSlider=function(a,b){switch(a){case"step":return this[0].getCurrentStep();case"options":return this[0].getOriginalOptions()}return(b?P:O).call(this,a)},a.fn.noUiSlider_pips=function(b){var c=b.mode,d=b.density||1,e=b.filter||!1,f=b.values||!1,g=b.format||{to:Math.round},h=b.stepped||!1;return this.each(function(){var b=this.getInfo(),i=R(b[0],c,f,h),j=S(b[0],d,c,i);return a(this).append(T(b[1],b[2],b[0].direction,j,e,g))})}}(window.jQuery||window.Zepto),function(a){var b=function(a){this.name="WafException",this.message=a||"An error has occurred."};b.prototype=Object.create(Error.prototype),b.prototype.constructor=b,window.app={config:{tabletViewportSize:1024,$singleMenu:a(".single-menu > a"),$loggedInMenu:a(".loggedin-menu"),$tabSearch:a(".tab-search > a"),$searchForm:a("li.search-form"),$disableMenuSet:a(".single-menu > a, .loggedin-menu, .tab-search > a"),$jumbotronContainer:a(".jumbotron-container"),$introMessage:a(".intro-message"),$searchBox:a(".search-box"),$menuExpanded:a(".menu-expanded"),$menuCollapsed:a(".menu-collapsed"),typeCursorOrientation:"vertical",$bannerOverlay:a(".banner-overlay"),$allSearch:a(".jsearchterm, .searchterm, .jsearchlocation, .searchlocation"),$jSearchTerm:a(".jsearchterm"),$searchTerm:a(".searchterm"),$jSearchLocation:a(".jsearchlocation"),$searchLocation:a(".searchlocation"),$jSearchTermInput:a(".jsearchterm.tt-input"),$searchTermInput:a(".searchterm.tt-input"),$jSearchLocationInput:a(".jsearchlocation.tt-input"),$searchLocationInput:a(".searchlocation.tt-input"),$copyTextButton:a(".copybutton"),$copyText:a(".copytext"),zClipSwfPath:"/js/vendor/ZeroClipboard.swf",$imageThumbnail:a(".th"),termsURL:"../HomeWEB/KeywordAutoComplete?term=%QUERY",locationsURL:"../HomeWEB/LocationAutoComplete?term=%QUERY",$addPhotoModal:a("#addPhotoModal"),isJoyrideCookie:!0,cookieName:"newDealsQSearch",cookieDomain:!1,picker:a.noop(),$locationBox:a(".location-box"),$uploadAvatar:a("#upload-avatar"),$leadFormsContainer:a(".lead-form-content .forms-container"),$leadFormSections:a(".lead-form-content .form-section"),$leadFormNavigationList:a(".lead-form-content .navigation-list"),$userProfileContainer:a(".userprofile-content"),dataNamespace:"data-vc",alertContainerClass:"alerts",alertTimeOut:7e3,roleEl:{},arrRoles:["show","next","prev","skip","loading","review","follow","like","save"],scriptURLs:{cookie:"/js/vendor/jquery.cookie.js",textchanger:"/js/desktop/components/textchanger.js",pikaday:"/js/vendor/min/pikaday.min.js",skrollr:"/js/vendor/skrollr.min.js",dropzone:"/js/vendor/dropzone.min.js",swipebox:"/js/vendor/jquery.swipebox.min.js",unveil:"/js/vendor/jquery.unveil.min.js",selectize:"/js/vendor/selectize.min.js",owlcarousel:"/js/vendor/owl.carousel.min.js",test:"/js/test.js",zclip:"/js/vendor/jquery.zclip.js",gmap:"https://maps.googleapis.com/maps/api/js?v=3&sensor=false",doT:"/js/vendor/doT.js",typeahead:"/js/vendor/new/typeahead.bundle.min.js",ntypeahead:"/js/vendor/typeahead/typeahead.bundle.min.js"}},channels:{},scope:this,comps:{},utils:{notifyMe:function(b){var c,d=this.config,e=this,f='<div data-vc-role="alert" class="vc-alert alert-box"><p class="alert-content"></p><a href="#" class="close">&times;</a></div>',g=b.message||b,h=b.type||"success";a("body").find("."+d.alertContainerClass).length>0?c=a("."+d.alertContainerClass):(a("body").append(a("<div>").addClass(d.alertContainerClass)),c=a("."+d.alertContainerClass));var i={alertBox:{},alertTimer:{}};return i.alertBox=a(f).hide().addClass(h),c.append(i.alertBox),i.alertBox.find(".alert-content").html(g),i.alertBox.fadeIn(),i.alertTimer=setTimeout(function(){i.alertBox.fadeOut(function(){a(this).remove()})},d.alertTimeOut),c.off(".alert").on("click.vc.alert","["+e.attr_name("role")+'="alert"] a.close',function(b){b.preventDefault(),a(this).closest("["+e.attr_name("role")+'="alert"]').fadeOut(function(){a(this).remove()})}),this},attr_name:function(a){var b=this.config;return b.dataNamespace+"-"+a},require:function(a,b,c){var d=this.config,e=d.scriptURLs,f=!0,g=function(a,b,c){return jQuery.ajax({url:a,type:"GET",dataType:"script",success:b,cache:c||!0})};return"undefined"==typeof c&&("undefined"==typeof b?(c=function(){},b=!0):(c=b,b=!0),f=!1),b()&&f?(c(),!0):(g(e[a],function(){return b()?(c(),!0):void 0}),this)},render:function(a,b){return a.replace(/\{([\w\.]*)\}/g,function(a,c){for(var d=c.split("."),e=b[d.shift()],f=0,g=d.length;g>f;f++)e=e[d[f]];return"undefined"!=typeof e&&null!==e?e:""})},throttle:function(a,b){var c=null;return function(){var d=this,e=arguments;clearTimeout(c),c=setTimeout(function(){a.apply(d,e)},b)}},debounce:function(a,b,c){var d,e;return function(){var f=this,g=arguments,h=function(){d=null,c||(e=a.apply(f,g))},i=c&&!d;return clearTimeout(d),d=setTimeout(h,b),i&&(e=a.apply(f,g)),e}},publish:function(b,c){if(this.channels.hasOwnProperty(b)){c=c||{};var d={_channel:b};d=a.extend({},d,c);for(var e=this.channels[b].length,f=0;e>f;f++)this.channels[b][f]&&this.channels[b][f](d,c);return this}},subscribe:function(a,b){var c=this;this.channels.hasOwnProperty(a)||(this.channels[a]=[]);var d=this.channels[a].push(b)-1;return{remove:function(){c.channels[a].splice(d,1)}}},unsubscribe:function(a){delete this.channels[a]},request:function(a,b,c){c||(c=b,b={}),this.subscribe("reply:"+a,c),this.publish("request:"+a,b)},reply:function(a,b){var c=this;return this.subscribe("request:"+a,function(d,e){"function"==typeof b&&(b=b(e)),c.publish("reply:"+a,b)}),this},log:function(){if("development"==this.config.env){var a=[].slice.call(arguments,0),b=Error().lineNumber?"line: "+Error().lineNumber:"::stack: ";console.log.apply(console,a.concat([b]))}}},debug:{noOfComps:0,noOfCompErrors:0},init:function(b,c){var d=this,e=this.config;if("object"==typeof b&&(c=b,b=void 0),a.extend(!0,this.config,c||{}),!this.initialized){a.extend(this,this.utils),app.initRoles(),this.subscribe("vc:notify",function(a,b){d.notifyMe(b)}),jQuery().foundation&&(Foundation.libs.abide&&(Foundation.libs.abide.settings.patterns.password=/(?=^.{0,}$)[a-zA-Z0-9-\W+]+$/,Foundation.libs.abide.settings.patterns.oldpassword=/(?=^.{0,}$)[a-zA-Z0-9-\W+]+$/,Foundation.libs.abide.settings.patterns.email=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Foundation.libs.abide.settings.patterns.nigerianphone=/^0?(([1-6]\d{6,7})|([7-9]([0-1]\d{8}|[2-9]\d{6,7})))$/),Foundation.libs.reveal&&(Foundation.libs.reveal.settings.animation="fade"),a(document).foundation({joyride:{modal:!0,prevButton:!0,cookie_monster:e.isJoyrideCookie,cookie_name:e.cookieName,cookie_domain:e.cookieDomain,template:{link:'<a href="#close" class="joyride-close-tip">&times;</a>',timer:'<div class="joyride-timer-indicator-wrap"><span class="joyride-timer-indicator"></span></div>',tip:'<div class="joyride-tip-guide"><span class="joyride-nub"></span></div>',wrapper:'<div class="joyride-content-wrapper"></div>',button:'<a href="#" class="tiny btn invert joyride-next-tip"></a>',prev_button:'<a href="#" class="tiny btn invert joyride-prev-tip"></a>',modal:'<div class="joyride-modal-bg"></div>',expose:'<div class="joyride-expose-wrapper"></div>',expose_cover:'<div class="joyride-expose-cover"></div>'}}}),a(document).foundation("joyride","start"));for(b in this.comps)this.comps.hasOwnProperty(b)&&(this.debug.noOfComps++,this.init_comp(b),this.log("waf: "+b+" initialized."));if("development"==this.config.env){var f="Total number of components: "+this.debug.noOfComps+", Number of Errors: "+this.debug.noOfCompErrors+", Number of initialized components: "+(this.debug.noOfComps-this.debug.noOfCompErrors),g=this.debug.noOfCompErrors?"error":"info";this.notifyMe({message:f,type:g})}}return b&&this.init_comp(b),this.initialized=!0,this},init_comp:function(a){this.patch(this.comps[a],a);try{return this.comps[a].init.apply(this.comps[a],[])}catch(b){var c='"'+a+'" component has a bug. Error: '+b.message;console.error(c),this.debug.noOfCompErrors++,"development"==this.config.env&&this.notifyMe({message:c,type:"error"})}},patch:function(b,c){var d={};d[c]={},b.config=a.extend(!0,d,b.config,this.config),a.extend(this.utils,b.utils),a.extend(this,b.utils),a.extend(b,this.utils),b.channels=this.channels},initRoles:function(){var b=this.config,c=this;b.roleEl=a.extend({},b.roleEl);var d=function(b){return a("["+c.attr_name("role")+'="'+b+'"]')};a.each(b.arrRoles,function(a,c){b.roleEl[c]=d(c)});var e=b.roleEl.show,f=e.filter('input[type="checkbox"],input[type="radio"]');f.on("change",function(){a(this).is(":checked")?a(this).next("input").fadeIn():a(this).next("input").fadeOut()}).next("input").hide(),b.roleEl.next.on("click",function(a){a.preventDefault()}),b.roleEl.prev.on("click",function(a){a.preventDefault()})},addUtility:function(a,c){if(this.utils.hasOwnProperty(a))throw new b("utility name:"+a+" is already is use.");this.utils[a]=c,this[a]=c}}}(jQuery),function(a){window.app.comps.font={init:function(){window.WebFontConfig={google:{families:["Open+Sans:300italic,400italic,600italic,400,300,600:latin"]}},function(){var a=document.createElement("script");a.src=("https:"==document.location.protocol?"https":"http")+"://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js",a.type="text/javascript",a.async="true";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)}()}}}(jQuery),function(a){window.app.comps.loader={config:{$loader:a(".loading"),loaderClass:"loading",$loaderParent:a(".loading-container")},utils:{loading:function(a,b,c){var d=this.config;this.log(d.loaderClass),"start"==b?a.children(".loading").fadeIn():a.children(".loading").hide()}},init:function(){a.fn.vcLoader=function(a,b){return this.initLoader(this,a,b)}},initLoader:function(b,c,d){var e=this.config;"undefined"!=typeof b&&(e.$loaderParent=a(b),e.$loaderParent.append('<div class="loading"></div>'),"undefined"!=typeof d&&d&&e.$loaderParent.addClass("loading-container"),e.$loader=a(b).find("div.loading"),"string"==typeof c&&this.runLoader(c))},runLoader:function(a){var b=this.config;"show"===a?b.$loader.fadeIn():"hide"===a&&b.$loader.fadeOut()}}}(jQuery),function(a,b,c,d){b.app.comps.datepicker={config:{pickers:[]},init:function(){var b=this.config,c=this;a("["+c.attr_name("datepicker")+"], .datepicker").length&&this.require("pikaday",function(){return"undefined"!=typeof Pikaday},function(){a("["+c.attr_name("datepicker")+"], .datepicker").each(function(d,e){var f=a(e).attr(c.attr_name("mindate"));f=f?"today"==f?new Date:new Date(f):new Date("1890-01-01");var g=a(e).attr(c.attr_name("maxdate"));g=g?"today"==g?new Date:new Date(g):new Date("2050-12-31");var h=a(e).attr(c.attr_name("yearrange"))?JSON.parse(a(e).attr(c.attr_name("yearrange"))):[1890,2050];b.pickers.push({element:e,picker:new Pikaday({field:a(e)[0],format:"YYYY-MM-DD",firstDay:1,minDate:f,maxDate:g,yearRange:h})})})}),this.events()},events:function(){}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.copy={name:"copy",description:"Responsible for the copy-to-clipboard logic",init:function(){var a=this.config,b=this;a.$copyTextButton.length&&this.require("zclip",function(){return jQuery().zclip},function(){a.$copyTextButton.zclip({path:a.zClipSwfPath,copy:a.$copyText.val(),afterCopy:function(){b.notifyMe("The link has been copied to your clipboard.")}})}),this.events()},events:function(){}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.lazyload={name:"lazyload",description:"",config:{lazyload:{blankURL:"/img/blank.gif",lazyClass:"lazy",threshold:100}},init:function(){var b=this,c=b.config,d=c.lazyload;d.$container=a("["+b.attr_name("lazy")+"]").attr("src",d.blankURL).addClass(d.lazyClass),d.$unloadedSet=d.$container,this.events(),this.loadVisible()},events:function(){var c=this,d=c.config;d.lazyload;a(b).off("scroll.vc.lazyload resize.vc.lazyload").on("scroll.vc.lazyload resize.vc.lazyload",c.throttle(a.proxy(c.loadVisible,c),100))},loadVisible:function(){var c=this,d=c.config,e=d.lazyload,f=(a(b),e.$unloadedSet.filter(function(){var c=a(this);if(c.is(":hidden"))return!1;var d=a(b).height(),e=a(b).width(),f=c[0].getBoundingClientRect();return f.bottom>=0&&f.top<d&&f.left<e&&f.right>=0}));c.loadImages(f)},loadImages:function(b){var c=this,d=c.config,e=d.lazyload;b.each(function(b,d){var f=a(d).attr(c.attr_name("lazy"));if(f){var g=a(new Image).attr("src",f);g.one("load",function(){a(d).hide().attr("src",f).removeClass(e.lazyClass).fadeIn(),c.log("Image lazy loaded: ",f)}),g[0].complete&&g.load(),c.log("Starting lazy loading: ",f)}}),e.$unloadedSet=e.$unloadedSet.not(b)}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.gallery={config:{galleryImgLists:{},defaultRel:"gallery",bigGalleryClass:"big-image-gallery",galleryContainerClass:"gallery-container",galleryHeaderClass:"gallery-header",galleryDescriptionHeaderClass:"gallery-description-header",galleryImageContainerClass:"gallery-image-container",galleryDescriptionContainerClass:"gallery-description-container",galleryCloseLinkClass:"gallery-close",galleryPreviousLinkClass:"gallery-previous",galleryNextLinkClass:"gallery-next",galleryDisabledLinkClass:"disabled",
galleryImageCountClass:"image-count",galleryLoadingClass:"gallery-loading",galleryTitleClass:"gallery-title",galleryUploadDetailsClass:"gallery-upload-details",galleryUploadDateClass:"upload-date",galleryUploaderNameClass:"uploader-name",galleryUploaderThumbnailClass:"uploader-thumbnail",galleryBusinessNameClass:"business-name",galleryBusinessThumbnailClass:"business-thumbnail",galleryBusinessDetailsClass:"business-details",galleryDescriptionClass:"gallery-description",galleryImageClass:"gallery-image",galleryActionsContainerClass:"gallery-actions-container",showDescriptionButtonClass:"show-description",$bigGallery:{},gallerySet:{},$galleryContainer:{},$galleryHeader:{},$galleryDescriptionHeader:{},$galleryImageContainer:{},$galleryDescriptionContainer:{},$galleryCloseLink:{},$galleryPreviousLink:{},$galleryNextLink:{},$galleryImageCount:{},$galleryLoading:{},$galleryTitle:{},$galleryUploadDetails:{},$galleryUploadDate:{},$galleryUploaderName:{},$galleryUploaderThumbnail:{},$galleryBusinessName:{},$galleryBusinessThumbnail:{},$galleryBusinessDetails:{},$galleryDescription:{},$galleryActionsContainer:{},$showDescriptionButton:{},$imgSet:a(),isOpen:!1,isBuilt:!1,hasDescription:!1,container:a(".th, [data-vc-gallery-thumb]"),galleryImageArrayEls:{},imgsList:{},curIndex:0,preloadCount:2,galleryTemplate:'<div class="big-image-gallery"> <div class="gallery-container"> <div class="gallery-header"> <a href="#" class="gallery-close">&times;</a> <div class="gallery-upload-details"> <img class="uploader-thumbnail" src="img/lab-profile300.jpg" alt="uploader thumbnail"> <div class="upload-date">24 June, 2014</div> <div class="uploader-name">Jonathan Douglas</div> </div> <h4 class="gallery-title">Triple Tripulley</h4> </div> <div class="gallery-image-container"> <div class="gallery-loading"></div></div> <div class="gallery-description-container"> <div class="gallery-description-header"> <div class="business-details"> <img class="business-thumbnail" src="img/lab-logo.jpg" alt="business logo"> <div class="business-name">Eko Hotels and Suites</div> </div> <span class="image-count">2/10</span> <div class="actions-container"> <!--<a href="#" class="like">Like</a>--> <a href="#" class="show-description"><i class="icon-menu"></i></a> </div> </div> <div class="gallery-description"> Lorem ipsum dolor sit amet, consectetur adipisicing elit. Enim id consequuntur iure molestiae debitis, soluta distinctio tempore maxime rerum, in ipsa vero! Quas eos, officiis consectetur hic voluptate nulla vero! </div> </div> </div> <div class="gallery-navigation-container"> <a href="#" class="gallery-previous disabled"><i class="icon-angle-left"></i></a> <a href="#" class="gallery-next"><i class="icon-angle-right"></i></a> </div> </div>'},init:function(){var b=this,c=b.config;if(c.container=a(c.container.selector),c.galleryImageArrayEls=a("["+this.attr_name("gallery")+"]["+this.attr_name("value")+"]"),this.subscribe("vc:gallery/refresh",function(){b.init()}),c.container.length<=0&&c.galleryImageArrayEls.length<=0)return!1;c.galleryImgLists={},c.container.each(function(b){var d=a(this).attr("rel")||c.defaultRel;c.galleryImgLists[d]=c.galleryImgLists[d]||[],c.galleryImgLists[d].push({imageUrl:a(this).attr("href"),imageTitle:a(this).attr("title"),imageDescription:a(this).next(".description").html(),imageThumbUrl:a(this).find("img").attr("src"),imageUploadDate:a(this).data("upload-date"),imageUploaderName:a(this).data("uploader-name"),imageUploaderThumbnail:a(this).data("uploader-thumbnail"),imageBusinessThumbnail:a(this).data("business-thumbnail"),imageBusinessName:a(this).data("business-name")}),a(this).attr("data-index",c.galleryImgLists[d].length-1)}),b.log(c.galleryImgLists),c.galleryImageArrayEls.each(function(d){var e=JSON.parse(a(this).attr(b.attr_name("value"))),f=a(this).attr("rel")||c.defaultRel;c.galleryImgLists[f]=c.galleryImgLists[f].concat(e),b.log(c.galleryImgLists)});for(var d in c.galleryImgLists)c.galleryImgLists.hasOwnProperty(d)&&b.buildGallery(d);this.events()},events:function(){var d,e,f,g=this,h=g.config;b.navigator.msPointerEnabled?(d="MSPointerDown",e="MSPointerMove",f="MSPointerUp"):(d="touchstart",e="touchmove",f="touchend"),h.container.off("click.vc.gallery").on("click.vc.gallery",function(b){b.preventDefault();var c=a(this).attr("rel")||h.defaultRel;h.gallerySet[c].curIndex=+a(this).attr("data-index"),g.log(h.galleryImgLists[c][h.gallerySet[c].curIndex]),g.log(c),h.gallerySet[c].isOpen||g.openGallery(c)}),a(c).off("keyup.vc.gallery").on("keyup.vc.gallery",function(a){for(var b in h.gallerySet)if(h.gallerySet.hasOwnProperty(b))switch(a.keyCode){case 37:g.previousImage(b);break;case 39:g.nextImage(b);break;case 27:g.closeGallery(b);break;case 38:g.showDescription(b);break;case 40:g.hideDescription(b)}g.log(a.keyCode)}),a(b).off("resize.vc.gallery").on("resize.vc.gallery",function(a){g.adjustSize()});for(var i in h.gallerySet)h.gallerySet.hasOwnProperty(i)&&g.galleryEvents(i)},galleryEvents:function(a){var c,d,e,f=this,g=f.config,h=10,i=!1,j={};b.navigator.msPointerEnabled?(c="MSPointerDown",d="MSPointerMove",e="MSPointerUp"):(c="touchstart",d="touchmove",e="touchend"),g.gallerySet[a].$galleryCloseLink.off("click.vc.gallery").on("click.vc.gallery",function(b){b.preventDefault(),f.closeGallery(a)}),g.gallerySet[a].$galleryPreviousLink.off("click.vc.gallery").on("click.vc.gallery",function(b){b.preventDefault(),f.previousImage(a)}),g.gallerySet[a].$galleryNextLink.off("click.vc.gallery").on("click.vc.gallery",function(b){b.preventDefault(),f.nextImage(a)}),g.gallerySet[a].$showDescriptionButton.off("click.vc.gallery").on("click.vc.gallery",function(b){b.preventDefault(),f.toggleDescription(a)}),g.gallerySet[a].$galleryImageContainer.off(c).on(c,function(a){a.touches||(a=a.originalEvent),f.log("Touch started."),j={startPageX:b.navigator.msPointerEnabled?a.pageX:a.touches[0].clientX,startPageY:b.navigator.msPointerEnabled?a.pageY:a.touches[0].clientY,startTime:+new Date,deltaX:0,deltaY:0,endPageX:0,endPageY:0},a.stopPropagation()}).off(d).on(d,function(a){f.log("Touch moving."),a.preventDefault()}).off(e).on(e,function(c){c.touches||(c=c.originalEvent),c.touches.length>1||c.scale&&1!==c.scale||(f.log(c),j.endPageX=b.navigator.msPointerEnabled?c.pageX:c.changedTouches[0].clientX,j.endPageY=b.navigator.msPointerEnabled?c.pageY:c.changedTouches[0].clientY,j.deltaX=j.endPageX-j.startPageX,j.deltaY=j.endPageY-j.startPageY,i=Math.abs(j.deltaX)<Math.abs(j.deltaY),f.log("Touch stopped"),i?(j.deltaY>=h&&f.hideDescription(a),j.deltaY<=-h&&f.showDescription(a)):(j.deltaX>=h&&f.previousImage(a),j.deltaX<=-h&&f.nextImage(a)),j={},c.stopPropagation())}),g.gallerySet[a].$bigGallery.off("click.vc.gallery").on("click.vc.gallery",function(b){b.target==b.currentTarget&&f.closeGallery(a)})},preloadImages:function(a,b){var c=this,d=c.config;b=b||d.gallerySet[a].curIndex;var e=(d.galleryImgLists[a][b],b-d.preloadCount>0?b:0),f=e+2*d.preloadCount;f=f>d.galleryImgLists[a].length?d.galleryImgLists[a].length-1:f;for(var g=e;f>g;g++)(new Image).src=d.galleryImgLists[a][g].imageUrl;c.log("In preloadImages function.")},buildGallery:function(b){var c=this,d=c.config;d.gallerySet[b]=d.gallerySet[b]||{},d.gallerySet[b].$bigGallery=a(d.galleryTemplate),d.gallerySet[b].$galleryImageContainer=d.gallerySet[b].$bigGallery.find("."+d.galleryImageContainerClass),d.gallerySet[b].$galleryContainer=d.gallerySet[b].$bigGallery.find("."+d.galleryContainerClass),d.gallerySet[b].$galleryDescriptionContainer=d.gallerySet[b].$bigGallery.find("."+d.galleryDescriptionContainerClass),d.gallerySet[b].$galleryHeader=d.gallerySet[b].$bigGallery.find("."+d.galleryHeaderClass),d.gallerySet[b].$galleryDescriptionHeader=d.gallerySet[b].$bigGallery.find("."+d.galleryDescriptionHeaderClass),d.gallerySet[b].$galleryDescription=d.gallerySet[b].$bigGallery.find("."+d.galleryDescriptionClass),d.gallerySet[b].$galleryCloseLink=d.gallerySet[b].$bigGallery.find("."+d.galleryCloseLinkClass),d.gallerySet[b].$galleryPreviousLink=d.gallerySet[b].$bigGallery.find("."+d.galleryPreviousLinkClass),d.gallerySet[b].$galleryNextLink=d.gallerySet[b].$bigGallery.find("."+d.galleryNextLinkClass),d.gallerySet[b].$galleryImageCount=d.gallerySet[b].$bigGallery.find("."+d.galleryImageCountClass),d.gallerySet[b].$galleryLoading=d.gallerySet[b].$bigGallery.find("."+d.galleryLoadingClass),d.gallerySet[b].$galleryTitle=d.gallerySet[b].$bigGallery.find("."+d.galleryTitleClass),d.gallerySet[b].$galleryUploadDetails=d.gallerySet[b].$bigGallery.find("."+d.galleryUploadDetailsClass),d.gallerySet[b].$galleryUploadDate=d.gallerySet[b].$bigGallery.find("."+d.galleryUploadDateClass),d.gallerySet[b].$galleryUploaderName=d.gallerySet[b].$bigGallery.find("."+d.galleryUploaderNameClass),d.gallerySet[b].$galleryUploaderThumbnail=d.gallerySet[b].$bigGallery.find("."+d.galleryUploaderThumbnailClass),d.gallerySet[b].$galleryBusinessName=d.gallerySet[b].$bigGallery.find("."+d.galleryBusinessNameClass),d.gallerySet[b].$galleryBusinessThumbnail=d.gallerySet[b].$bigGallery.find("."+d.galleryBusinessThumbnailClass),d.gallerySet[b].$galleryBusinessDetails=d.gallerySet[b].$bigGallery.find("."+d.galleryBusinessDetailsClass),d.gallerySet[b].$galleryActionsContainer=d.gallerySet[b].$bigGallery.find("."+d.galleryActionsContainerClass),d.gallerySet[b].$showDescriptionButton=d.gallerySet[b].$bigGallery.find("."+d.showDescriptionButtonClass),a("body").append(d.gallerySet[b].$bigGallery),c.log(d.gallerySet[b].$bigGallery),a.each(d.galleryImgLists[b],function(e,f){var g=a("<div>").addClass(d.galleryImageClass),h=a("<img>").load(function(){a(this).hide(),a(this).fadeIn()}).error(function(){c.log("Error loading image: "+f.imageUrl)}).attr("data-src",f.imageUrl).attr("data-index",e);c.log(h),g.append(h).appendTo(d.gallerySet[b].$galleryImageContainer)}),c.log("In buildGallery function."),d.gallerySet[b].isBuilt=!0},openGallery:function(a){var b=this,c=b.config;a=a||c.defaultRel,c.gallerySet[a].isBuilt||b.buildGallery(a),b.loadContent(a),c.gallerySet[a].$bigGallery.fadeIn(),b.adjustSize(a),b.log("In openGallery function."),c.gallerySet[a].isOpen=!0},closeGallery:function(a){var b=this,c=b.config;c.gallerySet[a].$bigGallery.fadeOut(),b.emptyGallery(a),b.log("In closeGallery function."),c.gallerySet[a].isOpen=!1},loadContent:function(a,b){var c=this,d=c.config;"undefined"==typeof b&&(b=function(){});var e=d.galleryImgLists[a][d.gallerySet[a].curIndex];c.preloadImages(a,d.gallerySet[a].curIndex),c.emptyGallery(a),c.log(e),e.imageDescription?(d.gallerySet[a].hasDescription=!0,d.gallerySet[a].$showDescriptionButton.removeClass("hidden")):(d.gallerySet[a].hasDescription=!1,c.hideDescription(a),d.gallerySet[a].$showDescriptionButton.addClass("hidden")),d.gallerySet[a].$galleryDescription.html(e.imageDescription);var f=d.gallerySet[a].$galleryImageContainer.find("."+d.galleryImageClass).filter(":eq("+d.gallerySet[a].curIndex+")").css("margin-left",0);f.find("img").attr("src",e.imageUrl),d.gallerySet[a].$galleryImageCount.html(d.gallerySet[a].curIndex+1+" of "+d.galleryImgLists[a].length),d.gallerySet[a].$galleryTitle.html(e.imageTitle||""),d.gallerySet[a].$galleryUploadDate.html(e.imageUploadDate||""),d.gallerySet[a].$galleryUploaderName.html(e.imageUploaderName||""),d.gallerySet[a].$galleryUploaderThumbnail.attr("src",e.imageUploaderThumbnail||""),e.imageUploadDate?d.gallerySet[a].$galleryUploadDate.show():d.gallerySet[a].$galleryUploadDate.hide(),e.imageUploaderName?d.gallerySet[a].$galleryUploaderName.show():d.gallerySet[a].$galleryUploaderName.hide(),e.imageUploaderThumbnail?d.gallerySet[a].$galleryUploaderThumbnail.show():d.gallerySet[a].$galleryUploaderThumbnail.hide(),d.gallerySet[a].$galleryUploadDetails.show(),d.gallerySet[a].$galleryBusinessName.html(e.imageBusinessName||""),d.gallerySet[a].$galleryBusinessThumbnail.attr("src",e.imageBusinessThumbnail||""),e.imageBusinessThumbnail?d.gallerySet[a].$galleryBusinessThumbnail.show():d.gallerySet[a].$galleryBusinessThumbnail.hide(),d.gallerySet[a].$galleryBusinessDetails.show(),c.isFirst(a)?d.gallerySet[a].$galleryPreviousLink.addClass("disabled"):d.gallerySet[a].$galleryPreviousLink.removeClass("disabled"),c.isLast(a)?d.gallerySet[a].$galleryNextLink.addClass("disabled"):d.gallerySet[a].$galleryNextLink.removeClass("disabled"),c.log("In loadContent function."),b()},previousImage:function(a){var b=this,c=b.config;b.isFirst(a)||(c.gallerySet[a].curIndex--,b.loadContent(a)),b.log("In previousImage function.")},nextImage:function(a){var b=this,c=b.config;b.isLast(a)||(c.gallerySet[a].curIndex++,b.loadContent(a)),b.log("In nextImage function.")},isFirst:function(a){var b=this,c=b.config;return!c.gallerySet[a].curIndex},isLast:function(a){var b=this,c=b.config;return c.gallerySet[a].curIndex>=c.galleryImgLists[a].length-1},emptyGallery:function(a){var b=this,c=b.config;c.gallerySet[a].$galleryImageContainer.find("."+c.galleryImageClass).css("margin-left","100%"),c.gallerySet[a].$galleryImageCount.empty(),c.gallerySet[a].$galleryTitle.empty(),c.gallerySet[a].$galleryDescription.empty(),c.gallerySet[a].$galleryUploadDetails.hide(),c.gallerySet[a].$galleryUploaderName.empty(),c.gallerySet[a].$galleryUploadDate.empty(),c.gallerySet[a].$galleryUploaderThumbnail.attr("src",""),c.gallerySet[a].$galleryBusinessDetails.hide(),c.gallerySet[a].$galleryBusinessName.empty(),c.gallerySet[a].$galleryBusinessThumbnail.attr("src",""),b.log("In emptyGallery function.")},adjustSize:function(a){var b=this,c=b.config,d=0;a=a||c.defaultRel,b.log("Adjusting the size."),d=c.gallerySet[a].$galleryContainer.height()-c.gallerySet[a].$galleryHeader.height()-c.gallerySet[a].$galleryDescriptionHeader.height(),c.gallerySet[a].$galleryContainer.find("."+c.galleryImageClass).height(d),c.gallerySet[a].$galleryContainer.find("."+c.galleryLoadingClass).height(d),b.log("Adjusted image height: "+d)},showDescription:function(a){var b=this,c=b.config;c.gallerySet[a].isOpen&&c.gallerySet[a].hasDescription&&(c.gallerySet[a].$galleryDescription.addClass("show"),c.gallerySet[a].$showDescriptionButton.addClass("active")),b.log("In showDescription function.")},hideDescription:function(a){var b=this,c=b.config;c.gallerySet[a].isOpen&&(c.gallerySet[a].$galleryDescription.removeClass("show"),c.gallerySet[a].$showDescriptionButton.removeClass("active")),b.log("In hideDescription function.")},toggleDescription:function(a){var b=this,c=b.config;c.gallerySet[a].isOpen&&(c.gallerySet[a].$galleryDescription.hasClass("show")?b.hideDescription(a):b.showDescription(a)),b.log("In toggleDescription function.")}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.cookies={utils:{getCookie:function(a){return decodeURIComponent(c.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},createCookie:function(a,b,d,e,f,g){if(!a||/^(?:expires|max\-age|path|domain|secure)$/i.test(a))return!1;var h="";if(d)switch(d.constructor){case Number:if(d===1/0)h="; expires=Fri, 31 Dec 9999 23:59:59 GMT";else{var i=new Date;i.setTime(i.getTime()+24*d*60*60*1e3),h="; expires="+i.toGMTString()}break;case String:h="; expires="+d;break;case Date:h="; expires="+d.toUTCString()}return c.cookie=encodeURIComponent(a)+"="+encodeURIComponent(b)+h+(f?"; domain="+f:"")+(e?"; path="+e:"")+(g?"; secure":""),!0},removeCookie:function(a,b,d){return a&&this.hasCookie(a)?(c.cookie=encodeURIComponent(a)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(d?"; domain="+d:"")+(b?"; path="+b:""),!0):!1},hasCookie:function(a){return new RegExp("(?:^|;\\s*)"+encodeURIComponent(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(c.cookie)}},init:function(){this.events()},events:function(){}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.corporatelead={config:{$cLeadPopup:a({}),$cLeadButton:a({}),cLeadMax:3},init:function(){var b=this,c=this.config;if(c.$cLeadPopup=a("["+this.attr_name("clead-popup")+"]"),c.$cLeadButton=a("["+this.attr_name("clead-btn")+"]"),!c.$cLeadPopup.length)return!1;var d=c.$cLeadPopup.attr(this.attr_name("clead-name"));if(d){var e=+b.getCookie(d);if(e>=c.cLeadMax)return!0;b.createCookie(d,++e)}c.$cLeadPopup.foundation("reveal","open"),this.events()},events:function(){var a=this.config;a.$cLeadButton.on("click",function(b){b.preventDefault(),a.$cLeadPopup.foundation("reveal","open")})}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.buttons={init:function(){this.events()},events:function(){var a=this,b=this.config;b.roleEl.follow.on("click",function(b){b.preventDefault(),a.sendFollowRequest(this)}),b.roleEl.like.on("click",function(b){b.preventDefault(),a.sendRequest(this,"like")})},sendFollowRequest:function(b){var c=this,d=this.config;a(b).addClass("disabled loading-btn").prop("disabled",!0);var e=a(b).attr("href"),f={userID:a(b).attr(c.attr_name("uid")),value:+!a(b).attr(c.attr_name("value"))};a.get(e,f,function(a){var b=d.roleEl.follow.filter("["+c.attr_name("uid")+"="+f.userID+"]");b.removeClass("disabled loading-btn").prop("disabled",!1).attr(c.attr_name("value"),a.value),a.value?(c.log("Followed."),b.addClass("follow-btn").removeClass("unfollow-btn").html('<i class="icon-user-add"></i> Follow')):(c.log("Unfollowed."),b.addClass("unfollow-btn").removeClass("follow-btn").html('<i class="icon-ok"></i> Following'))})},sendRequest:function(b,c){var d=this,e=this.config;a(b).addClass("disabled").prop("disabled",!0).html('<img class="loader" src="img/vcloader-dots-white.gif">');var f=a(b).attr("href"),g={userID:a(b).attr(d.attr_name("uid")),value:+!a(b).attr(d.attr_name("value"))};a.get(f,g,function(a){var b=e.roleEl.follow.filter("["+d.attr_name("uid")+"="+g.userID+"]");switch(b.removeClass("disabled").prop("disabled",!1).attr(d.attr_name("value"),a.value),c){case"follow":a.value?(d.log("Followed."),b.addClass("follow-btn").removeClass("unfollow-btn").html('<i class="icon-user-add"></i> Follow')):(d.log("Unfollowed."),b.addClass("unfollow-btn").removeClass("follow-btn").html('<i class="icon-ok"></i> Following'));break;case"like":a.value?(d.log("Liked."),b.addClass("active").html('<i class="icon-heart"></i> Liked')):(d.log("Unliked."),b.removeClass("active").html('<i class="icon-heart"></i> Like'))}})}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.select={config:{select:{queryHolder:"{QUERY}",options:{openingHours:["12:00AM","12:30AM","1:00AM","1:30AM","2:00AM","2:30AM","3:00AM","3:30AM","4:00AM","4:30AM","5:00AM","5:30AM","6:00AM","6:30AM","7:00AM","7:30AM","8:00AM","8:30AM","9:00AM","9:30AM","10:00AM","10:30AM","11:00AM","11:30AM","12:00PM","12:30PM","1:00PM","1:30PM","2:00PM","2:30PM","3:00PM","3:30PM","4:00PM","4:30PM","5:00PM","5:30PM","6:00PM","6:30PM","7:00PM","7:30PM","8:00PM","8:30PM","9:00PM","9:30PM","10:00PM","10:30PM","11:00PM","11:30PM","Closed"]}}},init:function(){var b=this,c=this.config;a("["+b.attr_name("select")+"]").length&&this.require("selectize",function(){return jQuery().selectize},function(){var d=a("["+b.attr_name("select")+"]");d.each(function(d,e){var f=a(e),g=null,h=null,i=null,j=null,k={plugins:["remove_button"],delimiter:",",persist:!1,create:!1};g=(h=f.attr(b.attr_name("remote"))||null)?function(b,d){a.ajax({url:h.replace(c.select.queryHolder,encodeURIComponent(b)),type:"GET",error:function(){d()},success:function(a){d(a)}})}:null,g&&(k.load=g);var l=f.attr(b.attr_name("items"));l&&(j=l.split(",")),j&&(k.items=j);var m=f.attr(b.attr_name("options"));m&&(i=c.select.options[m]?c.select.options[m].map(function(a){return{text:a,value:a}}):m.split(",").map(function(a){return{text:a,value:a}})),i&&(k.options=i),f.attr(b.attr_name("preload"))&&(k.preload=f.attr(b.attr_name("preload"))),f.selectize(k)})}),this.events()},events:function(){}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.productlist={config:{$productsList:a(".products-list"),$viewProducts:a(".view-products"),majorLength:20},init:function(){var b=this.config,c=b.$productsList.filter(function(c,d){return a(d).children("li").length>b.majorLength});a('<a href="#">Show all</a>').addClass("view-products hover-underline").appendTo(c),b.$viewProducts=a(b.$viewProducts.selector),c.addClass("show-few").each(function(c,d){a(d).children("li").slice(0,b.majorLength).addClass("major")}),this.events()},events:function(){var b=this.config;b.$viewProducts.on("click",function(c){c.preventDefault();var d=a(this).closest(b.$productsList);d.toggleClass("show-few"),d.hasClass("show-few")?d.find(b.$viewProducts).html("Show all"):d.find(b.$viewProducts).html("Show less")}),b.$productsList.find("a").on("click",function(a){a.preventDefault()})}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.nslider={config:{},init:function(){var b=this,c=this.config;c.$els=a("["+b.attr_name("nslider")+"]"),c.$els.length&&this.require("owlcarousel",function(){return jQuery().owlCarousel},function(){c.$els.each(function(c,d){var e=a(d),f={loop:!0,autoplay:!1,autoplaySpeed:!1,autoplayTimeout:5e3,stagePadding:0,autoplayHoverPause:!0,nav:!0,autoWidth:!0,items:1,dots:!1};"undefined"!=typeof e.attr(b.attr_name("arrows"))&&("false"==e.attr(b.attr_name("arrows"))?f.nav=!1:f.nav=!0),"undefined"!=typeof e.attr(b.attr_name("infinite"))&&("false"==e.attr(b.attr_name("infinite"))?f.loop=!1:f.loop=!0),"undefined"!=typeof e.attr(b.attr_name("autoplay"))&&("false"==e.attr(b.attr_name("autoplay"))?f.autoplay=!1:f.autoplay=!0),"undefined"!=typeof e.attr(b.attr_name("dots"))&&("false"==e.attr(b.attr_name("dots"))?f.dots=!1:f.dots=!0),"undefined"!=typeof e.attr(b.attr_name("variable"))&&("false"==e.attr(b.attr_name("variable"))?f.autoWidth=!1:f.autoWidth=!0),"undefined"!=typeof e.attr(b.attr_name("autospeed"))&&("false"==e.attr(b.attr_name("autoplayspeed"))?f.autoplaySpeed=!1:f.autoplaySpeed=!0),"undefined"!=typeof e.attr(b.attr_name("autoplaypause"))&&("false"==e.attr(b.attr_name("autoplaypause"))?f.autoplayHoverPause=!1:f.autoplayHoverPause=!0),e.attr(b.attr_name("stage"))&&(f.stagePadding=+e.attr(b.attr_name("stage"))),e.attr(b.attr_name("showno"))&&(f.items=+e.attr(b.attr_name("showno"))),e.attr(b.attr_name("autoplayspeed"))&&(f.autoplayTimeout=+e.attr(b.attr_name("autoplayspeed"))),e.owlCarousel(f)})}),this.events()},events:function(){}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.tabs={name:"tabs",description:"description",config:{hashPrefix:"tabs_"},init:function(){var c=this.config;a("[data-tab]").each(function(d){a(this).children("li").each(function(d){var e=a(this);return e.hasClass("no-js-tab")?!0:(e.hasClass("active")||a(e.children("a").attr("href")).addClass("hide"),void e.click(function(d){if(d.preventDefault(),!a(this).hasClass("active")){var e=this,f=a(e).parent("[data-tab]").children("li.active"),g=a(e).children("a").attr("href").replace("#","");a(f).removeClass("active"),a(a(f).children("a").attr("href")).addClass("hide"),a("[data-header="+a(a(f).children("a").attr("href")).attr("data-footer")+"]")&&a("[data-header="+a(a(f).children("a").attr("href")).attr("data-footer")+"]").addClass("hide"),a(e).addClass("active"),a(a(e).children("a").attr("href")).removeClass("hide"),a("[data-header="+a(a(e).children("a").attr("href")).attr("data-footer")+"]")&&a("[data-header="+a(a(e).children("a").attr("href")).attr("data-footer")+"]").removeClass("hide"),history.pushState?history.pushState(null,null,"#"+c.hashPrefix+g):location.hash="#"+c.hashPrefix+g,a(b).trigger("hashchange")}}))})}),this.events()},events:function(){var b=this,c=this.config;b.subscribe("vc:hashChange",function(d,e){b.log(e);var f=e.hash.replace(c.hashPrefix,""),g=a("[data-tab] li a[href=#"+f+"]"),h=a("[data-tab] li.active a[href=#"+f+"]");if(g.length&&!h.length){var i=g.closest("[data-tab]").children("li.active"),j=g.parent("li");a(i).removeClass("active"),b.log(g),b.log(i),a(a(i).children("a").attr("href")).addClass("hide"),a("[data-header="+a(a(i).children("a").attr("href")).attr("data-footer")+"]")&&a("[data-header="+a(a(i).children("a").attr("href")).attr("data-footer")+"]").addClass("hide"),a(j).addClass("active"),a(a(j).children("a").attr("href")).removeClass("hide"),a("[data-header="+a(a(j).children("a").attr("href")).attr("data-footer")+"]")&&a("[data-header="+a(a(j).children("a").attr("href")).attr("data-footer")+"]").removeClass("hide")}})}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.ctv={name:"ctv",description:"Responsible for the click-to-view logic",init:function(){a("[data-ctv]").children(".masked").addClass("hide"),this.events()},events:function(){a("[data-ctv]").on("click",function(b){b.preventDefault(),a(this).hasClass("open")||(a(this).children(".mask").addClass("hide"),a(this).children(".masked").removeClass("hide").addClass("show"),a(this).addClass("open"))})}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.helpful={config:{helpful:{phoneHelpfulURL:"/detail/wasthishelpful"}},init:function(){var b=this.config,c=b.helpful;c.$phoneHelpfulContainer=a(".js-phone-helpful"),c.$helpfulYesLink=c.$phoneHelpfulContainer.find(".js-helpful-yes"),c.$helpfulNoLink=c.$phoneHelpfulContainer.find(".js-helpful-no"),this.events()},events:function(){var b=this,c=this.config,d=c.helpful;d.$helpfulYesLink.off("click.vc.helpful").on("click.vc.helpful",function(c){c.preventDefault();var d=a(this);b.log("Yessed the number! :)"),b.sendHelpfulPhone(d,"YES")}),d.$helpfulNoLink.off("click.vc.helpful").on("click.vc.helpful",function(c){c.preventDefault();var d=a(this);b.log("Noed the number! :("),b.sendHelpfulPhone(d,"NO")})},sendHelpfulPhone:function(b,c){var d=this,e=this.config,f=e.helpful,g=b,h=g.closest(f.$phoneHelpfulContainer).attr(d.attr_name("phone")),i=g.closest("["+d.attr_name("bizid")+"]").attr(d.attr_name("bizid")),j={whichnumber:h,status:c,bizid:i};d.log("Helpful data: ",c,h,i),d.loading(g.closest(f.$phoneHelpfulContainer),"start"),a.ajax({url:f.phoneHelpfulURL,type:"POST",dataType:"json",data:j,success:function(a){1==a.status?d.notifyMe("Thanks for the feedback. You rock! :)"):d.notifyMe({message:"Oops! Something went wrong. You can try again later.",type:"error"})},error:function(a){d.notifyMe({message:"Oops! Something went wrong. You can try again later.",type:"error"})},complete:function(){d.loading(g.closest(f.$phoneHelpfulContainer),"stop")}})}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.modal={config:{modalTrigger:{},modalClose:{}},init:function(){var b=this.config;b.modalTrigger=a("["+this.attr_name("modal")+"]"),b.modalClose=a("[data-reveal] .close"),this.events()},events:function(){var b=this,c=b.config;c.modalTrigger.on("click",function(c){c.preventDefault();var d=a(this).attr(b.attr_name("modal"));a("#"+d).foundation("reveal","open")}),c.modalClose.on("click",function(b){b.preventDefault(),a(this).closest("[data-reveal]").foundation("reveal","close")})}}}(jQuery,window,document),function(a){window.app.comps.leadform={name:"leadform",description:"Script for lead forms related interactivity",init:function(){var b=this.config,c=1,d=0;if(b.$leadFormSections.length<=0)return!1;var e=function(){b.$leadFormNavigationList.find("[data-section-id]").filter('[data-section-id="'+c+'"]').parent("li").addClass("active current").nextAll("li").removeClass("active current").end().prevAll("li").addClass("active").removeClass("current"),b.$leadFormSections.hide(),b.$leadFormSections.filter('[data-section-id="'+c+'"]').fadeIn()};d=b.$leadFormSections.length,b.$leadFormsContainer.find(b.roleEl.loading).hide(),e(),b.$leadFormSections.find(b.roleEl.prev).on("click",function(a){a.preventDefault(),c>1&&(c--,e())}),b.$leadFormSections.find(b.roleEl.next).on("click",function(a){a.preventDefault(),d>c&&(c++,e())}),b.$leadFormNavigationList.find("[data-section-id]").on("click",function(b){b.preventDefault(),c!=a(this).data("section-id")&&(c=a(this).data("section-id"),e())})}}}(jQuery),function(a,b,c,d){b.app.comps.siteheader={config:{siteheader:{makeRoomClass:"make-room"}},init:function(){var c=this,d=this.config,e=d.siteheader;return e.$container=a("["+c.attr_name("siteheader")+"]"),e.$container.length?(e.$dropdownMenus=e.$container.find(".js-has-dropdown-menu"),e.$dropdownMenuTrigger=e.$dropdownMenus.find("> li > a").filter(function(){return!a(this).is(":only-child")}),Modernizr.touch?e.$dropdownMenus.addClass("show-on-click"):e.$dropdownMenus.addClass("show-on-hover"),e.lastScroll=a(b).scrollTop(),c.log("In site header.."),void c.events()):!1},events:function(){var d=this,e=this.config,f=e.siteheader;d.log(f.$dropdownMenuTrigger),f.$dropdownMenuTrigger.off("click.vc.siteheader").on("click.vc.siteheader",function(b){Modernizr.touch&&(b.preventDefault(),b.stopPropagation()),d.log(this),a(this).parent().toggleClass("open").siblings().removeClass("open")}),a(c).off("click.vc.siteheader").on("click.vc.siteheader",function(a){f.$dropdownMenuTrigger.parent().removeClass("open")}),a(b).off("scroll.vc.siteheader").on("scroll.vc.siteheader",function(c){var e=a(b).scrollTop();d.log(f.lastScroll,e),e>=f.lastScroll?(f.$container.addClass(f.makeRoomClass),d.log("make room!")):f.$container.removeClass(f.makeRoomClass),f.lastScroll=e})}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.searchterm={config:{nTermsURL:"../HomeWEB/KeywordAutoComplete?term=%QUERY",nTermsCategoryURL:"/terms-cat.json?%QUERY",destChoiceURL:"/SearchListWEB/DecideSearchPage?sq=%SEARCH_TERM%",scriptURLs:{ntypeahead:"/js/vendor/typeahead/typeahead.bundle.min.js"},searchterm:{qsearchPattern:"qsearch?sq=%SEARCH_TERM%&sl=%SEARCH_LOCATION%",isearchPattern:"isearch?sq=%SEARCH_TERM%",popularSearchesList:[],recentSearchesLocalStorageKey:"vc:searchterm:recent",recentSearchesMax:5,defaultSearchTimeout:2e3,searchLocation:"lagos",limits:{recentSearches:5,popularSearches:5,myMain:1/0,relatedProducts:1/0}}},init:function(){var b=this,c=this.config,d=c.searchterm;return d.$container=a("["+b.attr_name("searchterm")+"]"),d.$searchBtn=a("["+b.attr_name("searchterm-btn")+"]"),d.$container.length?void this.require("ntypeahead",function(){return jQuery().typeahead},function(){d.recentSearches=function(a,c){""===a&&c(b.getRecentSearches())},d.popularSearches=function(a,b){""===a&&b(d.popularSearchesList)},d._myMain=function(a,b,c){""!==a&&d.myMain.search(a,b,c)},d.myMain=new Bloodhound({datumTokenizer:function(a){return Bloodhound.tokenizers.whitespace(a.label)},queryTokenizer:Bloodhound.tokenizers.whitespace,remote:{url:c.nTermsURL,wildcard:"%QUERY",transform:function(a){return a.main||[]}}}),d._relatedProducts=function(a,b,c){""!==a&&d.relatedProducts.search(a,b,c)},d.relatedProducts=new Bloodhound({datumTokenizer:function(a){return Bloodhound.tokenizers.whitespace(a.label)},queryTokenizer:Bloodhound.tokenizers.whitespace,remote:{url:c.nTermsURL,wildcard:"%QUERY",transform:function(a){return a.related||[]}}}),d._suggestionSet=function(a,b,c){""!==a&&d.suggestionSet.search(a,b,c)},d.suggestionSet=new Bloodhound({datumTokenizer:function(a){return Bloodhound.tokenizers.whitespace(a.label)},queryTokenizer:Bloodhound.tokenizers.whitespace,remote:{url:c.nTermsURL,wildcard:"%QUERY",transform:function(a){return a.suggestions||[]}}}),d.searchLocation=d.$container.attr(b.attr_name("location"))||d.searchLocation,d.deviceType=d.$container.attr(b.attr_name("device")),"mobile"==d.deviceType&&(d.limits.recentSearches=4,d.limits.popularSearches=3),d.$container.typeahead({minLength:0,highlight:!0},{name:"popularSearches",source:d.popularSearches,limit:d.limits.popularSearches,templates:{header:'<div class="clearfix"><span class="autocomplete-subtle-header right">Popular Searches</span></div>'}},{name:"recentSearches",source:d.recentSearches,display:"content",limit:d.limits.recentSearches,templates:{header:'<div class="clearfix"><span class="autocomplete-subtle-header right">Recent Searches</span></div>'}},{name:"myMain",source:d._myMain,display:"content",limit:d.limits.myMain,templates:{suggestion:function(a){return"<div><div>"+a.content+'</div><div class="autocomplete-subtle-type">'+a.contenttypetext+"</div></div>"}}},{name:"relatedProducts",source:d._relatedProducts,display:"content",limit:d.limits.relatedProducts,templates:{header:function(a){return'<div class="clearfix"><span class="autocomplete-subtle-header right">Related Products</span></div>';
},suggestion:function(a){return'<div class="clearfix"><div class="autocomplete-item-image"><img src="'+a.image+'"></div><div class="autocomplete-item-name">'+a.content+'</div><div class="autocomplete-item-price">&#8358;'+a.price+"</div></div>"}}},{name:"suggestionSet",source:d._suggestionSet,limit:d.limits.myMain,templates:{header:function(a){return'<div class="autocomplete-dym-header">Did you mean:</div>'}}}),b.events()}):!1},events:function(){var a=this,b=this.config,c=b.searchterm;c.$container.closest("form").on("submit",function(b){return a.startSearch(),!1}),c.$container.off("keyup.vc.searchterm").on("keyup.vc.searchterm",function(b){13==(b.keyCode?b.keyCode:b.which)&&a.startSearch()}),c.$searchBtn.off("click.vc.searchterm").on("click.vc.searchterm",function(b){a.startSearch()}),c.$container.on("typeahead:select",function(b,d){a.log(b,d),d.url?(c.destURL=d.url,a.goToPage()):a.startSearch()})},getRecentSearches:function(){var a=this.config,b=a.searchterm,c=localStorage.getItem(b.recentSearchesLocalStorageKey),d=[];return c&&(d=JSON.parse(c)),d},addToRecent:function(a){var b,c=this,d=this.config,e=d.searchterm,f=c.getRecentSearches();for(b=f.length-1;b>=0;b--)if(f[b].url==a.url){f.splice(b,1);break}f.length>=e.recentSearchesMax&&f.shift(),f.push(a),localStorage.setItem(e.recentSearchesLocalStorageKey,JSON.stringify(f))},startSearch:function(){var b=this,c=this.config,d=c.searchterm;return d.destURL=d.qsearchPattern.replace("%SEARCH_TERM%",d.$container.val().replace(/\s/g,"-")).replace("%SEARCH_LOCATION%",d.searchLocation),d.$container.val().replace(/\s/g,"")?(a.getJSON(c.destChoiceURL.replace("%SEARCH_TERM%",d.$container.val()),function(a){clearTimeout(d.defaultSearchTimeout),a.isearch&&(d.destURL=d.isearchPattern.replace("%SEARCH_TERM%",d.$container.val())),b.goToPage()}),void b.log("submitted")):!1},goToPage:function(){var a=this,c=this.config,d=c.searchterm;return d.isLoading?!1:(a.log(d.destURL),a.addToRecent({content:d.$container.val(),url:d.destURL}),d.isLoading=!0,b.location="/"+d.destURL,void a.log(location.href))}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.scrolltotop={config:{},init:function(){var b=this,c=this.config,d=c.scrolltotop;d.offset=300,d.offsetOpacity=1200,d.scrollTopDuration=700,c.$scrolltotop=a("["+b.attr_name("scrolltotop")+"]"),this.events()},events:function(){var c=this.config,d=c.scrolltotop;a(b).scroll(function(){a(this).scrollTop()>d.offset?c.$scrolltotop.addClass("sc-vc-is-visible"):c.$scrolltotop.removeClass("sc-vc-is-visible sc-vc-fade-out"),a(this).scrollTop()>d.offsetOpacity&&c.$scrolltotop.addClass("sc-vc-fade-out")}),c.$scrolltotop.off("click.vc").on("click.vc",function(b){b.preventDefault(),a("body,html").animate({scrollTop:0},d.scrollTopDuration)})}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.ntabs={config:{ntabs:{activeTabClass:"active",tabsContainerClass:"tabs-content",tabsClass:"content"}},init:function(){var b=this,c=(this.config,this.config.ntabs);c.tabTriggers=a("["+b.attr_name("tab")+"]"),c.tabContents=a("."+c.tabsContainerClass).find("."+c.tabsClass),this.events()},events:function(){var a=this,b=(this.config,this.config.ntabs);b.tabTriggers.off("click.vc.tabs").on("click.vc.tabs",function(b){b.preventDefault(),a.showTab(this)})},showTab:function(b){var c=this,d=(this.config,this.config.ntabs),e=a(b).attr("href");d.tabContents.removeClass(d.activeTabClass),d.tabContents.filter(e).addClass(d.activeTabClass),a(b).closest("["+c.attr_name("tabs")+"]").children("li").removeClass(d.activeTabClass),a(b).closest("["+c.attr_name("tabs")+"] li").addClass(d.activeTabClass)}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.searchlocation={init:function(){var b=this,c=this.config,d=c.searchlocation;return d.$container=a(".search-location-box"),d.$container.length?(d.$searchLocationCurrent=d.$container.find(".js-current-location"),d.$searchLocationInput=d.$container.find("["+b.attr_name("searchlocation-input")+"]"),d.$searchLocationEditShow=d.$container.find(".js-show-edit"),d.$searchLocationEditSection=d.$container.find(".js-search-location-edit-section"),d.$searchLocationEditCancel=d.$container.find(".js-cancel-edit"),void this.require("ntypeahead",function(){return jQuery().typeahead},function(){b.log("searchlocation.."),d.searchLocation=new Bloodhound({datumTokenizer:function(a){return Bloodhound.tokenizers.whitespace(a.label)},queryTokenizer:Bloodhound.tokenizers.whitespace,remote:{url:c.locationsURL,wildcard:"%QUERY"}}),d.$searchLocationInput.typeahead({minLength:2,highlight:!0},{name:"searchlocation",source:d.searchLocation,display:"label"}),b.events()})):!1},events:function(){var a=this,b=this.config,c=b.searchlocation;a.log("searchlocation.."),c.$searchLocationEditShow.off("click.vc.nlisting").on("click.vc.nlisting",function(a){a.preventDefault(),c.$searchLocationCurrent.hide(),c.$searchLocationEditSection.fadeIn()}),c.$searchLocationEditCancel.off("click.vc.nlisting").on("click.vc.nlisting",function(a){a.preventDefault(),c.$searchLocationEditSection.hide(),c.$searchLocationCurrent.fadeIn()})}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.recentitems={init:function(){var b,c,d,e=this,f=e.config,g="vc:itemdata:recent",h=a("["+e.attr_name("item-data")+"]"),i=a("["+e.attr_name("recentitems")+"]"),j=5,k=a("#recentItemsTemplate").html();e.log("In recently viewed items component."),e.require("doT",function(){return"undefined"!=typeof doT},function(){if(i.length&&(c=localStorage.getItem(g))){b=JSON.parse(c),e.log(b);var l={};l.docs=b,l.user=f.user;var m=a("<ul>").addClass("grid-view"),n=doT.template(k)(l);m.append(n),i.append(m)}if(h.length){var o=h.attr(e.attr_name("item-data")),p=JSON.parse(o);if(e.log(p),c=localStorage.getItem(g),e.log(c),b=[],c){for(b=JSON.parse(c),d=b.length-1;d>=0;d--)if(b[d].skuId==p.skuId){b.splice(d,1);break}b.length>=j&&b.shift()}b.push(p),localStorage.setItem(g,JSON.stringify(b))}e.events()})},events:function(){}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.cartCalculator={config:{$cartCalc:a("[data-vc-cart-calculator]"),$cartItem:a(".js-cat-item"),$subTotal:a(".js-cat-subtotal"),$delvTotal:a(".js-cat-dilivery-total"),$discount:a(".js-cat-discount"),$total:a(".js-cat-total"),$qty:a(".js-cat-item-qty"),moneyFormat:wNumb({mark:".",thousand:","})},calculateItem:function(b){var c=b.data.self,d=c.config,e=a(this),f=+e.val(),g=e.closest(".js-cat-item"),h=g.find(".js-item-price"),i=g.find(".js-you-save"),j=h.data("vc-cat-item-price"),k=f*+j;h.data("item-total-price",k).text(d.moneyFormat.to(k)),i.length&&i.text(d.moneyFormat.to(+i.data("you-save")*f)),c.calculateSubtotal()},calculateSubtotal:function(){var b=this,c=b.config,d=0,e=0;a.each(c.$cartItem,function(b){var c=a(this);d+=c.find(".js-item-price").data("item-total-price"),e+=c.find(".js-deliv-price").data("vc-item-delivery-price")}),c.$subTotal.data("vc-cat-subtotal",d).text(c.moneyFormat.to(d)),c.$delvTotal.data("vc-cat-delivery-total",e).text(c.moneyFormat.to(e)),b.calculateTotal()},calculateTotal:function(){var a=this.config,b=a.$subTotal.data("vc-cat-subtotal")+a.$delvTotal.data("vc-cat-delivery-total")-a.$discount.data("vc-cat-discount");a.$total.text(a.moneyFormat.to(b))},init:function(){var a=this;a.config.$cartCalc.length&&a.events()},events:function(){var a=this,b=a.config;b.$qty.on("change",{self:a},a.calculateItem)}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.popover={config:{popover:{margin:5,position:"bottom"}},init:function(){var b=this,c=this.config,d=c.popover;d.$container=a("["+b.attr_name("popover")+"]"),d.$popoverContents=a("["+b.attr_name("popover-content")+"]"),this.events()},events:function(){var b=this,d=this.config,e=d.popover;e.$container.off("mouseenter.vc.popover").on("mouseenter.vc.popover",function(c){var d=a(this);c.preventDefault(),d[0].hasAttribute(b.attr_name("hover"))&&b.openPopover(d)}),e.$container.off("mouseleave.vc.popover").on("mouseleave.vc.popover",function(c){var d=a(this);c.preventDefault(),d[0].hasAttribute(b.attr_name("hover"))&&b.closePopover(d)}),e.$container.off("click.vc.popover").on("click.vc.popover",function(c){var d=a(this);c.preventDefault(),c.stopPropagation(),b.openPopover(d)}),a(c).off("click.vc.popover").on("click.vc.popover",function(a){e.$popoverContents.removeClass("is-open")}),e.$popoverContents.off("click.vc.popover").on("click.vc.popover",function(a){a.preventDefault(),a.stopPropagation()})},openPopover:function(c,d){var e=this,f=this.config,g=f.popover,h=c.attr(e.attr_name("popover")),i=a("["+e.attr_name("popover-content")+'="'+h+'"]').toggleClass("is-open");g.$popoverContents.not(i).removeClass("is-open"),d&&(i.addClass("is-open"),e.log("forced"));var j=c.offset(),k=i.offsetParent(),l=k.offset(),m=d||c.attr(e.attr_name("position"))||g.position;e.log(i.outerHeight());var n={top:0,left:0};switch(m){case"left":n={top:0,left:-i.outerWidth()-g.margin};break;case"right":n={top:0,left:c.outerWidth()+g.margin};break;case"top":n={top:-i.outerHeight()-g.margin,left:0},j.left>a(b).width()-j.left+c.outerWidth()&&(n.left=-i.outerWidth()+c.outerWidth());break;case"bottom":n={top:c.outerHeight()+g.margin,left:0},j.left>a(b).width()-j.left+c.outerWidth()&&(n.left=-i.outerWidth()+c.outerWidth())}i.css({top:j.top-l.top+n.top,left:j.left-l.left+n.left}),"top"==m&&i.offset().top<0?e.openPopover(c,"bottom"):"bottom"==m&&i.offset().top+i.height()>a(b).height()?e.openPopover(c,"top"):"left"==m&&i.offset().left<0?e.openPopover(c,"bottom"):"right"==m&&i.offset().left+i.width()>a(b).width()&&e.openPopover(c,"bottom")},closePopover:function(b){var c=this,d=this.config,e=(d.popover,b.attr(c.attr_name("popover"))),f=a("["+c.attr_name("popover-content")+'="'+e+'"]');f.removeClass("is-open")}}}(jQuery,window,document),function(a){window.app.comps.dropzone={config:{$userpicThumb:a(".userpic-thumb"),$picLoading:a(".pic-loading")},init:function(){var b=this,c=this.config;c.$addPhotoModal.length&&this.require("dropzone",function(){return"undefined"!=typeof Dropzone},function(){var c='<div class="dz-preview dz-file-preview">';c+='<div class="dz-details">',c+='<div class="dz-filename"><span data-dz-name></span></div>',c+='<div class="dz-size" data-dz-size></div>',c+="<img data-dz-thumbnail />",c+="</div>",c+='<div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>',c+='<div class="dz-success-mark"><span class="icon-ok"></span></div>',c+='<div class="dz-error-mark"><span class="icon-cancel"></span></div>',c+='<div class="dz-error-message"><span data-dz-errormessage></span></div>',c+="</div>";var d=function(a){var b='<div class="edit-preview">';return b+='<div class="edit-thumb-container">',b+='<img class="edit-thumb" src="'+a.fileThumbUrl+'" alt="thumb">',b+="</div>",b+='<div class="edit-details-container">',b+='<input type="text" id="title" name="'+a.fileNewName+'" data-original="'+a.fileName+'" placeholder="Image Caption">',b+='<textarea name="'+a.fileNewName+'" id="description" cols="30" rows="10" data-original="'+a.fileName+'" placeholder="Write image description here..."></textarea>',b+="</div>",b+="</div>"};Dropzone.autoDiscover=!1;var e=!1,f=[],g=[],h=new Dropzone("#add-photo",{acceptedFiles:"image/*",previewTemplate:c,maxFilesize:4,autoProcessQueue:!1,addRemoveLinks:!0,init:function(){this.on("complete",function(c){if(b.log(g),"OK"==c.xhr.statusText){e=!0;for(var d=0;d<f.length;d++)f[d].fileName==c.name&&g.push({fileName:f[d].fileName,fileThumbUrl:f[d].fileThumbUrl,fileNewName:JSON.parse(c.xhr.responseText)})}a(c._removeLink).hide(),0===this.getUploadingFiles().length&&0===this.getQueuedFiles().length&&(e?(a("#addPhotoModal .btn-box").show(),a("#addPhotoModal .upload-btn-box").hide()):this.notifyMe({message:"Sorry there was an issue uploading files. Please try again later.",type:"error"}))}),this.on("thumbnail",function(a,b){f.push({fileName:a.name,fileThumbUrl:b,fileNewName:""})}),this.on("addedfile",function(b){a("#addPhotoModal .upload-btn-box").show()}),this.on("processing",function(a){this.options.autoProcessQueue=!0}),this.on("removedfile",function(b){0===this.getAcceptedFiles().length&&(a("#addPhotoModal .upload-btn-box").fadeOut(),a("#addPhotoModal .btn-box").fadeOut(),a("#addPhotoModal .save-btn-box").fadeOut())})}});a("#addPhotoModal .edit-btn").on("click",function(){g.forEach(function(b,c){a(".add-photo-2").append(d(b))}),a(".add-photo-1").hide(),a(".add-photo-2").fadeIn(),a("#addPhotoModal .btn-box").hide(),a("#addPhotoModal .save-btn-box").fadeIn()}),a("#addPhotoModal .upload-btn").on("click",function(){h.processQueue()}),a("#addPhotoModal").on("closed",function(){h.removeAllFiles(),e=!1,g=[],f=[],a(".add-photo-1").show(),a(".add-photo-2").hide(),a("#addPhotoModal .btn-box").hide(),a("#addPhotoModal .save-btn-box").hide(),a("#addPhotoModal .upload-btn-box").hide()}),a(".no-business-image p").on("click",function(){a(".addphoto-btn").trigger("click")})}),c.$uploadAvatar.length&&this.require("dropzone",function(){return"undefined"!=typeof Dropzone},function(){Dropzone.autoDiscover=!1;new Dropzone("#upload-avatar",{acceptedFiles:"image/*",maxFilesize:1,init:function(){this.on("complete",function(a){c.$picLoading.hide(),"OK"==a.xhr.statusText&&a.xhr.responseText&&(b.notifyMe("Your profile picture has been successfully updated."),c.$userpicThumb.add("["+b.attr_name("userpic")+"]").attr("src",JSON.parse(a.xhr.responseText)))}),this.on("addedfile",function(a){c.$picLoading.show()}),this.on("thumbnail",function(a,b){c.$userpicThumb.attr("src",b)})}})})}}}(jQuery),function(a){window.app.comps.rating={config:{$jsRating:a(".js-ratings")},init:function(){var b=this,c=this.config;if(c.$jsRating.length<=0)return!1;var d="",e=c.$jsRating.find("span.title");c.$jsRating.find("label").on("mouseover",function(){a(this).addClass("active").prevAll("label").addClass("active");var c=a(this).attr("title");e.text(c),b.log(c)}).on("mouseout",function(){a(this).removeClass("active").prevAll("label").removeClass("active"),e.text(d)}).on("click",function(){var f=a(this).parent().find("label").index(this);b.log(a(this).parent().find("label").index(this));var g=c.$jsRating.find("label:eq("+f+")");g.removeClass("set active").siblings("label").removeClass("set active"),g.addClass("set").prevAll("label").addClass("set"),d=a(this).attr("title"),e.text(d),b.log(d)})}}}(jQuery),function(a,b,c,d){b.app.comps.textchanger={config:{typeValues:["Restaurants","Phones","Spas","Furniture","Cinemas","Discounts","Home Appliances"]},init:function(){var a=this.config,b=this;a.$jumbotronContainer.length&&this.require("textchanger",function(){return!!jQuery().changeText},function(){a.$introMessage.add("["+b.attr_name("textchanger")+"]").changeText({changeValues:a.typeValues,cursorOrientation:a.typeCursorOrientation})}),this.events()},events:function(){}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.slider={init:function(){var b=this.config;b.sliderBox=a("["+this.attr_name("slider")+"]"),b.sliderList=b.sliderBox.children("ul").first(),b.sliderPager=b.sliderBox.children("["+this.attr_name("slider-pager")+"]").first(),b.sliderList.bxSlider({pagerCustom:"["+this.attr_name("slider-pager")+"]"}),this.events()},events:function(){}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.range={config:{$rangeSlider:a("[data-vc-range]"),$rangeTextLower:a("[data-vc-range-text-lower]"),$rangeTextUpper:a("[data-vc-range-text-upper]"),rangeMin:0,rangeMax:100},init:function(){var b=this,c=b.config;c.$rangeSlider=a(c.$rangeSlider.selector),c.$rangeTextLower=a(c.$rangeTextLower.selector),c.$rangeTextUpper=a(c.$rangeTextUpper.selector);var d=c.$rangeSlider.attr(this.attr_name("min")),e=c.$rangeSlider.attr(this.attr_name("max")),f=c.$rangeSlider.attr(this.attr_name("setmin")),g=c.$rangeSlider.attr(this.attr_name("setmax"));c.rangeMin=d||c.rangeMin,c.rangeMax=e||c.rangeMax,c.setMin=f||c.rangeMin,c.setMax=g||c.rangeMax,c.$rangeSlider.noUiSlider({start:[c.setMin,c.setMax],connect:!0,step:50,range:{min:+c.rangeMin,max:+c.rangeMax}},!0),c.$rangeSlider.Link("lower").to(c.$rangeTextLower),c.$rangeSlider.Link("upper").to(c.$rangeTextUpper),this.events(),c.isSubscribed||this.subscriptions(),c.isSubscribed=!0},events:function(){var b=this,c=b.config;c.$rangeSlider.on("set",function(){b.publish("vc:store/filter",{filters:[{checked:!0,type:"minprice",originalVal:c.rangeMin,val:+a(this).val()[0]},{checked:!0,type:"maxprice",originalVal:c.rangeMax,val:+a(this).val()[1]}]})}),c.$rangeSlider.on("set",function(){})},subscriptions:function(){var a=this,b=a.config;a.subscribe("vc:store/refresh",function(){a.init()}),a.subscribe("vc:store/setprice",function(c,d){a.log("Setting the price..."),a.isArrayEqual(d.range,b.$rangeSlider.val())||b.$rangeSlider.val(d.range)})},isArrayEqual:function(a,b){if(a.length!=b.length)return!1;for(var c=0;c<a.length;c++)if(a[c]!=b[c])return!1;return!0}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.filter={init:function(){var b=this,c=b.config;c.filterBox=a("["+this.attr_name("filter")+"]"),c.sortEl=a("["+this.attr_name("sort")+"]"),c.filterSearchBox=a("["+b.attr_name("filter-search")+"]"),c.searchInput=c.filterSearchBox.find(".filter-search-input"),c.openToggle=c.filterBox.find(".filter-open-toggle"),c.filterList=c.filterBox.find(".filter-list"),c.clearFilterLink=c.filterBox.find(".clear-filter"),c.activeFilterLinks=c.filterBox.find(".active-filter"),this.events(),c.isSubscribed||this.subscriptions(),c.isSubscribed=!0},events:function(){var b=this,c=b.config;c.openToggle.off("click.vc.filter").on("click.vc.filter",function(c){c.preventDefault(),a(this).closest("["+b.attr_name("filter")+"]").toggleClass("close"),a(this).toggleClass("icon-down-micro").toggleClass("icon-up-micro")}),c.clearFilterLink.off("click.vc.filter").on("click.vc.filter",function(c){c.preventDefault();var d=(a(this).prop("checked"),[]),e=a(this).closest("["+b.attr_name("filter")+"]"),f=e.data("id");e.find('input[type="checkbox"]').each(function(b,c){d.push({checked:!1,type:f,val:a(c).val()})}),b.publish("vc:store/filter",{filters:d})}),c.searchInput.off("keydown.vc.filter").on("keydown.vc.filter",b.debounce(function(){b.filterList(a(this).closest("["+b.attr_name("filter")+"]"),a(this).val())},300)),c.filterList.off("change.vc.filter").on("change.vc.filter",'input[type="checkbox"]',function(){var d=a(this).prop("checked"),e=a(this).closest("["+b.attr_name("filter")+"]").data("id"),f=a(this).val();b.publish("vc:store/filter",{filters:[{checked:d,type:e,val:f}]}),a(this).closest("["+b.attr_name("filter")+"]").find(c.searchInput).val("").trigger("keydown.filter").trigger("blur.filter")}),c.filterList.off("click.vc.filter").on("click.vc.filter",".link-filter",function(c){c.preventDefault();var d=a(this).closest("["+b.attr_name("filter")+"]").data("id");b.publish("vc:store/filter",{filters:[{checked:!0,type:d,val:a(this).data("value")}],href:a(this).attr("href")})}),c.sortEl.off("change.vc.filter").on("change.vc.filter",function(){b.publish("vc:store/filter",{filters:[{checked:!0,type:"sort",val:a(this).val()}]})}),c.activeFilterLinks.off("click.vc.filter").on("click.vc.filter",function(c){c.preventDefault();var d=[],e=a(this).attr(b.attr_name("type")),f=a(this).attr(b.attr_name("value"));switch(e){case"price":d.push({checked:!1,type:"minprice",val:f.split("|")[0]}),d.push({checked:!1,type:"maxprice",val:f.split("|")[1]});break;default:d.push({checked:!1,type:e,val:f})}b.publish("vc:store/filter",{filters:d})})},subscriptions:function(){var a=this;a.config;a.subscribe("vc:store/refresh",function(){a.init()})},filterList:function(b,c){var d=this,e=d.config;b.find(e.filterList).find("li").removeClass("hide").not(function(){return!c||-1!=a(this).text().toLowerCase().indexOf(c.toLowerCase())}).addClass("hide")}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.buttontoggle={init:function(){var b=this,c=this.config;c.buttontoggle.button=a("["+b.attr_name("toggle")+"]"),this.events()},events:function(){var b=this;this.config;a(c).on("click","["+b.attr_name("toggle")+"]",function(c){c.preventDefault();var d=this,e=a(d).attr("href"),f=a(d).attr(b.attr_name("options")),g=a(d).attr(b.attr_name("toggle"));f=b.data_options(f),b.log(e),b.log(f),b.log(g),a.getJSON(e,f).done(function(b){a(d).toggleClass(g)}).fail(function(){})})},data_options:function(a){function b(a){return!isNaN(a-0)&&null!==a&&""!==a&&a!==!1&&a!==!0}var c={};if("object"==typeof a)return a;for(var d=(a||"=").split(";"),e=d.length,f=function(a){return a.replace(/^\s+|\s+$/g,"")};e--;){var g=d[e].split("=");/true/i.test(g[1])&&(g[1]=!0),/false/i.test(g[1])&&(g[1]=!1),b(g[1])&&(g[1]=parseInt(g[1],10)),2===g.length&&g[0].length>0&&(c[f(g[0])]=f(g[1]))}return c}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.jumbotron={config:{imgBgClass:"image-bg"},init:function(){var b=this,c=this.config,d=a("["+b.attr_name("jumbotron")+"]");d.each(function(){console.log("Jumbo");var d=a(this).attr(b.attr_name("src"));d&&a(this).css({background:"url("+d+") no-repeat",backgroundSize:"cover"}).addClass(c.imgBgClass)}),this.events()},events:function(){}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.maps={config:{maps:{zoom:14,scrollwheel:!1,styles:{mapbox:[{featureType:"water",stylers:[{saturation:43},{lightness:-11},{hue:"#0088ff"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{hue:"#ff0000"},{saturation:-100},{lightness:99}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#808080"},{lightness:54}]},{featureType:"landscape.man_made",elementType:"geometry.fill",stylers:[{color:"#ece2d9"}]},{featureType:"poi.park",elementType:"geometry.fill",stylers:[{color:"#ccdca1"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#767676"}]},{featureType:"road",elementType:"labels.text.stroke",stylers:[{color:"#ffffff"}]},{featureType:"poi",stylers:[{visibility:"off"}]},{featureType:"landscape.natural",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#b8cb93"}]},{featureType:"poi.park",stylers:[{visibility:"on"}]},{featureType:"poi.sports_complex",stylers:[{visibility:"on"}]},{featureType:"poi.medical",stylers:[{visibility:"on"}]},{featureType:"poi.business",stylers:[{visibility:"simplified"}]}],flatcolors:[{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#747474"},{lightness:"23"}]},{featureType:"poi.attraction",elementType:"geometry.fill",stylers:[{color:"#f38eb0"}]},{featureType:"poi.government",elementType:"geometry.fill",stylers:[{color:"#ced7db"}]},{featureType:"poi.medical",elementType:"geometry.fill",stylers:[{color:"#ffa5a8"}]},{featureType:"poi.park",elementType:"geometry.fill",stylers:[{color:"#c7e5c8"}]},{featureType:"poi.place_of_worship",elementType:"geometry.fill",stylers:[{color:"#d6cbc7"}]},{featureType:"poi.school",elementType:"geometry.fill",stylers:[{color:"#c4c9e8"}]},{featureType:"poi.sports_complex",elementType:"geometry.fill",stylers:[{color:"#b1eaf1"}]},{featureType:"road",elementType:"geometry",stylers:[{lightness:"100"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"},{lightness:"100"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#ffd4a5"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#ffe9d2"}]},{featureType:"road.local",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{weight:"3.00"}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{weight:"0.30"}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#747474"},{lightness:"36"}]},{featureType:"road.local",elementType:"labels.text.stroke",stylers:[{color:"#e9e5dc"},{lightness:"30"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{visibility:"on"},{lightness:"100"}]},{featureType:"water",elementType:"all",stylers:[{color:"#d2e7f7"}]}]}}},init:function(){var b=this,c=this.config,d=c.maps;return d.$container=a("["+b.attr_name("maps")+"]"),d.$container.length&&"undefined"!=typeof google?(d.lat=d.$container.attr(b.attr_name("lat")),d["long"]=d.$container.attr(b.attr_name("long")),d.title=d.$container.attr(b.attr_name("title")),this.loadMaps(),void this.events()):!1},events:function(){var c=this,d=this.config,e=d.maps;google.maps.event.addDomListener(b,"load",a.proxy(c.loadMaps,c)),c.subscribe("vc:hashChange",function(a,b){if(b.hash.indexOf("overview-section")>-1){var c=e.mapInstance.getCenter();google.maps.event.trigger(e.mapInstance,"resize"),e.mapInstance.setCenter(c)}})},loadMaps:function(){var a=this.config,b=a.maps,c=new google.maps.LatLng(b.lat,b["long"]);new google.maps.LatLngBounds(c);b.mapOptions={zoom:b.zoom,center:c,scrollwheel:b.scrollwheel,styles:b.styles.mapbox},b.mapInstance=new google.maps.Map(b.$container[0],b.mapOptions);var d="/img/vconnect-map-business.png";new google.maps.Marker({position:c,map:b.mapInstance,animation:google.maps.Animation.DROP,title:b.title,icon:d})}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.store={init:function(){var b=this,c=this.config;if(c.container=a("["+b.attr_name("store")+"]"),c.container.length<=0)return!1;c.listViewButton=a(".st-list-btn"),c.gridViewButton=a(".st-grid-btn"),c.list=a(".st-items-list"),c.isLoaded=!1,c.isLoadingMore=!1,c.isLoading=!1,c.loadBottomThreshold=100,c.$storeTopbar=c.container.find(".st-topbar"),c.$contentWrapper=c.container.find(".st-content-wrapper"),c.$noResultContainer=c.container.find(".no-result"),c.$loadMoreWrapper=c.container.find(".load-more"),c.$filterContainer=c.container.find(".filters-wrapper"),c.$storeItemsWrapper=c.container.find(".st-items-wrapper"),c.$storeTabLink=a('a[href="#st-section"]'),c.storeDataUrl=c.storeDataUrl||"/Detail/GetStore",c.itemsPerPage=20,c.totalCount=100,c.filterOptions={},c.filterOptions.supplierid=c.container.data("bizid"),c.filterOptions.pageNum=1,c.filterOptions.productid="",c.filterOptions.brandid="",c.filterOptions.attributeid="",c.$storeTopbar.hide(),c.$contentWrapper.hide();var d=c.container.attr(b.attr_name("preloaded")),e=c.container.attr(b.attr_name("itemsperpage")),f=c.container.attr(b.attr_name("totalcount"));d&&(c.filterOptions.pageNum=+d+1,c.itemsPerPage=+e,c.totalCount=+f,c.isLoaded=!0,c.$storeTopbar.show(),c.$contentWrapper.show()),this.require("doT",function(){return"undefined"!=typeof doT},function(){c.isLoaded||b.fetch(),b.events(),b.bindScroll()})},events:function(){var b=this,c=this.config;b.log("In store events."),c.listViewButton.off("click.vc.store").on("click.vc.store",function(b){b.preventDefault(),c.list.removeClass("grid-view").addClass("list-view"),a(this).addClass("active"),c.gridViewButton.removeClass("active")}),c.gridViewButton.off("click.vc.store").on("click.vc.store",function(b){b.preventDefault(),c.list.removeClass("list-view").addClass("grid-view"),a(this).addClass("active"),c.listViewButton.removeClass("active")}),c.$storeTabLink.off("click.vc.store").on("click.vc.store",function(a){c.isLoaded||b.fetch()}),b.subscribe("vc:hashChange",function(a,d){d.hash.indexOf("st-section")>-1&&(c.isLoaded||b.fetch())}),b.request("vc:currentHash",function(a){a.hash.indexOf("st-section")>-1&&(c.isLoaded||b.fetch())}),b.subscribe("vc:store/filter",function(d,e){for(var f=e.filters,g="",h=[],i=0;i<f.length;i++){h=[],g="";var j=f[i];switch(j.type){case"brands":g="brandid";break;case"products":c.isLoaded=!1,g="productid",c.filterOptions.pageNum=1,c.filterOptions.productid="",c.filterOptions.brandid="",c.filterOptions.attributeid="";break;case"sort":g="sort",c.filterOptions[g]="";break;case"minprice":g="minprice",c.filterOptions[g]="";break;case"maxprice":g="maxprice",c.filterOptions[g]="";break;default:g="attributeid"}if(c.filterOptions[g]&&(h=c.filterOptions[g].split(",")),j.checked)h.push(j.val);else{var k=a.inArray(j.val,h);k>-1&&h.splice(k,1)}c.filterOptions[g]=h.join()}b.log(c.filterOptions),c.filterOptions.pageNum=1,b.fetch()}),b.quoteEvents()},quoteEvents:function(){var b=this,c=this.config;c.quoteButton=a("["+b.attr_name("quote")+"]"),c.quoteModal=a("#quoteModal"),c.quoteForm=a(".getquote-form"),c.quoteButton.off("click").on("click",function(b){b.preventDefault();var d=a(this).parents(".st-item"),e=d.data("id"),f=d.find(".item-image img").attr("src"),g=d.find(".item-name").html(),h=d.find(".item-price").html(),i=d.find(".item-rating").html();c.quoteModal.find(".message").val(""),c.quoteModal.find(".itemid").val(e),c.quoteModal.find(".item-image img").attr("src",f),c.quoteModal.find(".item-name").html(g||""),c.quoteModal.find(".item-price").html(h||""),c.quoteModal.find(".item-rating").html(i||""),c.quoteModal.foundation("reveal","open")}),c.quoteForm.off("valid").on("valid",function(){var d=a(this),e=a(this).attr("action"),f={itemid:d.find(".itemid").val(),name:d.find(".username").val(),phone:d.find(".phone").val(),whenToBuy:d.find("input:radio[name=whenToBuy]:checked").val(),message:d.find(".message").val()};b.log(f),b.loading(c.quoteModal,"start"),a.ajax({url:e,type:"POST",dataType:"json",data:f,success:function(a){1==a.status?(c.quoteModal.foundation("reveal","close"),b.notifyMe("Your enquiry has been made to the business owner.")):b.notifyMe("Oops! Something went wrong. You can try again later.")},complete:function(){b.loading(c.quoteModal,"stop")}})})},fetch:function(){var b=this,c=this.config,d=a("#storeItemsTemplate").html(),e=a("#filterListTemplate").html(),f=a("#priceFilterTemplate").html(),g=a("#productFilterTemplate").html();return c.isLoading?!0:(c.isLoading=!0,c.isLoaded?c.isLoadingMore?b.loading(c.$loadMoreWrapper,"start"):b.loading(c.$storeItemsWrapper,"start"):b.loading(c.container,"start"),void a.getJSON(c.storeDataUrl,c.filterOptions,function(h){b.log(h),b.log(this.url);var i,j="",k={},l="",m="",n="",o={},p={};if(c.itemsPerPage=h.selectedvalues.rowsPerPage,c.totalCount=h.totalcount,p.name="Categories",p.id="products",p.options=p.options||[{name:"All Categories",id:""}],a.each(h.product_services,function(a,b){p.options.push({name:b.productname,id:b.productid})}),h.brands[0]){o.brands=o.brands||{};var q=o.brands;q.name="Brands",q.id="brands",q.options=q.options||[],a.each(h.brands,function(a,b){q.options.push({name:b.brandname,id:b.brandid})})}if(a.each(h.attributevalues,function(a,b){o[b.attributeparentname]=o[b.attributeparentname]||{};var c=o[b.attributeparentname];c.name=b.attributeparentname,c.id=b.attributeparentid,c.options=c.options||[],c.options.push({name:b.attributename,id:b.attributeid})}),b.log(o),"undefined"!=typeof doT){k.items=h.itemdetails,k.moneyFormat=wNumb?wNumb({mark:".",thousand:","}):{to:function(){}},j=doT.template(d)(k),c.filterOptions.pageNum<2&&c.list.empty(),c.list.append(j),c.totalCount?(c.list.show(),c.$noResultContainer.hide()):(c.list.hide(),c.$noResultContainer.show()),l=doT.template(e)(o),m=doT.template(f)({minprice:+h.minprice,maxprice:+h.maxprice}),n=doT.template(g)(p);var r,s=a(l),t=a(m),u=a(n),v=h.selectedvalues.attributeid&&h.selectedvalues.attributeid.split(","),w=h.selectedvalues.brandid&&h.selectedvalues.brandid.split(","),x=+h.selectedvalues.productid,y=p.options.length,z={};for(i=0;y>i;i++)z=p.options[i],r=u.filter('[data-id="'+p.id+'"]').find('.link-filter[data-value="'+z.id+'"]'),b.log(r),b.log(u),z.id==x?r.addClass("active"):r.removeClass("active");for(var A in o)if(o.hasOwnProperty(A)){b.log("Updating filter: "+A+":"+ +new Date),z={};var B,C=o[A],D=C.options.length;for(i=0;D>i;i++)z=C.options[i],"brands"==A?a.inArray(""+z.id,w)>-1&&(B=s.find("input#vc-filteropt-"+C.id+"-"+z.id),B.prop("checked",!0)):a.inArray(""+z.id,v)>-1&&(B=s.find("input#vc-filteropt-"+C.id+"-"+z.id),B.prop("checked",!0));b.log("Updated filter: "+A+":"+ +new Date)}(h.selectedvalues.minprice||h.selectedvalues.maxprice)&&(b.log(h.selectedvalues.minprice+","+h.selectedvalues.maxprice),t.find("[data-vc-range]").attr("data-vc-setmin",h.selectedvalues.minprice).attr("data-vc-setmax",h.selectedvalues.maxprice)),b.log("rendering filters..."+ +new Date),c.$filterContainer.empty(),c.$filterContainer.append(u),c.$filterContainer.append(s),h.maxprice&&c.$filterContainer.append(t),
b.log("rendered filters."+ +new Date),b.publish("vc:store/refresh"),b.bindScroll()}b.quoteEvents(),c.$storeTopbar.show(),c.$contentWrapper.show(),c.isLoaded?c.isLoadingMore?b.loading(c.$loadMoreWrapper,"stop"):b.loading(c.$storeItemsWrapper,"stop"):b.loading(c.container,"stop"),c.isLoaded=!0,c.isLoading=!1,c.isLoadingMore=!1,b.publish("vc:track/storeloaded",{storedata:h})}))},renderStoreItem:function(b){var c=(this.config,a("#storeItemTemplate").html());return this.render(c,b)},renderProductsFilter:function(a){},renderBrandsFilter:function(a){},renderFilter:function(b){var c=this,d=(this.config,a("#filterListTemplate").html()),e=d.find(".filter-list li").parent().html(),f="",g="";f=c.render(d,b);for(var h in b.options)b.options.hasOwnProperty(h)&&(g+=c.render(e,b));a(f).find(".filter-list").empty().append(g)},setFilterOptions:function(a,b){},updateFilter:function(a){},bindScroll:function(){var c=this,d=this.config;a(b).off("scroll.vc.store").on("scroll.vc.store",c.throttle(function(){a(b).height()+a(b).scrollTop()>d.list.height()+d.list.scrollTop()-d.loadBottomThreshold&&(d.container.is(":hidden")||(a(b).off("scroll.store"),c.log("scroll loading??"),c.log(d.filterOptions.pageNum),c.log(d.totalCount),c.log(d.itemsPerPage),d.filterOptions.pageNum*d.itemsPerPage<d.totalCount&&(d.filterOptions.pageNum++,d.isLoadingMore=!0,c.fetch())))},50))}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.getquote={init:function(){var b=this,c=this.config;c.getQuoteBtn=a("["+b.attr_name("getquote")+"]"),c.getQuoteModal=a("["+b.attr_name("getquote-popup")+"]"),c.getQuoteForm=c.getQuoteModal.find(".getquote-form"),this.events()},events:function(){var b=this,c=this.config;c.getQuoteBtn.off("click.vc.getquote").on("click.vc.getquote",function(d){d.preventDefault();var e=a(this).closest("["+b.attr_name("skuid")+"]").attr(b.attr_name("skuid")),f=a(this).closest("["+b.attr_name("itemid")+"]").attr(b.attr_name("itemid")),g=a(this).closest("["+b.attr_name("bizid")+"]").attr(b.attr_name("bizid")),h=a(this).closest("["+b.attr_name("bizname")+"]").attr(b.attr_name("bizname"))||"businesses",i=a(this).closest("["+b.attr_name("data-el")+"]"),j=i.find("["+b.attr_name("itemprice")+"]").html()||"",k=i.find("["+b.attr_name("itemimage")+"] img").attr("src")||"",l=i.find("["+b.attr_name("itemname")+"]").html()||"",m=i.find("["+b.attr_name("itemrating")+"]").html()||"";c.getQuoteModal.find(".message").val(""),c.getQuoteModal.find(".skuid").val(e),c.getQuoteModal.find(".itemid").val(f),c.getQuoteModal.find(".bizid").val(g),h||c.getQuoteModal.find(".business-name").html(h),c.getQuoteModal.find(".item-name").html(l),c.getQuoteModal.find(".item-price").html(j),c.getQuoteModal.find(".item-rating").html(m),c.getQuoteModal.find(".item-image img").attr("src",k),c.getQuoteModal.foundation("reveal","open")}),c.getQuoteForm.off("valid").on("valid",function(){var d=a(this),e=a(this).attr("action"),f={skuid:d.find(".skuid").val(),itemid:d.find(".itemid").val(),bizid:d.find(".bizid").val(),name:d.find(".username").val(),phone:d.find(".phone").val(),whenToBuy:d.find("input:radio[name=whenToBuy]:checked").val(),message:d.find(".message").val()};b.log(f),b.loading(c.getQuoteModal,"start"),a.ajax({url:e,type:"POST",dataType:"json",data:f,success:function(a){1==a.status?(c.getQuoteModal.foundation("reveal","close"),b.notifyMe("Your enquiry has been made to the business owner.")):b.notifyMe("Oops! Something went wrong. You can try again later.")},complete:function(){b.loading(c.getQuoteModal,"stop")}})});var d=b.subscribe("vc:getquote/refresh",function(){d.remove(),b.init()})}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.emailsubscription={config:{},init:function(){var b=this,c=this.config;return c.messageTimeout=5e3,c.$container=a("["+b.attr_name("emailsubscription")+"]"),c.$emailInputWrapper=c.$container.find(".email-input-wrapper"),c.$subscriptionSuccessMessage=c.$container.find(".js-success-message"),c.$container.length?void this.events():!1},events:function(){var b=this,c=this.config;c.$container.find("form").off("valid").on("valid",function(){var d=a(this),e=a(this).attr("action"),f={email:d.find(".email").val()};b.log(f),b.loading(c.$emailInputWrapper,"start"),a.ajax({url:e,type:"POST",dataType:"json",data:f,success:function(a){d.hide(),c.$subscriptionSuccessMessage.fadeIn(),setTimeout(function(){c.$subscriptionSuccessMessage.hide(),d.fadeIn()},c.messageTimeout)},complete:function(){b.loading(c.$emailInputWrapper,"stop")}})})}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.exitintent={config:{exitintent:{exitDelay:300}},init:function(){var b=this,c=this.config,d=c.exitintent;d.$container=a("["+b.attr_name("exitintent")+"]"),this.events()},events:function(){var b=this.config,c=b.exitintent;a("html").off("mouseleave.vc.exitintent").on("mouseleave.vc.exitintent",function(a){a.clientY<=0&&(c.exitTimeout=setTimeout(function(){c.$container.foundation("reveal","open")},c.exitDelay))}),a("html").off("mouseenter.vc.exitintent").on("mouseenter.vc.exitintent",function(a){clearTimeout(c.exitTimeout),c.exitTimeout=null})}}}(jQuery,window,document),function(a){window.app.comps.forum={name:"forum",description:"",config:{$forumList:a(".forum-list"),$forumListItem:a(".forum-list li"),$backToForums:a(".back-forums")},init:function(){var a=this.config;return a.$forumList.length<=0?!1:void this.events()},events:function(){var b=this.config;b.$forumListItem.on("click",function(b){b.preventDefault(),a(".forum-2 .forumid").val(a(this).data("forumid")),a(".forum-2 .forum-date").html(a(this).find(".forum-date").html()),a(".forum-2 .forum-address").html(a(this).find(".forum-address").html()),a(".forum-2 .forum-time").html(a(this).find(".forum-time").html()),a(".forum-1").fadeOut(function(){a(".forum-2").fadeIn()})}),b.$backToForums.on("click",function(b){b.preventDefault(),a(".forum-2").fadeOut(function(){a(".forum-1").fadeIn()})})}}}(jQuery),function(a){window.app.comps.career={config:{$careerListContainer:a(".career-list-container"),$careerApplyButton:a(".career-list-container a.apply-btn"),$applyForm:a("#apply-form")},init:function(){var a=this.config;return a.$careerListContainer.length<=0?!1:void this.events()},events:function(){var b=this.config;b.$careerApplyButton.on("click",function(c){c.preventDefault();var d=a(this).parent("div.content"),e=d.data("jobid"),f=d.find("h3").html();a(".jobid",b.$applyForm).val(e),a("h3",b.$applyForm).html(f),b.$applyForm.siblings().removeClass("active").end().addClass("active")})}}}(jQuery),function(a,b,c,d){b.app.comps.ndetails={config:{ndetails:{photos:{}}},init:function(){var b=this.config,c=b.ndetails.photos;c.uploadButton=a("#addPhotoModal .upload-btn"),c.uploadActions=a("#addPhotoModal .upload-actions"),c.footerNote=a("#addPhotoModal .footer-note"),c.uploadSection=a("#addPhotoModal .photo-upload-box"),c.editSection=a("#addPhotoModal .edit-section"),c.uploadHeader=a("#addPhotoModal .upload-header"),c.editHeader=a("#addPhotoModal .edit-header"),c.editActions=a("#addPhotoModal .edit-actions"),c.saveButton=a("#addPhotoModal .save-btn"),b.ndetails.$editContentSectionLink=a(".js-edit-section-link"),b.ndetails.$sectionContent=a(".js-section-content"),b.ndetails.$sectionEditWrapper=a(".js-section-edit-box"),b.ndetails.$sectionInput=a(".js-section-input"),b.ndetails.$closeEditSection=a(".js-close-edit-section"),this.events(),this.photoUpload()},events:function(){var b=this.config,c=(b.ndetails.store,b.ndetails.photos,b.ndetails);c.$editContentSectionLink.off("click.vc.ndetails").on("click.vc.ndetails",function(b){b.preventDefault(),c.$sectionInput.val(c.$sectionContent.text()),a(this).hide(),c.$sectionContent.hide(),c.$sectionEditWrapper.fadeIn()}),c.$closeEditSection.off("click.vc.ndetails").on("click.vc.ndetails",function(a){a.preventDefault(),c.$editContentSectionLink.show(),c.$sectionEditWrapper.hide(),c.$sectionContent.fadeIn()})},photoUpload:function(){var b=this,c=this.config,d=c.ndetails.photos;d.uploadActions.hide(),d.editActions.hide(),c.$addPhotoModal.length&&this.require("dropzone",function(){return"undefined"!=typeof Dropzone&&c.$addPhotoModal.length>0},function(){var c='<div class="dz-preview dz-file-preview">';c+='<div class="dz-details">',c+='<div class="dz-filename"><span data-dz-name></span></div>',c+='<div class="dz-size" data-dz-size></div>',c+="<img data-dz-thumbnail />",c+="</div>",c+='<div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>',c+='<div class="dz-success-mark"><span class="icon-ok"></span></div>',c+='<div class="dz-error-mark"><span class="icon-cancel"></span></div>',c+='<div class="dz-error-message"><span data-dz-errormessage></span></div>',c+="</div>";var e=function(a){var b='<div class="edit-preview row">';return b+='<div class="edit-thumb-container columns medium-3">',b+='<img class="edit-thumb" src="'+a.fileThumbUrl+'" alt="thumb">',b+="</div>",b+='<div class="edit-details-container columns medium-9">',b+='<input type="text" id="title" name="'+a.fileNewName+'" data-original="'+a.fileName+'" placeholder="Image Caption">',b+='<textarea name="'+a.fileNewName+'" id="description" cols="30" rows="10" data-original="'+a.fileName+'" placeholder="Write image description here..."></textarea>',b+="</div>",b+="</div>"},f=!1,g=[],h=[],i=new Dropzone("#add-nphoto",{acceptedFiles:"image/*",previewTemplate:c,maxFilesize:4,autoProcessQueue:!1,addRemoveLinks:!0,init:function(){this.on("complete",function(c){if(console.log(h),"OK"==c.xhr.statusText){f=!0;for(var i=0;i<g.length;i++)g[i].fileName==c.name&&h.push({fileName:g[i].fileName,fileThumbUrl:g[i].fileThumbUrl,fileNewName:JSON.parse(c.xhr.responseText)})}a(c._removeLink).hide(),0===this.getUploadingFiles().length&&0===this.getQueuedFiles().length&&(f?(h.forEach(function(a,b){console.log(a),d.editSection.append(e(a))}),d.uploadHeader.hide(),d.uploadSection.hide(),d.uploadActions.hide(),d.editHeader.show(),d.editSection.fadeIn(),d.editActions.fadeIn()):b.notifyMe({message:"Sorry there was an issue uploading files. Please try again later.",type:"error"}))}),this.on("thumbnail",function(a,b){g.push({fileName:a.name,fileThumbUrl:b,fileNewName:""})}),this.on("addedfile",function(a){d.footerNote.hide(),d.uploadActions.show()}),this.on("processing",function(a){this.options.autoProcessQueue=!0}),this.on("removedfile",function(a){0===this.getAcceptedFiles().length&&(d.uploadActions.hide(),d.editActions.hide())})}});d.uploadButton.on("click",function(a){a.preventDefault(),i.processQueue()}),a("#addPhotoModal").on("closed",function(){i.removeAllFiles(),f=!1,h=[],g=[],d.footerNote.show(),d.uploadSection.show(),d.editSection.hide(),d.editActions.hide(),d.uploadActions.hide()})})}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.nlisting={config:{listItemsURL:"product.json"},init:function(){var b=this,c=this.config;return c.$listItemsWrapper=a(".lst-items-wrapper"),c.$pageWrapper=a(".lst-wrapper, .product-lst-wrapper"),c.nlistingBaseURL=c.$pageWrapper.attr(b.attr_name("base")),c.$productPageWrapper=a(".product-lst-wrapper"),c.$innerWrapper=a(".lst-inner-wrapper"),c.showNotifyFormClass="show-form",c.$productItemsList=a(".st-items-list"),c.$businessItemsList=a(".lst-items-list"),c.isLoading=!1,c.$loadMoreButton=c.$listItemsWrapper.find(".js-loadmore"),c.$loadMoreWrapper=c.$listItemsWrapper.find(".loadmore-wrapper"),c.pageNum=1,c.totalPages=0,c.itemsPerPage=c.$loadMoreButton.attr(b.attr_name("rows")),c.nListingloadBottomThreshold=100,c.listItemsURL=c.$loadMoreButton.attr(b.attr_name("url")),c.urlOpts={cursormark:c.$loadMoreButton.attr(b.attr_name("cursormark"))},c.showNotifyFormClass="show-form",c.$pageWrapper.length?void b.require("doT",function(){return"undefined"!=typeof doT},function(){b.events(),b.notifyEvents(),b.bindScroll()}):!0},notifyEvents:function(){var b=this,d=this.config;d.$notifyLink=a(".js-notify-link"),d.$closeNotifyForm=a(".js-close-notify-form"),d.$notifyFormWrapper=a(".notify-form-wrapper"),d.$outOfStockWrapper=a(".out-of-stock-actions"),d.$notifyLink.off("click.vc.nlisting").on("click.vc.nlisting",function(b){b.preventDefault(),a(this).closest(d.$outOfStockWrapper).addClass(d.showNotifyFormClass)}),d.$closeNotifyForm.off("click.vc.nlisting").on("click.vc.nlisting",function(b){b.preventDefault(),a(this).closest(d.$outOfStockWrapper).removeClass(d.showNotifyFormClass)}),d.$notifyFormWrapper.children("form").off("valid.vc.nlisting").on("valid.vc.nlisting",function(){var c=a(this),e=c.attr("action"),f={skuid:c.closest("["+b.attr_name("itemid")+"]").attr(b.attr_name("itemid")),email:c.find(".email").val()};b.loading(c.closest(d.$outOfStockWrapper),"start"),a.ajax({url:e,type:"POST",dataType:"json",data:f,success:function(a){1==a.status?(b.notifyMe("That's it! You will be notified when it is available."),c.closest(d.$outOfStockWrapper).removeClass(d.showNotifyFormClass)):b.notifyMe({message:"Oops! Something went wrong. You can try again later.",type:"error"})},error:function(a){b.notifyMe({message:"Oops! Something went wrong. You can try again later.",type:"error"})},complete:function(){b.loading(c.closest(d.$outOfStockWrapper),"stop")}})}),a(c).foundation("reflow")},events:function(){var b=this,c=this.config;c.$loadMoreButton.off("click.vc.nlisting").on("click.vc.nlisting",function(d){d.preventDefault(),a(this).hide(),b.loading(c.$loadMoreWrapper,"start"),c.$productPageWrapper.length?b.fetchProducts():b.fetchBusinesses()}),b.subscribe("vc:store/filter",function(d){if(b.log("Listing page filtered."),b.log(d),d.href)return b.loading(c.$listItemsWrapper,"start"),location.href=d.href,!0;var e=b.getURLParameters();if(c.nlistingBaseURL){var f=location.pathname.replace(c.nlistingBaseURL,"").replace(/\?.*$|#.*$|^\/+|\/+$/g,"");b.log(c.nlistingBaseURL),e.brands=f,b.log(e.brands)}if(b.log(e),d.filters){for(var g=0,h=d.filters.length;h>g;g++){var i=d.filters[g],j=[],k=0;switch(b.log("Iterate filters..."),i.type){case"sort":e[i.type]="";break;case"minprice":b.log("in minprice..."),e[i.type]="";break;case"maxprice":e[i.type]="";break;case"loc":e.flt="city"}e[i.type]&&(j=e[i.type].split("_")),i.checked?(k=a.inArray(i.val,j),0>k&&j.push(i.val)):(k=a.inArray(i.val,j),k>-1&&j.splice(k,1)),e[i.type]=j.join("_"),e[i.type]||delete e[i.type],b.log(a.param(e))}b.loading(c.$innerWrapper,"start");var l=location.href;c.nlistingBaseURL?(l="/"+c.nlistingBaseURL,e.brands&&(l+="/"+e.brands),delete e.brands):l=location.href.replace(/\?.*$|#.*$/,""),a.isEmptyObject(e)||(l+="?"+a.param(e)),location.href=l}})},fetchProducts:function(){var b=this,c=this.config,d=a("#productListingItemsTemplate").html();a.getJSON(c.listItemsURL,c.urlOpts,function(e){b.log(e.object.response);var f={};f.docs=e.object.response.docs,f.user=c.user;var g=doT.template(d)(f),h=a(g);h.find(".st-item").addClass("pre-intro"),c.$productItemsList.append(h),h.find(".st-item").height(),h.find(".st-item").removeClass("pre-intro"),b.publish("vc:track/loadmore",{items:e.object.response.docs}),b.loading(c.$loadMoreWrapper,"stop"),c.pageNum++,c.totalPages||(c.totalPages=e.object.response.numFound/c.itemsPerPage),c.pageNum<c.totalPages&&c.$loadMoreButton.show(),b.log("pageNum: "+c.pageNum,"totalPages: "+c.totalPages),b.notifyEvents(),b.publish("vc:getquote/refresh"),c.urlOpts.cursormark=e.object.nextCursorMark,b.bindScroll()})},fetchBusinesses:function(){var b=this,c=this.config,d=a("#listingItemsTemplate").html();a.getJSON(c.listItemsURL,c.urlOpts,function(e){b.log(e.object.response);var f={};f.docs=e.object.response.docs;var g=doT.template(d)(f),h=a(g).addClass("pre-intro");c.$businessItemsList.append(h),h.height(),h.removeClass("pre-intro"),b.publish("vc:track/loadmore"),b.loading(c.$loadMoreWrapper,"stop"),c.pageNum++,c.totalPages||(c.totalPages=e.object.response.numFound/c.itemsPerPage),c.pageNum<c.totalPages&&c.$loadMoreButton.show(),b.log("pageNum: "+c.pageNum,"totalPages: "+c.totalPages),c.urlOpts.cursormark=e.object.nextCursorMark,b.bindScroll()})},getURLParameters:function(){for(var a,c={},d=/\+/g,e=/([^&=]+)=?([^&]*)/g,f=function(a){return decodeURIComponent(a.replace(d," "))},g=b.location.search.substring(1);a=e.exec(g);)c[f(a[1])]=f(a[2]);return c},bindScroll:function(){var c=this,d=this.config;c.log("In nlisting bindScroll.."),a(b).off("scroll.vc.nlisting").on("scroll.vc.nlisting",c.throttle(function(){c.log("nlisting Scrolling.."),a(b).height()+a(b).scrollTop()>=d.$productItemsList.height()+d.$productItemsList.scrollTop()-d.nListingloadBottomThreshold&&(d.$productPageWrapper.is(":hidden")||(c.log("approved.."),a(b).off("scroll.vc.nlisting"),c.log(d.pageNum,d.totalPages),(!d.totalPages||d.pageNum<d.totalPages)&&(d.$loadMoreButton.hide(),c.loading(d.$loadMoreWrapper,"start"),d.$productPageWrapper.length?c.fetchProducts():c.fetchBusinesses())))},50))}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.checkout={config:{},init:function(){var b=this,c=this.config,d=!1;c.$checktabs=a("["+b.attr_name("checkouttab")+"]"),c.$checkoutWrapper=a(".checkout-wrapper"),c.$deliveryadd=c.$checkoutWrapper.find(".c-delivery-add"),c.$myform=c.$checkoutWrapper.find("#js-form"),c.$loginform=c.$checkoutWrapper.find("#js-loginform"),c.$guestform=c.$checkoutWrapper.find("#js-guestform"),c.$homeDeliver=c.$checkoutWrapper.find("#HomeDeliver"),c.$selfPick=c.$checkoutWrapper.find("#Selfpick"),c.$addAddressLink=c.$checkoutWrapper.find(".add-address"),c.$noAddress=c.$checkoutWrapper.find(".delivery-address-p"),c.$jsselectAddress=c.$checkoutWrapper.find(".js-selectAddress"),c.$jsselectLocation=c.$checkoutWrapper.find(".js-selectLocation"),c.$deliveryInput=c.$checkoutWrapper.find(".delivery-input-first"),c.$orderEdit=c.$checkoutWrapper.find(".order-edit"),c.$orderDelete=c.$checkoutWrapper.find(".order-delete"),c.$btncancel=c.$checkoutWrapper.find(".checkout-cancel"),c.$deliveryEdit=c.$checkoutWrapper.find(".c-delivery-address"),c.$payDeliver=c.$checkoutWrapper.find("#PayDeliver"),c.$placeOrder=c.$checkoutWrapper.find(".place-order"),c.$onlinePay=c.$checkoutWrapper.find("#OnlinePay"),c.$selectAddress=c.$checkoutWrapper.find("#select-address"),c.$summaryContinue=c.$checkoutWrapper.find("#summary-continue"),c.$selectLocation=c.$checkoutWrapper.find("#select-location"),c.$paymentT=c.$checkoutWrapper.find(".btn-delivery"),c.$paymentQ=c.$checkoutWrapper.find(".btn-delivery-q"),c.$paymentS=c.$checkoutWrapper.find(".btn-delivery-s"),c.$deliveryT=c.$checkoutWrapper.find(".btn-login-guest"),c.$continueT=c.$checkoutWrapper.find(".btn-payment"),c.$loginSection=c.$checkoutWrapper.find("#login"),c.$deliverySection=c.$checkoutWrapper.find("#delivery"),c.$paymentSection=c.$checkoutWrapper.find("#payment"),c.$tabLinks=c.$checkoutWrapper.find(".subnav-list li a"),c.$accordionLink=c.$checkoutWrapper.find(".accordion .accordion-section-title"),c.$accordionlogin=c.$checkoutWrapper.find("#login"),c.$accordion=c.$checkoutWrapper.find(".accordion"),c.$tabContent=c.$checkoutWrapper.find(".tab-container").children(),c.$accordionSectionActive=c.$checkoutWrapper.find(".accordion .accordion-section-title.active"),c.$accordionSectionContent=c.$checkoutWrapper.find(".accordion .accordion-section-content"),a(".accordion "+c.$accordionSectionActive.attr("href")).show(),c.$accordionLink.click(function(b){var e=a(this).attr("href");d===!0&&(a(this).addClass("active"),c.$accordionSectionContent.hide(),a(".accordion "+e).slideDown(300).addClass("open")),b.preventDefault()}),c.$paymentQ.off("click.vc.checkout").on("click.vc.checkout",function(b){b.preventDefault(),d=!0,a(".accordion .accordion-section:not(.active) [data-payment-trigger]").trigger("click"),a(".js-delivery .js-success").show()}),c.$paymentS.off("click.vc.checkout").on("click.vc.checkout",function(b){b.preventDefault(),d=!0,a(".accordion .accordion-section:not(.active) [data-payment-trigger]").trigger("click"),a("body, html").scrollTop(0),a(".js-delivery .js-success").show()}),c.$continueT.off("click.vc.checkout").on("click.vc.checkout",function(b){b.preventDefault(),a(".js-payment .js-success").show()}),c.$tabLinks.off("click.vc.checkout").on("click.vc.checkout",function(b){b.preventDefault();var d=this.hash,e=a(this);e.closest("li").addClass("active").siblings().removeClass("active"),c.$tabContent.hide(),a(d).show()}),c.$myform.on("valid.fndtn.abide",function(){d=!0,a(".accordion .accordion-section:not(.active) [data-payment-trigger]").trigger("click"),a("body, html").scrollTop(0),a(".js-delivery .js-success").show()}),c.$loginform.on("valid.fndtn.abide",function(){d=!0,a(".accordion .accordion-section:not(.active) [data-delivery-trigger]").trigger("click"),a(".js-login .js-success").show()}),c.$guestform.on("valid.fndtn.abide",function(){d=!0,a(".accordion .accordion-section:not(.active) [data-delivery-trigger]").trigger("click"),a(".js-login .js-success").show()}),this.events()},events:function(){var b=this.config;b.$jsselectAddress.off("click.vc.checkout").on("click.vc.checkout",function(c){a(this).closest("li").addClass("c-selectedaddress").find(".js-success").removeClass("c-hide"),b.$paymentS.removeClass("disabled")}),b.$jsselectLocation.off("click.vc.checkout").on("click.vc.checkout",function(c){a(this).is(":checked")&&b.$paymentQ.removeClass("disabled")}),b.$btncancel.off("click.vc.checkout").on("click.vc.checkout",function(a){b.$deliveryInput.hide(),b.$noAddress.fadeIn()}),b.$orderDelete.off("click.vc.checkout").on("click.vc.checkout",function(b){a(this).closest("li").addClass("c-hide")}),b.$orderEdit.off("click.vc.checkout").on("click.vc.checkout",function(a){b.$noAddress.hide(),b.$deliveryInput.fadeIn()}),b.$homeDeliver.off("click.vc.checkout").on("click.vc.checkout",function(c){a(this).is(":checked")&&(b.$selectAddress.fadeIn(),b.$summaryContinue.fadeIn(),b.$selectLocation.hide())}),b.$selfPick.off("click.vc.checkout").on("click.vc.checkout",function(c){a(this).is(":checked")&&(b.$selectLocation.fadeIn(),b.$summaryContinue.fadeIn(),b.$selectAddress.hide())}),b.$addAddressLink.off("click.vc.checkout").on("click.vc.checkout",function(a){b.$noAddress.hide(),b.$deliveryInput.fadeIn()}),b.$payDeliver.off("click.vc.checkout").on("click.vc.checkout",function(c){a(this).is(":checked")&&b.$placeOrder.fadeIn()}),b.$onlinePay.off("click.vc.checkout").on("click.vc.checkout",function(c){a(this).is(":checked")&&b.$placeOrder.fadeIn()})}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.itemdetails={init:function(){var b=this,c=this.config;c.itemDetailsContainer=a(".pdt-wrapper"),c.getQuoteForm=c.itemDetailsContainer.find(".getquote-form"),c.getQuoteBtn=c.itemDetailsContainer.find("["+b.attr_name("quote")+"]"),c.quoteModal=c.itemDetailsContainer.find("#quoteModal"),b.log("We are in the item details component."),this.events()},events:function(){var b=this,c=this.config;c.getQuoteBtn.on("click",function(d){d.preventDefault();var e=a(".product-name").text(),f=a(".pdt-gallery img").attr("src"),g=a(".item-price .main").text(),h=a(this).closest(".item-details").find(".item-title").text(),i=a(this).closest("["+b.attr_name("supplierid")+"]").attr(b.attr_name("supplierid")),j=a(this).closest("["+b.attr_name("itemid")+"]").attr(b.attr_name("itemid"));c.quoteModal.find(".item-name").text(e||""),c.quoteModal.find(".item-image img").attr("src",f||""),c.quoteModal.find(".item-price").text(g||""),c.quoteModal.find(".business-name").text(h||""),c.quoteModal.find(".supplierid").val(i),c.quoteModal.find(".itemid").val(j),c.quoteModal.foundation("reveal","open")}),c.getQuoteForm.on("valid",function(){var d=a(this),e=a(this).attr("action"),f={itemid:d.find(".itemid").val(),supplierid:d.find(".supplierid").val(),name:d.find(".username").val(),phone:d.find(".phone").val(),whenToBuy:d.find("input:radio[name=whenToBuy]:checked").val(),message:d.find(".message").val()};b.log(f),b.loading(c.quoteModal,"start"),a.ajax({url:e,type:"POST",dataType:"json",data:f,success:function(a){1==a.status?(c.quoteModal.foundation("reveal","close"),b.notifyMe("Your enquiry has been made to the business owner.")):b.notifyMe("Oops! Something went wrong. You can try again later.")},complete:function(){b.loading(c.quoteModal,"stop")}}),b.log("Quote form submitted.")})}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.profilePage={init:function(){var b=this.config,c=b.profilePage;c.$container=a(".userprofile-content"),c.orderContainerSelector=".order-container",c.openCancelOrderLinkSelector=".js-open-cancel-order",c.cancelOrderSectionSelector=".js-cancel-order-section",c.closeCancelOrderLinkSelector=".js-close-cancel-order",c.orderItemContainerSelector=".order-item",c.openCancelItemLinkSelector=".js-open-cancel-item",c.cancelItemSectionSelector=".js-cancel-item-section",c.closeCancelItemLinkSelector=".js-close-cancel-item",this.events()},events:function(){var b=this.config,c=b.profilePage;c.$container.off("click.vc.profilePage",c.openCancelOrderLinkSelector).on("click.vc.profilePage",c.openCancelOrderLinkSelector,function(b){b.preventDefault(),a(this).hide().closest(c.orderContainerSelector).find(c.cancelOrderSectionSelector).fadeIn()}),c.$container.off("click.vc.profilePage",c.closeCancelOrderLinkSelector).on("click.vc.profilePage",c.closeCancelOrderLinkSelector,function(b){b.preventDefault(),a(this).closest(c.cancelOrderSectionSelector).hide().closest(c.orderContainerSelector).find(c.openCancelOrderLinkSelector).fadeIn()}),c.$container.off("click.vc.profilePage",c.openCancelItemLinkSelector).on("click.vc.profilePage",c.openCancelItemLinkSelector,function(b){b.preventDefault(),a(this).hide().closest(c.orderItemContainerSelector).find(c.cancelItemSectionSelector).fadeIn()}),c.$container.off("click.vc.profilePage",c.closeCancelItemLinkSelector).on("click.vc.profilePage",c.closeCancelItemLinkSelector,function(b){b.preventDefault(),a(this).closest(c.cancelItemSectionSelector).hide().closest(c.orderItemContainerSelector).find(c.openCancelItemLinkSelector).fadeIn()})}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.nadvertise_page={config:{nadvertise_page:{jumbotronBtnScrollDuration:1e3,jumbotronBtnScrollOffset:200}},init:function(){var b=this.config,c=b.nadvertise_page;c.$pageWrapper=a(".new-advertise"),c.$jumbotronBtn=c.$pageWrapper.find(".js-jumbotron-btn"),c.$salesForm=c.$pageWrapper.find(".js-sales-form"),this.events()},events:function(){var b=this.config,c=b.nadvertise_page;c.$jumbotronBtn.off("click.vc.nadvertise_page").on("click.vc.nadvertise_page",function(b){b.preventDefault(),a("body,html").animate({scrollTop:c.$salesForm.offset().top-c.jumbotronBtnScrollOffset},c.jumbotronBtnScrollDuration)})}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.nabout_page={config:{nabout_page:{}},init:function(){var b=this.config,c=b.nabout_page;c.$pageWrapper=a(".new-about-wrapper"),c.$timeline=c.$pageWrapper.find(".js-story-timeline"),c.$viewTimelineBtn=c.$pageWrapper.find(".js-view-timeline"),c.$timelineStories=c.$timeline.find("li"),c.$timelineStories.slice(0,2).addClass("visible"),c.$unseenStories=c.$timelineStories,this.events()},events:function(){var c=this.config,d=c.nabout_page;d.$viewTimelineBtn.off("click.vc.nabout_page").on("click.vc.nabout_page",function(a){a.preventDefault(),d.$timeline.removeClass("show-small")}),a(b).off("scroll.vc.nabout_page").on("scroll.vc.nabout_page",function(c){var e=a(b),f=e.scrollTop(),g=f+e.height(),h=e.scrollLeft();h+e.width();if(!d.$timeline.hasClass("show-small")){var i=d.$unseenStories.filter(function(){var b=a(this);return b.offset().top<=g-200&&b.offset().top+b.height()>f+200});i.addClass("visible"),d.$unseenStories=d.$unseenStories.not(i)}})}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.sellersummit={config:{},init:function(){var b=this.config;b.$sellersummitWrapper=a(".o-sellersummit"),b.$sellersummitarrowtop=b.$sellersummitWrapper.find(".js-sellersummit__arrow"),b.$sellersummitviewall=b.$sellersummitWrapper.find(".js-sellersummit__viewfull"),b.$sellersummitcontent=b.$sellersummitWrapper.find(".c-sellersummit__content"),b.$sellersummitschedule=b.$sellersummitWrapper.find(".js-sellersummit__schedule"),b.$sellersummitarrowtop.off("click.vc.sellersummit").on("click.vc.sellersummit",function(b){b.preventDefault(),a("html, body").animate({scrollTop:"500px"},800)}),b.$sellersummitviewall.off("click.vc.sellersummit").on("click.vc.sellersummit",function(a){a.preventDefault(),b.$sellersummitschedule.fadeIn()}),this.events()},events:function(){}}}(jQuery,window,document),function(a,b,c,d){b.app.comps.hashChange={init:function(){this.events()},events:function(){var a=this,c=(this.config,{changeEnabled:!1});"onhashchange"in b&&(b.onhashchange=function(){c.changeEnabled=!0,c.hash=b.location.hash.replace("#",""),a.publish("vc:hashChange",c)}),c.hash=b.location.hash.replace("#",""),a.publish("vc:hashChange",c),a.reply("vc:currentHash",function(){return c})}}}(jQuery,window,document);